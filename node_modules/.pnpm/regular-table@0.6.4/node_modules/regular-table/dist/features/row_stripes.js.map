{"version":3,"sources":["row_stripes.md"],"names":[],"mappings":"AAuCC,MAAA,iBAAA,GAAA,SAAA;AACA,MAAA,gBAAA,GAAA,iBAAA;AAEA,OAAA,MAAA,gBAAA,GAAA,CAAA,KAAA,EAAA;AAAA,EAAA,mBAAA,GAAA,iBAAA;AAAA,EAAA,kBAAA,GAAA;AAAA,IAAA,EAAA,KAAA;AACA,QAAA,mBAAA,GAAA,KAAA,CAAA,gBAAA,CAAA,MAAA;AACA,UAAA,GAAA,GAAA,KAAA,CAAA,gBAAA,CAAA,4BAAA,CAAA;AACA,UAAA,IAAA,GAAA,KAAA,CAAA,OAAA,CAAA,GAAA,CAAA,CAAA,CAAA,CAAA;;AAEA,QAAA,IAAA,EAAA;AACA,UAAA,IAAA,CAAA,EAAA,GAAA,CAAA,KAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,SAAA,CAAA,MAAA,CAAA,kBAAA;AACA,QAAA,KAAA,CAAA,SAAA,CAAA,GAAA,CAAA,mBAAA;AACA,OAHA,MAGA;AACA,QAAA,KAAA,CAAA,SAAA,CAAA,MAAA,CAAA,mBAAA;AACA,QAAA,KAAA,CAAA,SAAA,CAAA,GAAA,CAAA,kBAAA;AACA;AACA;AACA,GAbA,CAAA;AAeA,SAAA,MAAA;AACA,IAAA,mBAAA;AACA,IAAA,KAAA,CAAA,SAAA,CAAA,MAAA,CAAA,mBAAA;AACA,IAAA,KAAA,CAAA,SAAA,CAAA,MAAA,CAAA,kBAAA;AACA,GAJA;AAKA,CArBA","sourcesContent":["# Row Stripes\n\nAdding row stripes to a table, at its most basic, could be accomplished by adding `odd` and `even` css rules to each of the rows in the `<regular-table>`. Given this approach, a user would notice that\non `\"scroll\"` the rows don't alternate, and the stripes remain fixed. The top-most row would always show the darker `background-color`, and the next row would retain its lighter, even\n`background-color` - repeating for each row and making the striping look inconsistent.\n\nBy alternating our css rules based on the oddness or evenness of the first row in the data set, we can ensure that the data and stripes style remain consistent as the user scrolls the table.\n\n# API\n\n```html\n<regular-table id=\"example_table\"></regular-table>\n```\n\nLets set up by using `dataListener()` from `two_billion_rows` to create a data set and then call `setDataListener()` with it. Next we'll call our `alternateStripes()` function passing in the\n`<regular-table>` and then invoke `draw()` - checking that the `#stripedRegularTable` exists first. All of this will be invoked on `\"load\"`.\n\n```html\n<script type=\"module\">\n    import { alternateStripes } from \"./row_stripes.js\";\n    import { dataListener } from \"/dist/examples/two_billion_rows.js\";\n\n    window.addEventListener(\"load\", () => {\n        const dl = dataListener(1000, 50);\n        example_table.setDataListener(dl);\n        window.removeStripes = alternateStripes(example_table);\n        example_table.draw();\n    });\n</script>\n```\n\n## `alternateStripes()`\n\nAdding a `StyleListener` to the `<regular-table>` in our `alternateStripes()` function will ensure that the odd and even styling will alternate depending on the oddness/evenness of the top-most row.\nWe can `getMeta()` from the table and add/remove our `.stipes` and `.reverse-stripes` classes based on the evenness of the `meta.y0` or the `y` index of the viewport origin. We will also make sure to\nreturn a function that removes the style listener (using the return value of `addStyleListener()`) and the attached classes for cleanup purposes. Once this function is called, the stripes will be gone\nand no longer get applied as the user scrolls - this is because the style listener has been removed.\n\n```javascript\nconst EVEN_STRIPE_CLASS = \"stripes\";\nconst ODD_STRIPE_CLASS = \"reverse-stripes\";\n\nexport const alternateStripes = (table, { evenStripeClassName = EVEN_STRIPE_CLASS, oddStripeClassName = ODD_STRIPE_CLASS } = {}) => {\n    const removeStyleListener = table.addStyleListener(() => {\n        const tds = table.querySelectorAll(\"tbody tr:nth-of-type(1) td\");\n        const meta = table.getMeta(tds[0]);\n\n        if (meta) {\n            if (meta.y0 % 2 === 0) {\n                table.classList.remove(oddStripeClassName);\n                table.classList.add(evenStripeClassName);\n            } else {\n                table.classList.remove(evenStripeClassName);\n                table.classList.add(oddStripeClassName);\n            }\n        }\n    });\n\n    return () => {\n        removeStyleListener();\n        table.classList.remove(evenStripeClassName);\n        table.classList.remove(oddStripeClassName);\n    };\n};\n```\n\n## Styling\n\nFor some basic stripes, we could simply add a `.stripes` class alternating the style on `tr:nth-child(odd)` and `tr:nth-child(even)`.\n\n```css\n.stripes tbody tr:nth-child(odd) td {\n    background-color: #eaedef;\n}\n\n.stripes tbody tr:nth-child(even) td {\n    background-color: white;\n}\n```\n\nAnd a `.reverse-stripes` class that swaps the `odd` and `even` styles.\n\n```css\n.reverse-stripes tbody tr:nth-child(odd) td {\n    background-color: white;\n}\n\n.reverse-stripes tbody tr:nth-child(even) td {\n    background-color: #eaedef;\n}\n```\n\n## Appendix (Dependencies)\n\n```html\n<script src=\"/dist/esm/regular-table.js\"></script>\n<link rel=\"stylesheet\" href=\"/dist/css/material.css\" />\n```\n\n```block\nlicense: apache-2.0\n```\n\n"]}