!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@d3fc/d3fc-rebind"),require("d3-selection"),require("d3-scale"),require("@d3fc/d3fc-axis"),require("@d3fc/d3fc-data-join"),require("@d3fc/d3fc-element"),require("@d3fc/d3fc-series")):"function"==typeof define&&define.amd?define(["exports","@d3fc/d3fc-rebind","d3-selection","d3-scale","@d3fc/d3fc-axis","@d3fc/d3fc-data-join","@d3fc/d3fc-element","@d3fc/d3fc-series"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).fc=e.fc||{},e.fc,e.d3,e.d3,e.fc,e.fc,e.fc,e.fc)}(this,(function(e,t,n,r,i,a,c,o){"use strict";var l=function(){for(var e={},t=function(t){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i].apply(null,e[i])}return t},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=function(){var n=o[c];t[n]=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return i.length?(e[n]=i,t):e[n]}},c=0,o=r;c<o.length;c++)a();return t},d="d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}\nd3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}\nd3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}\nd3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}\nd3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}\nd3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}\nd3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}",s=document.createElement("style");s.setAttribute("type","text/css"),document.querySelector("head").appendChild(s),s.styleSheet?s.styleSheet.cssText+=d:s.textContent+=d;var u=function(e){return"function"==typeof e?e:function(){return e}},g=function(){var e=f.apply(void 0,arguments),r=e.xScale,i=e.yScale,c=e.xAxis,o=e.yAxis,d=u(""),s=u(""),g=u(""),m=u(null),h=u(null),x=u("right"),y=u("bottom"),p=null,v=null,w=null,b=!1,S=!0,k=l("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),A=function(){},j=l("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),C=function(){},L=function(){},q=a.dataJoin("d3fc-group","cartesian-chart"),R=a.dataJoin("d3fc-canvas","webgl-plot-area"),J=a.dataJoin("d3fc-canvas","canvas-plot-area"),O=a.dataJoin("d3fc-svg","svg-plot-area"),P=a.dataJoin("d3fc-svg","x-axis").key((function(e){return e})),z=a.dataJoin("d3fc-svg","y-axis").key((function(e){return e})),T=a.dataJoin("div","chart-label"),D=a.dataJoin("div","x-label").key((function(e){return e})),I=a.dataJoin("div","y-label").key((function(e){return e})),B=function(e){var t,l=(t=e,function(e){return a.isTransition(t)?e.transition(t):e});e.each((function(e,t,a){var u=q(n.select(a[t]),[e]);u.enter().attr("auto-resize",""),T(u,[y(e)]).attr("class",(function(e){return"top"===e?"chart-label bottom-label":"chart-label top-label"})).style("margin-bottom",(function(e){return"top"===e?0:"1em"})).style("margin-top",(function(e){return"top"===e?"1em":0})).text(d(e)),D(u,[y(e)]).attr("class",(function(e){return"x-label ".concat(e,"-label")})).text(s(e)),I(u,[x(e)]).attr("class",(function(e){return"y-label ".concat(e,"-label")})).text(g(e)),R(u,p?[e]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",S).on("draw",(function(e,t){var n=e.detail,a=n.child,c=n.pixelRatio;p.context(b?null:a.getContext("webgl")).pixelRatio(c).xScale(r).yScale(i),p(t)})),u.select(".webgl-plot-area>canvas").on("webglcontextlost",(function(e){console.warn("WebGLRenderingContext lost"),e.preventDefault(),b=!0,u.node().requestRedraw()})).on("webglcontextrestored",(function(){console.info("WebGLRenderingContext restored"),b=!1,u.node().requestRedraw()})),J(u,v?[e]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",S).on("draw",(function(e,t){var n=e.detail,a=n.child,c=n.pixelRatio,o=a.getContext("2d");o.save(),S&&o.scale(c,c),v.context(o).xScale(r).yScale(i),v(t),o.restore()})),O(u,w?[e]:[]).classed("plot-area",!0).on("draw",(function(e,t){var a=e.detail.child;w.xScale(r).yScale(i),l(n.select(a).datum(t)).call(w)})),P(u,[y(e)]).attr("class",(function(e){return"x-axis ".concat(e,"-axis")})).style("height",m(e)).on("measure",(function(e,t){var i=e.detail,a=i.width,c=i.height,o=i.child;"top"===t&&n.select(o).attr("viewBox","0 ".concat(-c," ").concat(a," ").concat(c)),r.range([0,a])})).on("draw",(function(e,t){var i=e.detail.child,a="top"===t?c.top(r):c.bottom(r);a.decorate(A),l(n.select(i).datum(t)).call(k(a))})),z(u,[x(e)]).attr("class",(function(e){return"y-axis ".concat(e,"-axis")})).style("width",h(e)).on("measure",(function(e,t){var r=e.detail,a=r.width,c=r.height,o=r.child;"left"===t&&n.select(o).attr("viewBox","".concat(-a," 0 ").concat(a," ").concat(c)),i.range([c,0])})).on("draw",(function(e,t){var r=e.detail.child,a="left"===t?o.left(i):o.right(i);a.decorate(C),l(n.select(r).datum(t)).call(j(a))})),u.each((function(e,t,n){return n[t].requestRedraw()})),L(u,e,t)}))},F=t.exclude(/range\w*/,/tickFormat/);return t.rebindAll(B,r,F,t.prefix("x")),t.rebindAll(B,i,F,t.prefix("y")),t.rebindAll(B,k,t.prefix("x")),t.rebindAll(B,j,t.prefix("y")),B.xOrient=function(){return arguments.length?(y=u(arguments.length<=0?void 0:arguments[0]),B):y},B.yOrient=function(){return arguments.length?(x=u(arguments.length<=0?void 0:arguments[0]),B):x},B.xDecorate=function(){return arguments.length?(A=arguments.length<=0?void 0:arguments[0],B):A},B.yDecorate=function(){return arguments.length?(C=arguments.length<=0?void 0:arguments[0],B):C},B.chartLabel=function(){return arguments.length?(d=u(arguments.length<=0?void 0:arguments[0]),B):d},B.xLabel=function(){return arguments.length?(s=u(arguments.length<=0?void 0:arguments[0]),B):s},B.yLabel=function(){return arguments.length?(g=u(arguments.length<=0?void 0:arguments[0]),B):g},B.xAxisHeight=function(){return arguments.length?(m=u(arguments.length<=0?void 0:arguments[0]),B):m},B.yAxisWidth=function(){return arguments.length?(h=u(arguments.length<=0?void 0:arguments[0]),B):h},B.webglPlotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],B):p},B.canvasPlotArea=function(){return arguments.length?(v=arguments.length<=0?void 0:arguments[0],B):v},B.svgPlotArea=function(){return arguments.length?(w=arguments.length<=0?void 0:arguments[0],B):w},B.decorate=function(){return arguments.length?(L=arguments.length<=0?void 0:arguments[0],B):L},B.useDevicePixelRatio=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],B):S},B},f=function(){for(var e={xScale:r.scaleIdentity(),yScale:r.scaleIdentity(),xAxis:{bottom:i.axisBottom,top:i.axisTop},yAxis:{right:i.axisRight,left:i.axisLeft}},t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return 1!==n.length||n[0].domain||n[0].range?Object.assign(e,{xScale:n[0]||e.xScale,yScale:n[1]||e.yScale}):Object.assign(e,n[0])},m=function(e){return"function"==typeof e?e:function(){return e}},h=function(e,n){return function(){var r=m(""),i=n,a=function(){},c=g.apply(void 0,arguments),o=function(t){e(c,i),c.decorate((function(e,t,n){e.enter().select(".x-label").style("height","1em").style("line-height","1em");var i=c.yOrient()(t);e.enter().append("div").attr("class","y-label-container").style("grid-column","left"===i?1:5).style("-ms-grid-column","left"===i?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),e.select(".y-label-container>.y-label").text(r),a(e,t,n)})),t.call(c)};return t.rebindAll(o,c,t.include(/^x/,/^y/,"chartLabel")),o.yLabel=function(){return arguments.length?(r=m(arguments.length<=0?void 0:arguments[0]),o):r},o.plotArea=function(){return arguments.length?(i=arguments.length<=0?void 0:arguments[0],o):i},o.decorate=function(){return arguments.length?(a=arguments.length<=0?void 0:arguments[0],o):a},o}},x=h((function(e,t){return e.svgPlotArea(t)}),o.seriesSvgLine),y=h((function(e,t){return e.canvasPlotArea(t)}),o.seriesCanvasLine);e.chartCanvasCartesian=y,e.chartCartesian=g,e.chartSvgCartesian=x,Object.defineProperty(e,"__esModule",{value:!0})}));
