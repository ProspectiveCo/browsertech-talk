var _9=Object.create;var Nl=Object.defineProperty;var S9=Object.getOwnPropertyDescriptor;var M9=Object.getOwnPropertyNames;var T9=Object.getPrototypeOf,C9=Object.prototype.hasOwnProperty;var P=(e,t)=>()=>(e&&(t=e(e=0)),t);var ir=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ln=(e,t)=>{for(var n in t)Nl(e,n,{get:t[n],enumerable:!0})},Z0=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of M9(t))!C9.call(e,a)&&a!==n&&Nl(e,a,{get:()=>t[a],enumerable:!(r=S9(t,a))||r.enumerable});return e};var pt=(e,t,n)=>(n=e!=null?_9(T9(e)):{},Z0(t||!e||!e.__esModule?Nl(n,"default",{value:e,enumerable:!0}):n,e)),Sr=e=>Z0(Nl({},"__esModule",{value:!0}),e);function Mt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}var or=P(()=>{});function Jo(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}var If=P(()=>{});function ga(e){let t,n,r;e.length!==2?(t=Mt,n=(l,s)=>Mt(e(l),s),r=(l,s)=>e(l)-s):(t=e===Mt||e===Jo?e:A9,n=e,r=e);function a(l,s,f=0,m=l.length){if(f<m){if(t(s,s)!==0)return m;do{let w=f+m>>>1;n(l[w],s)<0?f=w+1:m=w}while(f<m)}return f}function i(l,s,f=0,m=l.length){if(f<m){if(t(s,s)!==0)return m;do{let w=f+m>>>1;n(l[w],s)<=0?f=w+1:m=w}while(f<m)}return f}function o(l,s,f=0,m=l.length){let w=a(l,s,f,m-1);return w>f&&r(l[w-1],s)>-r(l[w],s)?w-1:w}return{left:a,center:o,right:i}}function A9(){return 0}var Rf=P(()=>{or();If()});function Ka(e){return e===null?NaN:+e}function*K0(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}var Ff=P(()=>{});var J0,Bf,ev,tv,Zi,Hf=P(()=>{or();Rf();Ff();J0=ga(Mt),Bf=J0.right,ev=J0.left,tv=ga(Ka).center,Zi=Bf});function nv(e,t){if(!((t=+t)>=0))throw new RangeError("invalid r");let n=e.length;if(!((n=Math.floor(n))>=0))throw new RangeError("invalid length");if(!n||!t)return e;let r=Yf(t),a=e.slice();return r(e,a,0,n,1),r(a,e,0,n,1),r(e,a,0,n,1),e}function iv(e){return function(t,n,r=n){if(!((n=+n)>=0))throw new RangeError("invalid rx");if(!((r=+r)>=0))throw new RangeError("invalid ry");let{data:a,width:i,height:o}=t;if(!((i=Math.floor(i))>=0))throw new RangeError("invalid width");if(!((o=Math.floor(o!==void 0?o:a.length/i))>=0))throw new RangeError("invalid height");if(!i||!o||!n&&!r)return t;let l=n&&e(n),s=r&&e(r),f=a.slice();return l&&s?(Ki(l,f,a,i,o),Ki(l,a,f,i,o),Ki(l,f,a,i,o),Ji(s,a,f,i,o),Ji(s,f,a,i,o),Ji(s,a,f,i,o)):l?(Ki(l,a,f,i,o),Ki(l,f,a,i,o),Ki(l,a,f,i,o)):s&&(Ji(s,a,f,i,o),Ji(s,f,a,i,o),Ji(s,a,f,i,o)),t}}function Ki(e,t,n,r,a){for(let i=0,o=r*a;i<o;)e(t,n,i,i+=r,1)}function Ji(e,t,n,r,a){for(let i=0,o=r*a;i<r;++i)e(t,n,i,i+o,r)}function k9(e){let t=Yf(e);return(n,r,a,i,o)=>{a<<=2,i<<=2,o<<=2,t(n,r,a+0,i+0,o),t(n,r,a+1,i+1,o),t(n,r,a+2,i+2,o),t(n,r,a+3,i+3,o)}}function Yf(e){let t=Math.floor(e);if(t===e)return V9(e);let n=e-t,r=2*e+1;return(a,i,o,l,s)=>{if(!((l-=s)>=o))return;let f=t*i[o],m=s*t,w=m+s;for(let v=o,M=o+m;v<M;v+=s)f+=i[Math.min(l,v)];for(let v=o,M=l;v<=M;v+=s)f+=i[Math.min(l,v+m)],a[v]=(f+n*(i[Math.max(o,v-w)]+i[Math.min(l,v+w)]))/r,f-=i[Math.max(o,v-m)]}}function V9(e){let t=2*e+1;return(n,r,a,i,o)=>{if(!((i-=o)>=a))return;let l=e*r[a],s=o*e;for(let f=a,m=a+s;f<m;f+=o)l+=r[Math.min(i,f)];for(let f=a,m=i;f<=m;f+=o)l+=r[Math.min(i,f+s)],n[f]=l/t,l-=r[Math.max(a,f-s)]}}var rv,av,ov=P(()=>{rv=iv(Yf),av=iv(k9)});function Ur(e,t){let n=0;if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&++n;else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(a=+a)>=a&&++n}return n}var eu=P(()=>{});function D9(e){return e.length|0}function N9(e){return!(e>0)}function E9(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function P9(e){return t=>e(...t)}function Wf(...e){let t=typeof e[e.length-1]=="function"&&P9(e.pop());e=e.map(E9);let n=e.map(D9),r=e.length-1,a=new Array(r+1).fill(0),i=[];if(r<0||n.some(N9))return i;for(;;){i.push(a.map((l,s)=>e[s][l]));let o=r;for(;++a[o]===n[o];){if(o===0)return t?i.map(t):i;a[o--]=0}}}var uv=P(()=>{});function $f(e,t){var n=0,r=0;return Float64Array.from(e,t===void 0?a=>n+=+a||0:a=>n+=+t(a,r++,e)||0)}var lv=P(()=>{});function tu(e,t){let n=0,r,a=0,i=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-a,a+=r/++n,i+=r*(o-a));else{let o=-1;for(let l of e)(l=t(l,++o,e))!=null&&(l=+l)>=l&&(r=l-a,a+=r/++n,i+=r*(l-a))}if(n>1)return i/(n-1)}var Uf=P(()=>{});function nu(e,t){let n=tu(e,t);return n&&Math.sqrt(n)}var qf=P(()=>{Uf()});function Ja(e,t){let n,r;if(t===void 0)for(let a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}var Gf=P(()=>{});function cv(e,t){let n=new eo;if(t===void 0)for(let r of e)(r=+r)&&n.add(r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&n.add(a)}return+n}function sv(e,t){let n=new eo,r=-1;return Float64Array.from(e,t===void 0?a=>n.add(+a||0):a=>n.add(+t(a,++r,e)||0))}var eo,fv=P(()=>{eo=class{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){let n=this._partials,r=0;for(let a=0;a<this._n&&a<32;a++){let i=n[a],o=t+i,l=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);l&&(n[r++]=l),t=o}return n[r]=t,this._n=r+1,this}valueOf(){let t=this._partials,n=this._n,r,a,i,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,a=t[--n],o=r+a,i=a-(o-r),!i););n>0&&(i<0&&t[n-1]<0||i>0&&t[n-1]>0)&&(a=i*2,r=o+a,a==r-o&&(o=r))}return o}}});function Xf({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):n}function dv({_intern:e,_key:t},n){let r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function mv({_intern:e,_key:t},n){let r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hv(e){return e!==null&&typeof e=="object"?e.valueOf():e}var ur,On,va=P(()=>{ur=class extends Map{constructor(t,n=hv){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let[r,a]of t)this.set(r,a)}get(t){return super.get(Xf(this,t))}has(t){return super.has(Xf(this,t))}set(t,n){return super.set(dv(this,t),n)}delete(t){return super.delete(mv(this,t))}},On=class extends Set{constructor(t,n=hv){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(let r of t)this.add(r)}has(t){return super.has(Xf(this,t))}add(t){return super.add(dv(this,t))}delete(t){return super.delete(mv(this,t))}}});function qr(e){return e}var jf=P(()=>{});function ru(e,...t){return to(e,qr,qr,t)}function Qf(e,...t){return to(e,Array.from,qr,t)}function pv(e,t){for(let n=1,r=t.length;n<r;++n)e=e.flatMap(a=>a.pop().map(([i,o])=>[...a,i,o]));return e}function gv(e,...t){return pv(Qf(e,...t),t)}function vv(e,t,...n){return pv(Zf(e,t,...n),n)}function El(e,t,...n){return to(e,qr,t,n)}function Zf(e,t,...n){return to(e,Array.from,t,n)}function yv(e,...t){return to(e,qr,xv,t)}function bv(e,...t){return to(e,Array.from,xv,t)}function xv(e){if(e.length!==1)throw new Error("duplicate key");return e[0]}function to(e,t,n,r){return function a(i,o){if(o>=r.length)return n(i);let l=new ur,s=r[o++],f=-1;for(let m of i){let w=s(m,++f,i),v=l.get(w);v?v.push(m):l.set(w,[m])}for(let[m,w]of l)l.set(m,a(w,o));return t(l)}(e,0)}var Kf=P(()=>{va();jf()});function au(e,t){return Array.from(t,n=>e[n])}var Jf=P(()=>{});function no(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){let r=Uint32Array.from(e,(a,i)=>i);return t.length>1?(t=t.map(a=>e.map(a)),r.sort((a,i)=>{for(let o of t){let l=Gr(o[a],o[i]);if(l)return l}})):(n=e.map(n),r.sort((a,i)=>Gr(n[a],n[i]))),au(e,r)}return e.sort(iu(n))}function iu(e=Mt){if(e===Mt)return Gr;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{let r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Gr(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}var ro=P(()=>{or();Jf()});function ed(e,t,n){return(t.length!==2?no(El(e,t,n),([r,a],[i,o])=>Mt(a,o)||Mt(r,i)):no(ru(e,n),([r,a],[i,o])=>t(a,o)||Mt(r,i))).map(([r])=>r)}var wv=P(()=>{or();Kf();ro()});var _v,Sv,fN,Mv=P(()=>{_v=Array.prototype,Sv=_v.slice,fN=_v.map});function ou(e){return()=>e}var Tv=P(()=>{});function Pl(e,t,n){let r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=L9?10:i>=O9?5:i>=z9?2:1,l,s,f;return a<0?(f=Math.pow(10,-a)/o,l=Math.round(e*f),s=Math.round(t*f),l/f<e&&++l,s/f>t&&--s,f=-f):(f=Math.pow(10,a)*o,l=Math.round(e/f),s=Math.round(t/f),l*f<e&&++l,s*f>t&&--s),s<l&&.5<=n&&n<2?Pl(e,t,n*2):[l,s,f]}function ei(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];let r=t<e,[a,i,o]=r?Pl(t,e,n):Pl(e,t,n);if(!(i>=a))return[];let l=i-a+1,s=new Array(l);if(r)if(o<0)for(let f=0;f<l;++f)s[f]=(i-f)/-o;else for(let f=0;f<l;++f)s[f]=(i-f)*o;else if(o<0)for(let f=0;f<l;++f)s[f]=(a+f)/-o;else for(let f=0;f<l;++f)s[f]=(a+f)*o;return s}function lr(e,t,n){return t=+t,e=+e,n=+n,Pl(e,t,n)[2]}function ti(e,t,n){t=+t,e=+e,n=+n;let r=t<e,a=r?lr(t,e,n):lr(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}var L9,O9,z9,Ll=P(()=>{L9=Math.sqrt(50),O9=Math.sqrt(10),z9=Math.sqrt(2)});function uu(e,t,n){let r;for(;;){let a=lr(e,t,n);if(a===r||a===0||!isFinite(a))return[e,t];a>0?(e=Math.floor(e/a)*a,t=Math.ceil(t/a)*a):a<0&&(e=Math.ceil(e*a)/a,t=Math.floor(t*a)/a),r=a}}var td=P(()=>{Ll()});function lu(e){return Math.max(1,Math.ceil(Math.log(Ur(e))/Math.LN2)+1)}var nd=P(()=>{eu()});function Ol(){var e=qr,t=Ja,n=lu;function r(a){Array.isArray(a)||(a=Array.from(a));var i,o=a.length,l,s,f=new Array(o);for(i=0;i<o;++i)f[i]=e(a[i],i,a);var m=t(f),w=m[0],v=m[1],M=n(f,w,v);if(!Array.isArray(M)){let H=v,V=+M;if(t===Ja&&([w,v]=uu(w,v,V)),M=ei(w,v,V),M[0]<=w&&(s=lr(w,v,V)),M[M.length-1]>=v)if(H>=v&&t===Ja){let I=lr(w,v,V);isFinite(I)&&(I>0?v=(Math.floor(v/I)+1)*I:I<0&&(v=(Math.ceil(v*-I)+1)/-I))}else M.pop()}for(var C=M.length,A=0,T=C;M[A]<=w;)++A;for(;M[T-1]>v;)--T;(A||T<C)&&(M=M.slice(A,T),C=T-A);var D=new Array(C+1),R;for(i=0;i<=C;++i)R=D[i]=[],R.x0=i>0?M[i-1]:w,R.x1=i<C?M[i]:v;if(isFinite(s)){if(s>0)for(i=0;i<o;++i)(l=f[i])!=null&&w<=l&&l<=v&&D[Math.min(C,Math.floor((l-w)/s))].push(a[i]);else if(s<0){for(i=0;i<o;++i)if((l=f[i])!=null&&w<=l&&l<=v){let H=Math.floor((w-l)*s);D[Math.min(C,H+(M[H]<=l))].push(a[i])}}}else for(i=0;i<o;++i)(l=f[i])!=null&&w<=l&&l<=v&&D[Zi(M,l,0,C)].push(a[i]);return D}return r.value=function(a){return arguments.length?(e=typeof a=="function"?a:ou(a),r):e},r.domain=function(a){return arguments.length?(t=typeof a=="function"?a:ou([a[0],a[1]]),r):t},r.thresholds=function(a){return arguments.length?(n=typeof a=="function"?a:ou(Array.isArray(a)?Sv.call(a):a),r):n},r}var Cv=P(()=>{Mv();Hf();Tv();Gf();jf();td();Ll();nd()});function Mr(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}var rd=P(()=>{});function ni(e,t){let n,r=-1,a=-1;if(t===void 0)for(let i of e)++a,i!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i,r=a);return r}var zl=P(()=>{});function qn(e,t){let n;if(t===void 0)for(let r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a)}return n}var Il=P(()=>{});function ri(e,t){let n,r=-1,a=-1;if(t===void 0)for(let i of e)++a,i!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);else for(let i of e)(i=t(i,++a,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i,r=a);return r}var Rl=P(()=>{});function ai(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?Gr:iu(a);r>n;){if(r-n>600){let s=r-n+1,f=t-n+1,m=Math.log(s),w=.5*Math.exp(2*m/3),v=.5*Math.sqrt(m*w*(s-w)/s)*(f-s/2<0?-1:1),M=Math.max(n,Math.floor(t-f*w/s+v)),C=Math.min(r,Math.floor(t+(s-f)*w/s+v));ai(e,t,M,C,a)}let i=e[t],o=n,l=r;for(cu(e,n,t),a(e[r],i)>0&&cu(e,n,r);o<l;){for(cu(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[n],i)===0?cu(e,n,l):(++l,cu(e,l,r)),l<=t&&(n=l+1),t<=l&&(r=l-1)}return e}function cu(e,t,n){let r=e[t];e[t]=e[n],e[n]=r}var ad=P(()=>{ro()});function su(e,t=Mt){let n,r=!1;if(t.length===1){let a;for(let i of e){let o=t(i);(r?Mt(o,a)>0:Mt(o,o)===0)&&(n=i,a=o,r=!0)}}else for(let a of e)(r?t(a,n)>0:t(a,a)===0)&&(n=a,r=!0);return n}var id=P(()=>{or()});function ya(e,t,n){if(e=Float64Array.from(K0(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return qn(e);if(t>=1)return Mr(e);var r,a=(r-1)*t,i=Math.floor(a),o=Mr(ai(e,i).subarray(0,i+1)),l=qn(e.subarray(i+1));return o+(l-o)*(a-i)}}function Av(e,t,n=Ka){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),l=+n(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function Fl(e,t,n=Ka){if(!isNaN(t=+t)){if(r=Float64Array.from(e,(l,s)=>Ka(n(e[s],s,e))),t<=0)return ri(r);if(t>=1)return ni(r);var r,a=Uint32Array.from(e,(l,s)=>s),i=r.length-1,o=Math.floor(i*t);return ai(a,o,0,i,(l,s)=>Gr(r[l],r[s])),o=su(a.subarray(0,o+1),l=>r[l]),o>=0?o:-1}}var Bl=P(()=>{rd();zl();Il();Rl();ad();Ff();ro();id()});function od(e,t,n){let r=Ur(e),a=ya(e,.75)-ya(e,.25);return r&&a?Math.ceil((n-t)/(2*a*Math.pow(r,-1/3))):1}var kv=P(()=>{eu();Bl()});function ud(e,t,n){let r=Ur(e),a=nu(e);return r&&a?Math.ceil((n-t)*Math.cbrt(r)/(3.49*a)):1}var Vv=P(()=>{eu();qf()});function ld(e,t){let n=0,r=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++n,r+=a);else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(i=+i)>=i&&(++n,r+=i)}if(n)return r/n}var Dv=P(()=>{});function cd(e,t){return ya(e,.5,t)}function Nv(e,t){return Fl(e,.5,t)}var Ev=P(()=>{Bl()});function*I9(e){for(let t of e)yield*t}function sd(e){return Array.from(I9(e))}var Pv=P(()=>{});function fd(e,t){let n=new ur;if(t===void 0)for(let i of e)i!=null&&i>=i&&n.set(i,(n.get(i)||0)+1);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,a=0;for(let[i,o]of n)o>a&&(a=o,r=i);return r}var Lv=P(()=>{va()});function dd(e,t=R9){let n=[],r,a=!1;for(let i of e)a&&n.push(t(r,i)),r=i,a=!0;return n}function R9(e,t){return[e,t]}var Ov=P(()=>{});function ii(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}var zv=P(()=>{});function md(e,t=Mt){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");let n=Array.from(e),r=new Float64Array(n.length);t.length!==2&&(n=n.map(t),t=Mt);let a=(l,s)=>t(n[l],n[s]),i,o;return e=Uint32Array.from(n,(l,s)=>s),e.sort(t===Mt?(l,s)=>Gr(n[l],n[s]):iu(a)),e.forEach((l,s)=>{let f=a(l,i===void 0?l:i);f>=0?((i===void 0||f>0)&&(i=l,o=s),r[l]=o):r[l]=NaN}),r}var Iv=P(()=>{or();ro()});function hd(e,t=Mt){let n,r=!1;if(t.length===1){let a;for(let i of e){let o=t(i);(r?Mt(o,a)<0:Mt(o,o)===0)&&(n=i,a=o,r=!0)}}else for(let a of e)(r?t(a,n)<0:t(a,a)===0)&&(n=a,r=!0);return n}var Rv=P(()=>{or()});function fu(e,t=Mt){if(t.length===1)return ri(e,t);let n,r=-1,a=-1;for(let i of e)++a,(r<0?t(i,i)===0:t(i,n)<0)&&(n=i,r=a);return r}var pd=P(()=>{or();Rl()});function gd(e,t=Mt){if(t.length===1)return ni(e,t);let n,r=-1,a=-1;for(let i of e)++a,(r<0?t(i,i)===0:t(i,n)>0)&&(n=i,r=a);return r}var Fv=P(()=>{or();zl()});function vd(e,t){let n=fu(e,t);return n<0?void 0:n}var Bv=P(()=>{pd()});function yd(e){return function(n,r=0,a=n.length){let i=a-(r=+r);for(;i;){let o=e()*i--|0,l=n[i+r];n[i+r]=n[o+r],n[o+r]=l}return n}}var Hv,Yv=P(()=>{Hv=yd(Math.random)});function bd(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let a of e)(a=+t(a,++r,e))&&(n+=a)}return n}var Wv=P(()=>{});function du(e){if(!(i=e.length))return[];for(var t=-1,n=qn(e,F9),r=new Array(n);++t<n;)for(var a=-1,i,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function F9(e){return e.length}var xd=P(()=>{Il()});function wd(){return du(arguments)}var $v=P(()=>{xd()});function _d(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(let r of e)if(!t(r,++n,e))return!1;return!0}var Uv=P(()=>{});function Sd(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=-1;for(let r of e)if(t(r,++n,e))return!0;return!1}var qv=P(()=>{});function Md(e,t){if(typeof t!="function")throw new TypeError("test is not a function");let n=[],r=-1;for(let a of e)t(a,++r,e)&&n.push(a);return n}var Gv=P(()=>{});function Td(e,t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");if(typeof t!="function")throw new TypeError("mapper is not a function");return Array.from(e,(n,r)=>t(n,r,e))}var Xv=P(()=>{});function Cd(e,t,n){if(typeof t!="function")throw new TypeError("reducer is not a function");let r=e[Symbol.iterator](),a,i,o=-1;if(arguments.length<3){if({done:a,value:n}=r.next(),a)return;++o}for(;{done:a,value:i}=r.next(),!a;)n=t(n,i,++o,e);return n}var jv=P(()=>{});function Ad(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}var Qv=P(()=>{});function kd(e,...t){e=new On(e);for(let n of t)for(let r of n)e.delete(r);return e}var Zv=P(()=>{va()});function Vd(e,t){let n=t[Symbol.iterator](),r=new On;for(let a of e){if(r.has(a))return!1;let i,o;for(;({value:i,done:o}=n.next())&&!o;){if(Object.is(a,i))return!1;r.add(i)}}return!0}var Kv=P(()=>{va()});function Dd(e,...t){e=new On(e),t=t.map(B9);e:for(let n of e)for(let r of t)if(!r.has(n)){e.delete(n);continue e}return e}function B9(e){return e instanceof On?e:new On(e)}var Jv=P(()=>{va()});function mu(e,t){let n=e[Symbol.iterator](),r=new Set;for(let a of t){let i=e1(a);if(r.has(i))continue;let o,l;for(;{value:o,done:l}=n.next();){if(l)return!1;let s=e1(o);if(r.add(s),Object.is(i,s))break}}return!0}function e1(e){return e!==null&&typeof e=="object"?e.valueOf():e}var Nd=P(()=>{});function Ed(e,t){return mu(t,e)}var t1=P(()=>{Nd()});function Pd(...e){let t=new On;for(let n of e)for(let r of n)t.add(r);return t}var n1=P(()=>{va()});var Ld={};Ln(Ld,{Adder:()=>eo,InternMap:()=>ur,InternSet:()=>On,ascending:()=>Mt,bin:()=>Ol,bisect:()=>Zi,bisectCenter:()=>tv,bisectLeft:()=>ev,bisectRight:()=>Bf,bisector:()=>ga,blur:()=>nv,blur2:()=>rv,blurImage:()=>av,count:()=>Ur,cross:()=>Wf,cumsum:()=>$f,descending:()=>Jo,deviation:()=>nu,difference:()=>kd,disjoint:()=>Vd,every:()=>_d,extent:()=>Ja,fcumsum:()=>sv,filter:()=>Md,flatGroup:()=>gv,flatRollup:()=>vv,fsum:()=>cv,greatest:()=>su,greatestIndex:()=>gd,group:()=>ru,groupSort:()=>ed,groups:()=>Qf,histogram:()=>Ol,index:()=>yv,indexes:()=>bv,intersection:()=>Dd,least:()=>hd,leastIndex:()=>fu,map:()=>Td,max:()=>Mr,maxIndex:()=>ni,mean:()=>ld,median:()=>cd,medianIndex:()=>Nv,merge:()=>sd,min:()=>qn,minIndex:()=>ri,mode:()=>fd,nice:()=>uu,pairs:()=>dd,permute:()=>au,quantile:()=>ya,quantileIndex:()=>Fl,quantileSorted:()=>Av,quickselect:()=>ai,range:()=>ii,rank:()=>md,reduce:()=>Cd,reverse:()=>Ad,rollup:()=>El,rollups:()=>Zf,scan:()=>vd,shuffle:()=>Hv,shuffler:()=>yd,some:()=>Sd,sort:()=>no,subset:()=>Ed,sum:()=>bd,superset:()=>mu,thresholdFreedmanDiaconis:()=>od,thresholdScott:()=>ud,thresholdSturges:()=>lu,tickIncrement:()=>lr,tickStep:()=>ti,ticks:()=>ei,transpose:()=>du,union:()=>Pd,variance:()=>tu,zip:()=>wd});var Tr=P(()=>{Hf();or();Rf();ov();eu();uv();lv();If();qf();Gf();fv();Kf();wv();Cv();kv();Vv();nd();rd();zl();Dv();Ev();Pv();Il();Rl();Lv();td();Ov();Jf();Bl();ad();zv();Iv();Rv();pd();id();Fv();Bv();Yv();Wv();Ll();xd();Uf();$v();Uv();qv();Gv();Xv();jv();Qv();ro();Zv();Kv();Jv();t1();Nd();n1();va()});var Od=ir((Hl,r1)=>{(function(e,t){typeof Hl=="object"&&typeof r1<"u"?t(Hl):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Hl,function(e){"use strict";function t(X,he){return X<he?-1:X>he?1:X>=he?0:NaN}function n(X){return X.length===1&&(X=r(X)),{left:function(he,le,me,Q){for(me==null&&(me=0),Q==null&&(Q=he.length);me<Q;){var K=me+Q>>>1;X(he[K],le)<0?me=K+1:Q=K}return me},right:function(he,le,me,Q){for(me==null&&(me=0),Q==null&&(Q=he.length);me<Q;){var K=me+Q>>>1;X(he[K],le)>0?Q=K:me=K+1}return me}}}function r(X){return function(he,le){return t(X(he),le)}}var a=n(t),i=a.right,o=a.left;function l(X,he){return he<X?-1:he>X?1:he>=X?0:NaN}function s(X){return X===null?NaN:+X}function f(X,he){var le=X.length,me=0,Q,K,Ce=0,Me=-1,Xe=0;if(he==null)for(;++Me<le;)isNaN(Q=s(X[Me]))||(K=Q-me,me+=K/++Xe,Ce+=K*(Q-me));else for(;++Me<le;)isNaN(Q=s(he(X[Me],Me,X)))||(K=Q-me,me+=K/++Xe,Ce+=K*(Q-me));if(Xe>1)return Ce/(Xe-1)}function m(X,he){var le=f(X,he);return le&&Math.sqrt(le)}function w(X,he){var le=-1,me=X.length,Q,K,Ce;if(he==null){for(;++le<me;)if((K=X[le])!=null&&K>=K){Q=Ce=K;break}for(;++le<me;)(K=X[le])!=null&&(Q>K&&(Q=K),Ce<K&&(Ce=K))}else{for(;++le<me;)if((K=he(X[le],le,X))!=null&&K>=K){Q=Ce=K;break}for(;++le<me;)(K=he(X[le],le,X))!=null&&(Q>K&&(Q=K),Ce<K&&(Ce=K))}return[Q,Ce]}var v=Array.prototype,M=v.slice,C=v.map;function A(X){return function(){return X}}function T(X){return X}function D(X,he,le){X=+X,he=+he,le=(Q=arguments.length)<2?(he=X,X=0,1):Q<3?1:+le;for(var me=-1,Q=Math.max(0,Math.ceil((he-X)/le))|0,K=new Array(Q);++me<Q;)K[me]=X+me*le;return K}var R=Math.sqrt(50),H=Math.sqrt(10),V=Math.sqrt(2);function I(X,he,le){var me=z(X,he,le);return D(Math.ceil(X/me)*me,Math.floor(he/me)*me+me/2,me)}function z(X,he,le){var me=Math.abs(he-X)/Math.max(0,le),Q=Math.pow(10,Math.floor(Math.log(me)/Math.LN10)),K=me/Q;return K>=R?Q*=10:K>=H?Q*=5:K>=V&&(Q*=2),he<X?-Q:Q}function j(X){return Math.ceil(Math.log(X.length)/Math.LN2)+1}function Z(){var X=T,he=w,le=j;function me(Q){var K,Ce=Q.length,Me,Xe=new Array(Ce);for(K=0;K<Ce;++K)Xe[K]=X(Q[K],K,Q);var Je=he(Xe),mt=Je[0],ft=Je[1],Ye=le(Xe,mt,ft);Array.isArray(Ye)||(Ye=I(mt,ft,Ye));for(var rt=Ye.length;Ye[0]<=mt;)Ye.shift(),--rt;for(;Ye[rt-1]>=ft;)Ye.pop(),--rt;var St=new Array(rt+1),ht;for(K=0;K<=rt;++K)ht=St[K]=[],ht.x0=K>0?Ye[K-1]:mt,ht.x1=K<rt?Ye[K]:ft;for(K=0;K<Ce;++K)Me=Xe[K],mt<=Me&&Me<=ft&&St[i(Ye,Me,0,rt)].push(Q[K]);return St}return me.value=function(Q){return arguments.length?(X=typeof Q=="function"?Q:A(Q),me):X},me.domain=function(Q){return arguments.length?(he=typeof Q=="function"?Q:A([Q[0],Q[1]]),me):he},me.thresholds=function(Q){return arguments.length?(le=typeof Q=="function"?Q:Array.isArray(Q)?A(M.call(Q)):A(Q),me):le},me}function ve(X,he,le){if(le==null&&(le=s),!!(me=X.length)){if((he=+he)<=0||me<2)return+le(X[0],0,X);if(he>=1)return+le(X[me-1],me-1,X);var me,Q=(me-1)*he,K=Math.floor(Q),Ce=+le(X[K],K,X),Me=+le(X[K+1],K+1,X);return Ce+(Me-Ce)*(Q-K)}}function ye(X,he,le){return X=C.call(X,s).sort(t),Math.ceil((le-he)/(2*(ve(X,.75)-ve(X,.25))*Math.pow(X.length,-1/3)))}function ue(X,he,le){return Math.ceil((le-he)/(3.5*m(X)*Math.pow(X.length,-1/3)))}function Ie(X,he){var le=-1,me=X.length,Q,K;if(he==null){for(;++le<me;)if((K=X[le])!=null&&K>=K){Q=K;break}for(;++le<me;)(K=X[le])!=null&&K>Q&&(Q=K)}else{for(;++le<me;)if((K=he(X[le],le,X))!=null&&K>=K){Q=K;break}for(;++le<me;)(K=he(X[le],le,X))!=null&&K>Q&&(Q=K)}return Q}function de(X,he){var le=0,me=X.length,Q,K=-1,Ce=me;if(he==null)for(;++K<me;)isNaN(Q=s(X[K]))?--Ce:le+=Q;else for(;++K<me;)isNaN(Q=s(he(X[K],K,X)))?--Ce:le+=Q;if(Ce)return le/Ce}function $(X,he){var le=[],me=X.length,Q,K=-1;if(he==null)for(;++K<me;)isNaN(Q=s(X[K]))||le.push(Q);else for(;++K<me;)isNaN(Q=s(he(X[K],K,X)))||le.push(Q);return ve(le.sort(t),.5)}function we(X){for(var he=X.length,le,me=-1,Q=0,K,Ce;++me<he;)Q+=X[me].length;for(K=new Array(Q);--he>=0;)for(Ce=X[he],le=Ce.length;--le>=0;)K[--Q]=Ce[le];return K}function te(X,he){var le=-1,me=X.length,Q,K;if(he==null){for(;++le<me;)if((K=X[le])!=null&&K>=K){Q=K;break}for(;++le<me;)(K=X[le])!=null&&Q>K&&(Q=K)}else{for(;++le<me;)if((K=he(X[le],le,X))!=null&&K>=K){Q=K;break}for(;++le<me;)(K=he(X[le],le,X))!=null&&Q>K&&(Q=K)}return Q}function ae(X){for(var he=0,le=X.length-1,me=X[0],Q=new Array(le<0?0:le);he<le;)Q[he]=[me,me=X[++he]];return Q}function pe(X,he){for(var le=he.length,me=new Array(le);le--;)me[le]=X[he[le]];return me}function ie(X,he){if(!!(me=X.length)){var le=0,me,Q=0,K,Ce=X[Q];for(he||(he=t);++le<me;)(he(K=X[le],Ce)<0||he(Ce,Ce)!==0)&&(Ce=K,Q=le);if(he(Ce,Ce)===0)return Q}}function be(X,he,le){for(var me=(le??X.length)-(he=he==null?0:+he),Q,K;me;)K=Math.random()*me--|0,Q=X[me+he],X[me+he]=X[K+he],X[K+he]=Q;return X}function Le(X,he){var le=0,me=X.length,Q,K=-1;if(he==null)for(;++K<me;)(Q=+X[K])&&(le+=Q);else for(;++K<me;)(Q=+he(X[K],K,X))&&(le+=Q);return le}function Pe(X){if(!(K=X.length))return[];for(var he=-1,le=te(X,Se),me=new Array(le);++he<le;)for(var Q=-1,K,Ce=me[he]=new Array(K);++Q<K;)Ce[Q]=X[Q][he];return me}function Se(X){return X.length}function He(){return Pe(arguments)}e.bisect=i,e.bisectRight=i,e.bisectLeft=o,e.ascending=t,e.bisector=n,e.descending=l,e.deviation=m,e.extent=w,e.histogram=Z,e.thresholdFreedmanDiaconis=ye,e.thresholdScott=ue,e.thresholdSturges=j,e.max=Ie,e.mean=de,e.median=$,e.merge=we,e.min=te,e.pairs=ae,e.permute=pe,e.quantile=ve,e.range=D,e.scan=ie,e.shuffle=be,e.sum=Le,e.ticks=I,e.tickStep=z,e.transpose=Pe,e.variance=f,e.zip=He,Object.defineProperty(e,"__esModule",{value:!0})})});var i1=ir((Yl,a1)=>{(function(e,t){typeof Yl=="object"&&typeof a1<"u"?t(Yl):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Yl,function(e){"use strict";var t="$";function n(){}n.prototype=r.prototype={constructor:n,has:function(A){return t+A in this},get:function(A){return this[t+A]},set:function(A,T){return this[t+A]=T,this},remove:function(A){var T=t+A;return T in this&&delete this[T]},clear:function(){for(var A in this)A[0]===t&&delete this[A]},keys:function(){var A=[];for(var T in this)T[0]===t&&A.push(T.slice(1));return A},values:function(){var A=[];for(var T in this)T[0]===t&&A.push(this[T]);return A},entries:function(){var A=[];for(var T in this)T[0]===t&&A.push({key:T.slice(1),value:this[T]});return A},size:function(){var A=0;for(var T in this)T[0]===t&&++A;return A},empty:function(){for(var A in this)if(A[0]===t)return!1;return!0},each:function(A){for(var T in this)T[0]===t&&A(this[T],T.slice(1),this)}};function r(A,T){var D=new n;if(A instanceof n)A.each(function(z,j){D.set(j,z)});else if(Array.isArray(A)){var R=-1,H=A.length,V;if(T==null)for(;++R<H;)D.set(R,A[R]);else for(;++R<H;)D.set(T(V=A[R],R,A),V)}else if(A)for(var I in A)D.set(I,A[I]);return D}function a(){var A=[],T=[],D,R,H;function V(z,j,Z,ve){if(j>=A.length)return D!=null&&z.sort(D),R!=null?R(z):z;for(var ye=-1,ue=z.length,Ie=A[j++],de,$,we=r(),te,ae=Z();++ye<ue;)(te=we.get(de=Ie($=z[ye])+""))?te.push($):we.set(de,[$]);return we.each(function(pe,ie){ve(ae,ie,V(pe,j,Z,ve))}),ae}function I(z,j){if(++j>A.length)return z;var Z,ve=T[j-1];return R!=null&&j>=A.length?Z=z.entries():(Z=[],z.each(function(ye,ue){Z.push({key:ue,values:I(ye,j)})})),ve!=null?Z.sort(function(ye,ue){return ve(ye.key,ue.key)}):Z}return H={object:function(z){return V(z,0,i,o)},map:function(z){return V(z,0,l,s)},entries:function(z){return I(V(z,0,l,s),0)},key:function(z){return A.push(z),H},sortKeys:function(z){return T[A.length-1]=z,H},sortValues:function(z){return D=z,H},rollup:function(z){return R=z,H}}}function i(){return{}}function o(A,T,D){A[T]=D}function l(){return r()}function s(A,T,D){A.set(T,D)}function f(){}var m=r.prototype;f.prototype=w.prototype={constructor:f,has:m.has,add:function(A){return A+="",this[t+A]=A,this},remove:m.remove,clear:m.clear,values:m.keys,size:m.size,empty:m.empty,each:m.each};function w(A,T){var D=new f;if(A instanceof f)A.each(function(V){D.add(V)});else if(A){var R=-1,H=A.length;if(T==null)for(;++R<H;)D.add(A[R]);else for(;++R<H;)D.add(T(A[R],R,A))}return D}function v(A){var T=[];for(var D in A)T.push(D);return T}function M(A){var T=[];for(var D in A)T.push(A[D]);return T}function C(A){var T=[];for(var D in A)T.push({key:D,value:A[D]});return T}e.nest=a,e.set=w,e.map=r,e.keys=v,e.values=M,e.entries=C,Object.defineProperty(e,"__esModule",{value:!0})})});var zd=ir((Wl,o1)=>{(function(e,t){typeof Wl=="object"&&typeof o1<"u"?t(Wl):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(Wl,function(e){"use strict";function t(E,q,ce){E.prototype=q.prototype=ce,ce.constructor=E}function n(E,q){var ce=Object.create(E.prototype);for(var Ve in q)ce[Ve]=q[Ve];return ce}function r(){}var a=.7,i=1/a,o="\\s*([+-]?\\d+)\\s*",l="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",s="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",f=/^#([0-9a-f]{3,8})$/,m=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),w=new RegExp("^rgb\\("+[s,s,s]+"\\)$"),v=new RegExp("^rgba\\("+[o,o,o,l]+"\\)$"),M=new RegExp("^rgba\\("+[s,s,s,l]+"\\)$"),C=new RegExp("^hsl\\("+[l,s,s]+"\\)$"),A=new RegExp("^hsla\\("+[l,s,s,l]+"\\)$"),T={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};t(r,V,{copy:function(E){return Object.assign(new this.constructor,this,E)},displayable:function(){return this.rgb().displayable()},hex:D,formatHex:D,formatHsl:R,formatRgb:H,toString:H});function D(){return this.rgb().formatHex()}function R(){return $(this).formatHsl()}function H(){return this.rgb().formatRgb()}function V(E){var q,ce;return E=(E+"").trim().toLowerCase(),(q=f.exec(E))?(ce=q[1].length,q=parseInt(q[1],16),ce===6?I(q):ce===3?new ve(q>>8&15|q>>4&240,q>>4&15|q&240,(q&15)<<4|q&15,1):ce===8?z(q>>24&255,q>>16&255,q>>8&255,(q&255)/255):ce===4?z(q>>12&15|q>>8&240,q>>8&15|q>>4&240,q>>4&15|q&240,((q&15)<<4|q&15)/255):null):(q=m.exec(E))?new ve(q[1],q[2],q[3],1):(q=w.exec(E))?new ve(q[1]*255/100,q[2]*255/100,q[3]*255/100,1):(q=v.exec(E))?z(q[1],q[2],q[3],q[4]):(q=M.exec(E))?z(q[1]*255/100,q[2]*255/100,q[3]*255/100,q[4]):(q=C.exec(E))?de(q[1],q[2]/100,q[3]/100,1):(q=A.exec(E))?de(q[1],q[2]/100,q[3]/100,q[4]):T.hasOwnProperty(E)?I(T[E]):E==="transparent"?new ve(NaN,NaN,NaN,0):null}function I(E){return new ve(E>>16&255,E>>8&255,E&255,1)}function z(E,q,ce,Ve){return Ve<=0&&(E=q=ce=NaN),new ve(E,q,ce,Ve)}function j(E){return E instanceof r||(E=V(E)),E?(E=E.rgb(),new ve(E.r,E.g,E.b,E.opacity)):new ve}function Z(E,q,ce,Ve){return arguments.length===1?j(E):new ve(E,q,ce,Ve??1)}function ve(E,q,ce,Ve){this.r=+E,this.g=+q,this.b=+ce,this.opacity=+Ve}t(ve,Z,n(r,{brighter:function(E){return E=E==null?i:Math.pow(i,E),new ve(this.r*E,this.g*E,this.b*E,this.opacity)},darker:function(E){return E=E==null?a:Math.pow(a,E),new ve(this.r*E,this.g*E,this.b*E,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ye,formatHex:ye,formatRgb:ue,toString:ue}));function ye(){return"#"+Ie(this.r)+Ie(this.g)+Ie(this.b)}function ue(){var E=this.opacity;return E=isNaN(E)?1:Math.max(0,Math.min(1,E)),(E===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(E===1?")":", "+E+")")}function Ie(E){return E=Math.max(0,Math.min(255,Math.round(E)||0)),(E<16?"0":"")+E.toString(16)}function de(E,q,ce,Ve){return Ve<=0?E=q=ce=NaN:ce<=0||ce>=1?E=q=NaN:q<=0&&(E=NaN),new te(E,q,ce,Ve)}function $(E){if(E instanceof te)return new te(E.h,E.s,E.l,E.opacity);if(E instanceof r||(E=V(E)),!E)return new te;if(E instanceof te)return E;E=E.rgb();var q=E.r/255,ce=E.g/255,Ve=E.b/255,W=Math.min(q,ce,Ve),ee=Math.max(q,ce,Ve),oe=NaN,_e=ee-W,xe=(ee+W)/2;return _e?(q===ee?oe=(ce-Ve)/_e+(ce<Ve)*6:ce===ee?oe=(Ve-q)/_e+2:oe=(q-ce)/_e+4,_e/=xe<.5?ee+W:2-ee-W,oe*=60):_e=xe>0&&xe<1?0:oe,new te(oe,_e,xe,E.opacity)}function we(E,q,ce,Ve){return arguments.length===1?$(E):new te(E,q,ce,Ve??1)}function te(E,q,ce,Ve){this.h=+E,this.s=+q,this.l=+ce,this.opacity=+Ve}t(te,we,n(r,{brighter:function(E){return E=E==null?i:Math.pow(i,E),new te(this.h,this.s,this.l*E,this.opacity)},darker:function(E){return E=E==null?a:Math.pow(a,E),new te(this.h,this.s,this.l*E,this.opacity)},rgb:function(){var E=this.h%360+(this.h<0)*360,q=isNaN(E)||isNaN(this.s)?0:this.s,ce=this.l,Ve=ce+(ce<.5?ce:1-ce)*q,W=2*ce-Ve;return new ve(ae(E>=240?E-240:E+120,W,Ve),ae(E,W,Ve),ae(E<120?E+240:E-120,W,Ve),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var E=this.opacity;return E=isNaN(E)?1:Math.max(0,Math.min(1,E)),(E===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(E===1?")":", "+E+")")}}));function ae(E,q,ce){return(E<60?q+(ce-q)*E/60:E<180?ce:E<240?q+(ce-q)*(240-E)/60:q)*255}var pe=Math.PI/180,ie=180/Math.PI,be=18,Le=.96422,Pe=1,Se=.82521,He=4/29,X=6/29,he=3*X*X,le=X*X*X;function me(E){if(E instanceof Ce)return new Ce(E.l,E.a,E.b,E.opacity);if(E instanceof St)return ht(E);E instanceof ve||(E=j(E));var q=mt(E.r),ce=mt(E.g),Ve=mt(E.b),W=Me((.2225045*q+.7168786*ce+.0606169*Ve)/Pe),ee,oe;return q===ce&&ce===Ve?ee=oe=W:(ee=Me((.4360747*q+.3850649*ce+.1430804*Ve)/Le),oe=Me((.0139322*q+.0971045*ce+.7141733*Ve)/Se)),new Ce(116*W-16,500*(ee-W),200*(W-oe),E.opacity)}function Q(E,q){return new Ce(E,0,0,q??1)}function K(E,q,ce,Ve){return arguments.length===1?me(E):new Ce(E,q,ce,Ve??1)}function Ce(E,q,ce,Ve){this.l=+E,this.a=+q,this.b=+ce,this.opacity=+Ve}t(Ce,K,n(r,{brighter:function(E){return new Ce(this.l+be*(E??1),this.a,this.b,this.opacity)},darker:function(E){return new Ce(this.l-be*(E??1),this.a,this.b,this.opacity)},rgb:function(){var E=(this.l+16)/116,q=isNaN(this.a)?E:E+this.a/500,ce=isNaN(this.b)?E:E-this.b/200;return q=Le*Xe(q),E=Pe*Xe(E),ce=Se*Xe(ce),new ve(Je(3.1338561*q-1.6168667*E-.4906146*ce),Je(-.9787684*q+1.9161415*E+.033454*ce),Je(.0719453*q-.2289914*E+1.4052427*ce),this.opacity)}}));function Me(E){return E>le?Math.pow(E,1/3):E/he+He}function Xe(E){return E>X?E*E*E:he*(E-He)}function Je(E){return 255*(E<=.0031308?12.92*E:1.055*Math.pow(E,1/2.4)-.055)}function mt(E){return(E/=255)<=.04045?E/12.92:Math.pow((E+.055)/1.055,2.4)}function ft(E){if(E instanceof St)return new St(E.h,E.c,E.l,E.opacity);if(E instanceof Ce||(E=me(E)),E.a===0&&E.b===0)return new St(NaN,0<E.l&&E.l<100?0:NaN,E.l,E.opacity);var q=Math.atan2(E.b,E.a)*ie;return new St(q<0?q+360:q,Math.sqrt(E.a*E.a+E.b*E.b),E.l,E.opacity)}function Ye(E,q,ce,Ve){return arguments.length===1?ft(E):new St(ce,q,E,Ve??1)}function rt(E,q,ce,Ve){return arguments.length===1?ft(E):new St(E,q,ce,Ve??1)}function St(E,q,ce,Ve){this.h=+E,this.c=+q,this.l=+ce,this.opacity=+Ve}function ht(E){if(isNaN(E.h))return new Ce(E.l,0,0,E.opacity);var q=E.h*pe;return new Ce(E.l,Math.cos(q)*E.c,Math.sin(q)*E.c,E.opacity)}t(St,rt,n(r,{brighter:function(E){return new St(this.h,this.c,this.l+be*(E??1),this.opacity)},darker:function(E){return new St(this.h,this.c,this.l-be*(E??1),this.opacity)},rgb:function(){return ht(this).rgb()}}));var Hn=-.14861,mn=1.78277,kn=-.29227,Vn=-.90649,Jt=1.97294,Yn=Jt*Vn,L=Jt*mn,Y=mn*kn-Vn*Hn;function ge(E){if(E instanceof Te)return new Te(E.h,E.s,E.l,E.opacity);E instanceof ve||(E=j(E));var q=E.r/255,ce=E.g/255,Ve=E.b/255,W=(Y*Ve+Yn*q-L*ce)/(Y+Yn-L),ee=Ve-W,oe=(Jt*(ce-W)-kn*ee)/Vn,_e=Math.sqrt(oe*oe+ee*ee)/(Jt*W*(1-W)),xe=_e?Math.atan2(oe,ee)*ie-120:NaN;return new Te(xe<0?xe+360:xe,_e,W,E.opacity)}function Oe(E,q,ce,Ve){return arguments.length===1?ge(E):new Te(E,q,ce,Ve??1)}function Te(E,q,ce,Ve){this.h=+E,this.s=+q,this.l=+ce,this.opacity=+Ve}t(Te,Oe,n(r,{brighter:function(E){return E=E==null?i:Math.pow(i,E),new Te(this.h,this.s,this.l*E,this.opacity)},darker:function(E){return E=E==null?a:Math.pow(a,E),new Te(this.h,this.s,this.l*E,this.opacity)},rgb:function(){var E=isNaN(this.h)?0:(this.h+120)*pe,q=+this.l,ce=isNaN(this.s)?0:this.s*q*(1-q),Ve=Math.cos(E),W=Math.sin(E);return new ve(255*(q+ce*(Hn*Ve+mn*W)),255*(q+ce*(kn*Ve+Vn*W)),255*(q+ce*(Jt*Ve)),this.opacity)}})),e.color=V,e.cubehelix=Oe,e.gray=Q,e.hcl=rt,e.hsl=we,e.lab=K,e.lch=Ye,e.rgb=Z,Object.defineProperty(e,"__esModule",{value:!0})})});var l1=ir(($l,u1)=>{(function(e,t){typeof $l=="object"&&typeof u1<"u"?t($l,zd()):typeof define=="function"&&define.amd?define(["exports","d3-color"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})($l,function(e,t){"use strict";function n(L,Y,ge,Oe,Te){var E=L*L,q=E*L;return((1-3*L+3*E-q)*Y+(4-6*E+3*q)*ge+(1+3*L+3*E-3*q)*Oe+q*Te)/6}function r(L){var Y=L.length-1;return function(ge){var Oe=ge<=0?ge=0:ge>=1?(ge=1,Y-1):Math.floor(ge*Y),Te=L[Oe],E=L[Oe+1],q=Oe>0?L[Oe-1]:2*Te-E,ce=Oe<Y-1?L[Oe+2]:2*E-Te;return n((ge-Oe/Y)*Y,q,Te,E,ce)}}function a(L){var Y=L.length;return function(ge){var Oe=Math.floor(((ge%=1)<0?++ge:ge)*Y),Te=L[(Oe+Y-1)%Y],E=L[Oe%Y],q=L[(Oe+1)%Y],ce=L[(Oe+2)%Y];return n((ge-Oe/Y)*Y,Te,E,q,ce)}}function i(L){return function(){return L}}function o(L,Y){return function(ge){return L+ge*Y}}function l(L,Y,ge){return L=Math.pow(L,ge),Y=Math.pow(Y,ge)-L,ge=1/ge,function(Oe){return Math.pow(L+Oe*Y,ge)}}function s(L,Y){var ge=Y-L;return ge?o(L,ge>180||ge<-180?ge-360*Math.round(ge/360):ge):i(isNaN(L)?Y:L)}function f(L){return(L=+L)==1?m:function(Y,ge){return ge-Y?l(Y,ge,L):i(isNaN(Y)?ge:Y)}}function m(L,Y){var ge=Y-L;return ge?o(L,ge):i(isNaN(L)?Y:L)}var w=function L(Y){var ge=f(Y);function Oe(Te,E){var q=ge((Te=t.rgb(Te)).r,(E=t.rgb(E)).r),ce=ge(Te.g,E.g),Ve=ge(Te.b,E.b),W=m(Te.opacity,E.opacity);return function(ee){return Te.r=q(ee),Te.g=ce(ee),Te.b=Ve(ee),Te.opacity=W(ee),Te+""}}return Oe.gamma=L,Oe}(1);function v(L){return function(Y){var ge=Y.length,Oe=new Array(ge),Te=new Array(ge),E=new Array(ge),q,ce;for(q=0;q<ge;++q)ce=t.rgb(Y[q]),Oe[q]=ce.r||0,Te[q]=ce.g||0,E[q]=ce.b||0;return Oe=L(Oe),Te=L(Te),E=L(E),ce.opacity=1,function(Ve){return ce.r=Oe(Ve),ce.g=Te(Ve),ce.b=E(Ve),ce+""}}}var M=v(r),C=v(a);function A(L,Y){Y||(Y=[]);var ge=L?Math.min(Y.length,L.length):0,Oe=Y.slice(),Te;return function(E){for(Te=0;Te<ge;++Te)Oe[Te]=L[Te]*(1-E)+Y[Te]*E;return Oe}}function T(L){return ArrayBuffer.isView(L)&&!(L instanceof DataView)}function D(L,Y){return(T(Y)?A:R)(L,Y)}function R(L,Y){var ge=Y?Y.length:0,Oe=L?Math.min(ge,L.length):0,Te=new Array(Oe),E=new Array(ge),q;for(q=0;q<Oe;++q)Te[q]=ue(L[q],Y[q]);for(;q<ge;++q)E[q]=Y[q];return function(ce){for(q=0;q<Oe;++q)E[q]=Te[q](ce);return E}}function H(L,Y){var ge=new Date;return L=+L,Y=+Y,function(Oe){return ge.setTime(L*(1-Oe)+Y*Oe),ge}}function V(L,Y){return L=+L,Y=+Y,function(ge){return L*(1-ge)+Y*ge}}function I(L,Y){var ge={},Oe={},Te;(L===null||typeof L!="object")&&(L={}),(Y===null||typeof Y!="object")&&(Y={});for(Te in Y)Te in L?ge[Te]=ue(L[Te],Y[Te]):Oe[Te]=Y[Te];return function(E){for(Te in ge)Oe[Te]=ge[Te](E);return Oe}}var z=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,j=new RegExp(z.source,"g");function Z(L){return function(){return L}}function ve(L){return function(Y){return L(Y)+""}}function ye(L,Y){var ge=z.lastIndex=j.lastIndex=0,Oe,Te,E,q=-1,ce=[],Ve=[];for(L=L+"",Y=Y+"";(Oe=z.exec(L))&&(Te=j.exec(Y));)(E=Te.index)>ge&&(E=Y.slice(ge,E),ce[q]?ce[q]+=E:ce[++q]=E),(Oe=Oe[0])===(Te=Te[0])?ce[q]?ce[q]+=Te:ce[++q]=Te:(ce[++q]=null,Ve.push({i:q,x:V(Oe,Te)})),ge=j.lastIndex;return ge<Y.length&&(E=Y.slice(ge),ce[q]?ce[q]+=E:ce[++q]=E),ce.length<2?Ve[0]?ve(Ve[0].x):Z(Y):(Y=Ve.length,function(W){for(var ee=0,oe;ee<Y;++ee)ce[(oe=Ve[ee]).i]=oe.x(W);return ce.join("")})}function ue(L,Y){var ge=typeof Y,Oe;return Y==null||ge==="boolean"?i(Y):(ge==="number"?V:ge==="string"?(Oe=t.color(Y))?(Y=Oe,w):ye:Y instanceof t.color?w:Y instanceof Date?H:T(Y)?A:Array.isArray(Y)?R:typeof Y.valueOf!="function"&&typeof Y.toString!="function"||isNaN(Y)?I:V)(L,Y)}function Ie(L){var Y=L.length;return function(ge){return L[Math.max(0,Math.min(Y-1,Math.floor(ge*Y)))]}}function de(L,Y){var ge=s(+L,+Y);return function(Oe){var Te=ge(Oe);return Te-360*Math.floor(Te/360)}}function $(L,Y){return L=+L,Y=+Y,function(ge){return Math.round(L*(1-ge)+Y*ge)}}var we=180/Math.PI,te={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ae(L,Y,ge,Oe,Te,E){var q,ce,Ve;return(q=Math.sqrt(L*L+Y*Y))&&(L/=q,Y/=q),(Ve=L*ge+Y*Oe)&&(ge-=L*Ve,Oe-=Y*Ve),(ce=Math.sqrt(ge*ge+Oe*Oe))&&(ge/=ce,Oe/=ce,Ve/=ce),L*Oe<Y*ge&&(L=-L,Y=-Y,Ve=-Ve,q=-q),{translateX:Te,translateY:E,rotate:Math.atan2(Y,L)*we,skewX:Math.atan(Ve)*we,scaleX:q,scaleY:ce}}var pe,ie,be,Le;function Pe(L){return L==="none"?te:(pe||(pe=document.createElement("DIV"),ie=document.documentElement,be=document.defaultView),pe.style.transform=L,L=be.getComputedStyle(ie.appendChild(pe),null).getPropertyValue("transform"),ie.removeChild(pe),L=L.slice(7,-1).split(","),ae(+L[0],+L[1],+L[2],+L[3],+L[4],+L[5]))}function Se(L){return L==null||(Le||(Le=document.createElementNS("http://www.w3.org/2000/svg","g")),Le.setAttribute("transform",L),!(L=Le.transform.baseVal.consolidate()))?te:(L=L.matrix,ae(L.a,L.b,L.c,L.d,L.e,L.f))}function He(L,Y,ge,Oe){function Te(W){return W.length?W.pop()+" ":""}function E(W,ee,oe,_e,xe,Ae){if(W!==oe||ee!==_e){var De=xe.push("translate(",null,Y,null,ge);Ae.push({i:De-4,x:V(W,oe)},{i:De-2,x:V(ee,_e)})}else(oe||_e)&&xe.push("translate("+oe+Y+_e+ge)}function q(W,ee,oe,_e){W!==ee?(W-ee>180?ee+=360:ee-W>180&&(W+=360),_e.push({i:oe.push(Te(oe)+"rotate(",null,Oe)-2,x:V(W,ee)})):ee&&oe.push(Te(oe)+"rotate("+ee+Oe)}function ce(W,ee,oe,_e){W!==ee?_e.push({i:oe.push(Te(oe)+"skewX(",null,Oe)-2,x:V(W,ee)}):ee&&oe.push(Te(oe)+"skewX("+ee+Oe)}function Ve(W,ee,oe,_e,xe,Ae){if(W!==oe||ee!==_e){var De=xe.push(Te(xe)+"scale(",null,",",null,")");Ae.push({i:De-4,x:V(W,oe)},{i:De-2,x:V(ee,_e)})}else(oe!==1||_e!==1)&&xe.push(Te(xe)+"scale("+oe+","+_e+")")}return function(W,ee){var oe=[],_e=[];return W=L(W),ee=L(ee),E(W.translateX,W.translateY,ee.translateX,ee.translateY,oe,_e),q(W.rotate,ee.rotate,oe,_e),ce(W.skewX,ee.skewX,oe,_e),Ve(W.scaleX,W.scaleY,ee.scaleX,ee.scaleY,oe,_e),W=ee=null,function(xe){for(var Ae=-1,De=_e.length,Fe;++Ae<De;)oe[(Fe=_e[Ae]).i]=Fe.x(xe);return oe.join("")}}}var X=He(Pe,"px, ","px)","deg)"),he=He(Se,", ",")",")"),le=Math.SQRT2,me=2,Q=4,K=1e-12;function Ce(L){return((L=Math.exp(L))+1/L)/2}function Me(L){return((L=Math.exp(L))-1/L)/2}function Xe(L){return((L=Math.exp(2*L))-1)/(L+1)}function Je(L,Y){var ge=L[0],Oe=L[1],Te=L[2],E=Y[0],q=Y[1],ce=Y[2],Ve=E-ge,W=q-Oe,ee=Ve*Ve+W*W,oe,_e;if(ee<K)_e=Math.log(ce/Te)/le,oe=function(et){return[ge+et*Ve,Oe+et*W,Te*Math.exp(le*et*_e)]};else{var xe=Math.sqrt(ee),Ae=(ce*ce-Te*Te+Q*ee)/(2*Te*me*xe),De=(ce*ce-Te*Te-Q*ee)/(2*ce*me*xe),Fe=Math.log(Math.sqrt(Ae*Ae+1)-Ae),We=Math.log(Math.sqrt(De*De+1)-De);_e=(We-Fe)/le,oe=function(et){var xt=et*_e,Ue=Ce(Fe),G=Te/(me*xe)*(Ue*Xe(le*xt+Fe)-Me(Fe));return[ge+G*Ve,Oe+G*W,Te*Ue/Ce(le*xt+Fe)]}}return oe.duration=_e*1e3,oe}function mt(L){return function(Y,ge){var Oe=L((Y=t.hsl(Y)).h,(ge=t.hsl(ge)).h),Te=m(Y.s,ge.s),E=m(Y.l,ge.l),q=m(Y.opacity,ge.opacity);return function(ce){return Y.h=Oe(ce),Y.s=Te(ce),Y.l=E(ce),Y.opacity=q(ce),Y+""}}}var ft=mt(s),Ye=mt(m);function rt(L,Y){var ge=m((L=t.lab(L)).l,(Y=t.lab(Y)).l),Oe=m(L.a,Y.a),Te=m(L.b,Y.b),E=m(L.opacity,Y.opacity);return function(q){return L.l=ge(q),L.a=Oe(q),L.b=Te(q),L.opacity=E(q),L+""}}function St(L){return function(Y,ge){var Oe=L((Y=t.hcl(Y)).h,(ge=t.hcl(ge)).h),Te=m(Y.c,ge.c),E=m(Y.l,ge.l),q=m(Y.opacity,ge.opacity);return function(ce){return Y.h=Oe(ce),Y.c=Te(ce),Y.l=E(ce),Y.opacity=q(ce),Y+""}}}var ht=St(s),Hn=St(m);function mn(L){return function Y(ge){ge=+ge;function Oe(Te,E){var q=L((Te=t.cubehelix(Te)).h,(E=t.cubehelix(E)).h),ce=m(Te.s,E.s),Ve=m(Te.l,E.l),W=m(Te.opacity,E.opacity);return function(ee){return Te.h=q(ee),Te.s=ce(ee),Te.l=Ve(Math.pow(ee,ge)),Te.opacity=W(ee),Te+""}}return Oe.gamma=Y,Oe}(1)}var kn=mn(s),Vn=mn(m);function Jt(L,Y){for(var ge=0,Oe=Y.length-1,Te=Y[0],E=new Array(Oe<0?0:Oe);ge<Oe;)E[ge]=L(Te,Te=Y[++ge]);return function(q){var ce=Math.max(0,Math.min(Oe-1,Math.floor(q*=Oe)));return E[ce](q-ce)}}function Yn(L,Y){for(var ge=new Array(Y),Oe=0;Oe<Y;++Oe)ge[Oe]=L(Oe/(Y-1));return ge}e.interpolate=ue,e.interpolateArray=D,e.interpolateBasis=r,e.interpolateBasisClosed=a,e.interpolateCubehelix=kn,e.interpolateCubehelixLong=Vn,e.interpolateDate=H,e.interpolateDiscrete=Ie,e.interpolateHcl=ht,e.interpolateHclLong=Hn,e.interpolateHsl=ft,e.interpolateHslLong=Ye,e.interpolateHue=de,e.interpolateLab=rt,e.interpolateNumber=V,e.interpolateNumberArray=A,e.interpolateObject=I,e.interpolateRgb=w,e.interpolateRgbBasis=M,e.interpolateRgbBasisClosed=C,e.interpolateRound=$,e.interpolateString=ye,e.interpolateTransformCss=X,e.interpolateTransformSvg=he,e.interpolateZoom=Je,e.piecewise=Jt,e.quantize=Yn,Object.defineProperty(e,"__esModule",{value:!0})})});var Id=ir((Ul,c1)=>{(function(e,t){typeof Ul=="object"&&typeof c1<"u"?t(Ul):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(Ul,function(e){"use strict";function t(V,I){if((z=(V=I?V.toExponential(I-1):V.toExponential()).indexOf("e"))<0)return null;var z,j=V.slice(0,z);return[j.length>1?j[0]+j.slice(2):j,+V.slice(z+1)]}function n(V){return V=t(Math.abs(V)),V?V[1]:NaN}function r(V,I){return function(z,j){for(var Z=z.length,ve=[],ye=0,ue=V[0],Ie=0;Z>0&&ue>0&&(Ie+ue+1>j&&(ue=Math.max(1,j-Ie)),ve.push(z.substring(Z-=ue,Z+ue)),!((Ie+=ue+1)>j));)ue=V[ye=(ye+1)%V.length];return ve.reverse().join(I)}}function a(V,I){V=V.toPrecision(I);e:for(var z=V.length,j=1,Z=-1,ve;j<z;++j)switch(V[j]){case".":Z=ve=j;break;case"0":Z===0&&(Z=j),ve=j;break;case"e":break e;default:Z>0&&(Z=0);break}return Z>0?V.slice(0,Z)+V.slice(ve+1):V}var i;function o(V,I){var z=t(V,I);if(!z)return V+"";var j=z[0],Z=z[1],ve=Z-(i=Math.max(-8,Math.min(8,Math.floor(Z/3)))*3)+1,ye=j.length;return ve===ye?j:ve>ye?j+new Array(ve-ye+1).join("0"):ve>0?j.slice(0,ve)+"."+j.slice(ve):"0."+new Array(1-ve).join("0")+t(V,Math.max(0,I+ve-1))[0]}function l(V,I){var z=t(V,I);if(!z)return V+"";var j=z[0],Z=z[1];return Z<0?"0."+new Array(-Z).join("0")+j:j.length>Z+1?j.slice(0,Z+1)+"."+j.slice(Z+1):j+new Array(Z-j.length+2).join("0")}var s={"":a,"%":function(V,I){return(V*100).toFixed(I)},b:function(V){return Math.round(V).toString(2)},c:function(V){return V+""},d:function(V){return Math.round(V).toString(10)},e:function(V,I){return V.toExponential(I)},f:function(V,I){return V.toFixed(I)},g:function(V,I){return V.toPrecision(I)},o:function(V){return Math.round(V).toString(8)},p:function(V,I){return l(V*100,I)},r:l,s:o,X:function(V){return Math.round(V).toString(16).toUpperCase()},x:function(V){return Math.round(V).toString(16)}},f=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function m(V){return new w(V)}function w(V){if(!(I=f.exec(V)))throw new Error("invalid format: "+V);var I,z=I[1]||" ",j=I[2]||">",Z=I[3]||"-",ve=I[4]||"",ye=!!I[5],ue=I[6]&&+I[6],Ie=!!I[7],de=I[8]&&+I[8].slice(1),$=I[9]||"";$==="n"?(Ie=!0,$="g"):s[$]||($=""),(ye||z==="0"&&j==="=")&&(ye=!0,z="0",j="="),this.fill=z,this.align=j,this.sign=Z,this.symbol=ve,this.zero=ye,this.width=ue,this.comma=Ie,this.precision=de,this.type=$}w.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};var v=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function M(V){return V}function C(V){var I=V.grouping&&V.thousands?r(V.grouping,V.thousands):M,z=V.currency,j=V.decimal;function Z(ye){ye=m(ye);var ue=ye.fill,Ie=ye.align,de=ye.sign,$=ye.symbol,we=ye.zero,te=ye.width,ae=ye.comma,pe=ye.precision,ie=ye.type,be=$==="$"?z[0]:$==="#"&&/[boxX]/.test(ie)?"0"+ie.toLowerCase():"",Le=$==="$"?z[1]:/[%p]/.test(ie)?"%":"",Pe=s[ie],Se=!ie||/[defgprs%]/.test(ie);pe=pe==null?ie?6:12:/[gprs]/.test(ie)?Math.max(1,Math.min(21,pe)):Math.max(0,Math.min(20,pe));function He(X){var he=be,le=Le,me,Q,K;if(ie==="c")le=Pe(X)+le,X="";else{X=+X;var Ce=(X<0||1/X<0)&&(X*=-1,!0);if(X=Pe(X,pe),Ce){for(me=-1,Q=X.length,Ce=!1;++me<Q;)if(K=X.charCodeAt(me),48<K&&K<58||ie==="x"&&96<K&&K<103||ie==="X"&&64<K&&K<71){Ce=!0;break}}if(he=(Ce?de==="("?de:"-":de==="-"||de==="("?"":de)+he,le=le+(ie==="s"?v[8+i/3]:"")+(Ce&&de==="("?")":""),Se){for(me=-1,Q=X.length;++me<Q;)if(K=X.charCodeAt(me),48>K||K>57){le=(K===46?j+X.slice(me+1):X.slice(me))+le,X=X.slice(0,me);break}}}ae&&!we&&(X=I(X,1/0));var Me=he.length+X.length+le.length,Xe=Me<te?new Array(te-Me+1).join(ue):"";switch(ae&&we&&(X=I(Xe+X,Xe.length?te-le.length:1/0),Xe=""),Ie){case"<":return he+X+le+Xe;case"=":return he+Xe+X+le;case"^":return Xe.slice(0,Me=Xe.length>>1)+he+X+le+Xe.slice(Me)}return Xe+he+X+le}return He.toString=function(){return ye+""},He}function ve(ye,ue){var Ie=Z((ye=m(ye),ye.type="f",ye)),de=Math.max(-8,Math.min(8,Math.floor(n(ue)/3)))*3,$=Math.pow(10,-de),we=v[8+de/3];return function(te){return Ie($*te)+we}}return{format:Z,formatPrefix:ve}}var A;T({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function T(V){return A=C(V),e.format=A.format,e.formatPrefix=A.formatPrefix,A}function D(V){return Math.max(0,-n(Math.abs(V)))}function R(V,I){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(n(I)/3)))*3-n(Math.abs(V)))}function H(V,I){return V=Math.abs(V),I=Math.abs(I)-V,Math.max(0,n(I)-n(V))+1}e.formatDefaultLocale=T,e.formatLocale=C,e.formatSpecifier=m,e.precisionFixed=D,e.precisionPrefix=R,e.precisionRound=H,Object.defineProperty(e,"__esModule",{value:!0})})});var Rd=ir((ql,s1)=>{(function(e,t){typeof ql=="object"&&typeof s1<"u"?t(ql):typeof define=="function"&&define.amd?define(["exports"],t):(e=e||self,t(e.d3=e.d3||{}))})(ql,function(e){"use strict";var t=new Date,n=new Date;function r(L,Y,ge,Oe){function Te(E){return L(E=arguments.length===0?new Date:new Date(+E)),E}return Te.floor=function(E){return L(E=new Date(+E)),E},Te.ceil=function(E){return L(E=new Date(E-1)),Y(E,1),L(E),E},Te.round=function(E){var q=Te(E),ce=Te.ceil(E);return E-q<ce-E?q:ce},Te.offset=function(E,q){return Y(E=new Date(+E),q==null?1:Math.floor(q)),E},Te.range=function(E,q,ce){var Ve=[],W;if(E=Te.ceil(E),ce=ce==null?1:Math.floor(ce),!(E<q)||!(ce>0))return Ve;do Ve.push(W=new Date(+E)),Y(E,ce),L(E);while(W<E&&E<q);return Ve},Te.filter=function(E){return r(function(q){if(q>=q)for(;L(q),!E(q);)q.setTime(q-1)},function(q,ce){if(q>=q)if(ce<0)for(;++ce<=0;)for(;Y(q,-1),!E(q););else for(;--ce>=0;)for(;Y(q,1),!E(q););})},ge&&(Te.count=function(E,q){return t.setTime(+E),n.setTime(+q),L(t),L(n),Math.floor(ge(t,n))},Te.every=function(E){return E=Math.floor(E),!isFinite(E)||!(E>0)?null:E>1?Te.filter(Oe?function(q){return Oe(q)%E===0}:function(q){return Te.count(0,q)%E===0}):Te}),Te}var a=r(function(){},function(L,Y){L.setTime(+L+Y)},function(L,Y){return Y-L});a.every=function(L){return L=Math.floor(L),!isFinite(L)||!(L>0)?null:L>1?r(function(Y){Y.setTime(Math.floor(Y/L)*L)},function(Y,ge){Y.setTime(+Y+ge*L)},function(Y,ge){return(ge-Y)/L}):a};var i=a.range,o=1e3,l=6e4,s=36e5,f=864e5,m=6048e5,w=r(function(L){L.setTime(L-L.getMilliseconds())},function(L,Y){L.setTime(+L+Y*o)},function(L,Y){return(Y-L)/o},function(L){return L.getUTCSeconds()}),v=w.range,M=r(function(L){L.setTime(L-L.getMilliseconds()-L.getSeconds()*o)},function(L,Y){L.setTime(+L+Y*l)},function(L,Y){return(Y-L)/l},function(L){return L.getMinutes()}),C=M.range,A=r(function(L){L.setTime(L-L.getMilliseconds()-L.getSeconds()*o-L.getMinutes()*l)},function(L,Y){L.setTime(+L+Y*s)},function(L,Y){return(Y-L)/s},function(L){return L.getHours()}),T=A.range,D=r(function(L){L.setHours(0,0,0,0)},function(L,Y){L.setDate(L.getDate()+Y)},function(L,Y){return(Y-L-(Y.getTimezoneOffset()-L.getTimezoneOffset())*l)/f},function(L){return L.getDate()-1}),R=D.range;function H(L){return r(function(Y){Y.setDate(Y.getDate()-(Y.getDay()+7-L)%7),Y.setHours(0,0,0,0)},function(Y,ge){Y.setDate(Y.getDate()+ge*7)},function(Y,ge){return(ge-Y-(ge.getTimezoneOffset()-Y.getTimezoneOffset())*l)/m})}var V=H(0),I=H(1),z=H(2),j=H(3),Z=H(4),ve=H(5),ye=H(6),ue=V.range,Ie=I.range,de=z.range,$=j.range,we=Z.range,te=ve.range,ae=ye.range,pe=r(function(L){L.setDate(1),L.setHours(0,0,0,0)},function(L,Y){L.setMonth(L.getMonth()+Y)},function(L,Y){return Y.getMonth()-L.getMonth()+(Y.getFullYear()-L.getFullYear())*12},function(L){return L.getMonth()}),ie=pe.range,be=r(function(L){L.setMonth(0,1),L.setHours(0,0,0,0)},function(L,Y){L.setFullYear(L.getFullYear()+Y)},function(L,Y){return Y.getFullYear()-L.getFullYear()},function(L){return L.getFullYear()});be.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:r(function(Y){Y.setFullYear(Math.floor(Y.getFullYear()/L)*L),Y.setMonth(0,1),Y.setHours(0,0,0,0)},function(Y,ge){Y.setFullYear(Y.getFullYear()+ge*L)})};var Le=be.range,Pe=r(function(L){L.setUTCSeconds(0,0)},function(L,Y){L.setTime(+L+Y*l)},function(L,Y){return(Y-L)/l},function(L){return L.getUTCMinutes()}),Se=Pe.range,He=r(function(L){L.setUTCMinutes(0,0,0)},function(L,Y){L.setTime(+L+Y*s)},function(L,Y){return(Y-L)/s},function(L){return L.getUTCHours()}),X=He.range,he=r(function(L){L.setUTCHours(0,0,0,0)},function(L,Y){L.setUTCDate(L.getUTCDate()+Y)},function(L,Y){return(Y-L)/f},function(L){return L.getUTCDate()-1}),le=he.range;function me(L){return r(function(Y){Y.setUTCDate(Y.getUTCDate()-(Y.getUTCDay()+7-L)%7),Y.setUTCHours(0,0,0,0)},function(Y,ge){Y.setUTCDate(Y.getUTCDate()+ge*7)},function(Y,ge){return(ge-Y)/m})}var Q=me(0),K=me(1),Ce=me(2),Me=me(3),Xe=me(4),Je=me(5),mt=me(6),ft=Q.range,Ye=K.range,rt=Ce.range,St=Me.range,ht=Xe.range,Hn=Je.range,mn=mt.range,kn=r(function(L){L.setUTCDate(1),L.setUTCHours(0,0,0,0)},function(L,Y){L.setUTCMonth(L.getUTCMonth()+Y)},function(L,Y){return Y.getUTCMonth()-L.getUTCMonth()+(Y.getUTCFullYear()-L.getUTCFullYear())*12},function(L){return L.getUTCMonth()}),Vn=kn.range,Jt=r(function(L){L.setUTCMonth(0,1),L.setUTCHours(0,0,0,0)},function(L,Y){L.setUTCFullYear(L.getUTCFullYear()+Y)},function(L,Y){return Y.getUTCFullYear()-L.getUTCFullYear()},function(L){return L.getUTCFullYear()});Jt.every=function(L){return!isFinite(L=Math.floor(L))||!(L>0)?null:r(function(Y){Y.setUTCFullYear(Math.floor(Y.getUTCFullYear()/L)*L),Y.setUTCMonth(0,1),Y.setUTCHours(0,0,0,0)},function(Y,ge){Y.setUTCFullYear(Y.getUTCFullYear()+ge*L)})};var Yn=Jt.range;e.timeDay=D,e.timeDays=R,e.timeFriday=ve,e.timeFridays=te,e.timeHour=A,e.timeHours=T,e.timeInterval=r,e.timeMillisecond=a,e.timeMilliseconds=i,e.timeMinute=M,e.timeMinutes=C,e.timeMonday=I,e.timeMondays=Ie,e.timeMonth=pe,e.timeMonths=ie,e.timeSaturday=ye,e.timeSaturdays=ae,e.timeSecond=w,e.timeSeconds=v,e.timeSunday=V,e.timeSundays=ue,e.timeThursday=Z,e.timeThursdays=we,e.timeTuesday=z,e.timeTuesdays=de,e.timeWednesday=j,e.timeWednesdays=$,e.timeWeek=V,e.timeWeeks=ue,e.timeYear=be,e.timeYears=Le,e.utcDay=he,e.utcDays=le,e.utcFriday=Je,e.utcFridays=Hn,e.utcHour=He,e.utcHours=X,e.utcMillisecond=a,e.utcMilliseconds=i,e.utcMinute=Pe,e.utcMinutes=Se,e.utcMonday=K,e.utcMondays=Ye,e.utcMonth=kn,e.utcMonths=Vn,e.utcSaturday=mt,e.utcSaturdays=mn,e.utcSecond=w,e.utcSeconds=v,e.utcSunday=Q,e.utcSundays=ft,e.utcThursday=Xe,e.utcThursdays=ht,e.utcTuesday=Ce,e.utcTuesdays=rt,e.utcWednesday=Me,e.utcWednesdays=St,e.utcWeek=Q,e.utcWeeks=ft,e.utcYear=Jt,e.utcYears=Yn,Object.defineProperty(e,"__esModule",{value:!0})})});var d1=ir((Gl,f1)=>{(function(e,t){typeof Gl=="object"&&typeof f1<"u"?t(Gl,Rd()):typeof define=="function"&&define.amd?define(["exports","d3-time"],t):(e=e||self,t(e.d3=e.d3||{},e.d3))})(Gl,function(e,t){"use strict";function n(G){if(0<=G.y&&G.y<100){var se=new Date(-1,G.m,G.d,G.H,G.M,G.S,G.L);return se.setFullYear(G.y),se}return new Date(G.y,G.m,G.d,G.H,G.M,G.S,G.L)}function r(G){if(0<=G.y&&G.y<100){var se=new Date(Date.UTC(-1,G.m,G.d,G.H,G.M,G.S,G.L));return se.setUTCFullYear(G.y),se}return new Date(Date.UTC(G.y,G.m,G.d,G.H,G.M,G.S,G.L))}function a(G,se,ke){return{y:G,m:se,d:ke,H:0,M:0,S:0,L:0}}function i(G){var se=G.dateTime,ke=G.date,Ee=G.time,en=G.periods,tn=G.days,ar=G.shortDays,ca=G.months,Wn=G.shortMonths,qo=v(en),ct=M(en),at=v(tn),Ft=M(tn),Yt=v(ar),nn=M(ar),Tn=v(ca),Wt=M(ca),hn=v(Wn),It=M(Wn),ot={a:df,A:mf,b:hf,B:pf,c:null,d:pe,e:pe,f:Se,g:Je,G:ft,H:ie,I:be,j:Le,L:Pe,m:He,M:X,p:kt,q:Xa,Q:_e,s:xe,S:he,u:le,U:me,V:K,w:Ce,W:Me,x:null,X:null,y:Xe,Y:mt,Z:Ye,"%":oe},Wr={a:ja,A:$r,b:Dn,B:gf,c:null,d:rt,e:rt,f:kn,g:ce,G:W,H:St,I:ht,j:Hn,L:mn,m:Vn,M:Jt,p:vf,q:yf,Q:_e,s:xe,S:Yn,u:L,U:Y,V:Oe,w:Te,W:E,x:null,X:null,y:q,Y:Ve,Z:ee,"%":oe},lf={a:wl,A:_l,b:cf,B:Sl,c:sf,d:Z,e:Z,f:$,g:V,G:H,H:ye,I:ye,j:ve,L:de,m:j,M:ue,p:br,q:z,Q:te,s:ae,S:Ie,u:A,U:T,V:D,w:C,W:R,x:ff,X:Ml,y:V,Y:H,Z:I,"%":we};ot.x=yr(ke,ot),ot.X=yr(Ee,ot),ot.c=yr(se,ot),Wr.x=yr(ke,Wr),Wr.X=yr(Ee,Wr),Wr.c=yr(se,Wr);function yr($e,dt){return function(Qe){var ze=[],$t=-1,nt=0,pn=$e.length,Dt,rn,$n;for(Qe instanceof Date||(Qe=new Date(+Qe));++$t<pn;)$e.charCodeAt($t)===37&&(ze.push($e.slice(nt,$t)),(rn=o[Dt=$e.charAt(++$t)])!=null?Dt=$e.charAt(++$t):rn=Dt==="e"?" ":"0",($n=dt[Dt])&&(Dt=$n(Qe,rn)),ze.push(Dt),nt=$t+1);return ze.push($e.slice(nt,$t)),ze.join("")}}function ji($e,dt){return function(Qe){var ze=a(1900,void 0,1),$t=sa(ze,$e,Qe+="",0),nt,pn;if($t!=Qe.length)return null;if("Q"in ze)return new Date(ze.Q);if("s"in ze)return new Date(ze.s*1e3+("L"in ze?ze.L:0));if(dt&&!("Z"in ze)&&(ze.Z=0),"p"in ze&&(ze.H=ze.H%12+ze.p*12),ze.m===void 0&&(ze.m="q"in ze?ze.q:0),"V"in ze){if(ze.V<1||ze.V>53)return null;"w"in ze||(ze.w=1),"Z"in ze?(nt=r(a(ze.y,0,1)),pn=nt.getUTCDay(),nt=pn>4||pn===0?t.utcMonday.ceil(nt):t.utcMonday(nt),nt=t.utcDay.offset(nt,(ze.V-1)*7),ze.y=nt.getUTCFullYear(),ze.m=nt.getUTCMonth(),ze.d=nt.getUTCDate()+(ze.w+6)%7):(nt=n(a(ze.y,0,1)),pn=nt.getDay(),nt=pn>4||pn===0?t.timeMonday.ceil(nt):t.timeMonday(nt),nt=t.timeDay.offset(nt,(ze.V-1)*7),ze.y=nt.getFullYear(),ze.m=nt.getMonth(),ze.d=nt.getDate()+(ze.w+6)%7)}else("W"in ze||"U"in ze)&&("w"in ze||(ze.w="u"in ze?ze.u%7:"W"in ze?1:0),pn="Z"in ze?r(a(ze.y,0,1)).getUTCDay():n(a(ze.y,0,1)).getDay(),ze.m=0,ze.d="W"in ze?(ze.w+6)%7+ze.W*7-(pn+5)%7:ze.w+ze.U*7-(pn+6)%7);return"Z"in ze?(ze.H+=ze.Z/100|0,ze.M+=ze.Z%100,r(ze)):n(ze)}}function sa($e,dt,Qe,ze){for(var $t=0,nt=dt.length,pn=Qe.length,Dt,rn;$t<nt;){if(ze>=pn)return-1;if(Dt=dt.charCodeAt($t++),Dt===37){if(Dt=dt.charAt($t++),rn=lf[Dt in o?dt.charAt($t++):Dt],!rn||(ze=rn($e,Qe,ze))<0)return-1}else if(Dt!=Qe.charCodeAt(ze++))return-1}return ze}function br($e,dt,Qe){var ze=qo.exec(dt.slice(Qe));return ze?($e.p=ct[ze[0].toLowerCase()],Qe+ze[0].length):-1}function wl($e,dt,Qe){var ze=Yt.exec(dt.slice(Qe));return ze?($e.w=nn[ze[0].toLowerCase()],Qe+ze[0].length):-1}function _l($e,dt,Qe){var ze=at.exec(dt.slice(Qe));return ze?($e.w=Ft[ze[0].toLowerCase()],Qe+ze[0].length):-1}function cf($e,dt,Qe){var ze=hn.exec(dt.slice(Qe));return ze?($e.m=It[ze[0].toLowerCase()],Qe+ze[0].length):-1}function Sl($e,dt,Qe){var ze=Tn.exec(dt.slice(Qe));return ze?($e.m=Wt[ze[0].toLowerCase()],Qe+ze[0].length):-1}function sf($e,dt,Qe){return sa($e,se,dt,Qe)}function ff($e,dt,Qe){return sa($e,ke,dt,Qe)}function Ml($e,dt,Qe){return sa($e,Ee,dt,Qe)}function df($e){return ar[$e.getDay()]}function mf($e){return tn[$e.getDay()]}function hf($e){return Wn[$e.getMonth()]}function pf($e){return ca[$e.getMonth()]}function kt($e){return en[+($e.getHours()>=12)]}function Xa($e){return 1+~~($e.getMonth()/3)}function ja($e){return ar[$e.getUTCDay()]}function $r($e){return tn[$e.getUTCDay()]}function Dn($e){return Wn[$e.getUTCMonth()]}function gf($e){return ca[$e.getUTCMonth()]}function vf($e){return en[+($e.getUTCHours()>=12)]}function yf($e){return 1+~~($e.getUTCMonth()/3)}return{format:function($e){var dt=yr($e+="",ot);return dt.toString=function(){return $e},dt},parse:function($e){var dt=ji($e+="",!1);return dt.toString=function(){return $e},dt},utcFormat:function($e){var dt=yr($e+="",Wr);return dt.toString=function(){return $e},dt},utcParse:function($e){var dt=ji($e+="",!0);return dt.toString=function(){return $e},dt}}}var o={"-":"",_:" ",0:"0"},l=/^\s*\d+/,s=/^%/,f=/[\\^$*+?|[\]().{}]/g;function m(G,se,ke){var Ee=G<0?"-":"",en=(Ee?-G:G)+"",tn=en.length;return Ee+(tn<ke?new Array(ke-tn+1).join(se)+en:en)}function w(G){return G.replace(f,"\\$&")}function v(G){return new RegExp("^(?:"+G.map(w).join("|")+")","i")}function M(G){for(var se={},ke=-1,Ee=G.length;++ke<Ee;)se[G[ke].toLowerCase()]=ke;return se}function C(G,se,ke){var Ee=l.exec(se.slice(ke,ke+1));return Ee?(G.w=+Ee[0],ke+Ee[0].length):-1}function A(G,se,ke){var Ee=l.exec(se.slice(ke,ke+1));return Ee?(G.u=+Ee[0],ke+Ee[0].length):-1}function T(G,se,ke){var Ee=l.exec(se.slice(ke,ke+2));return Ee?(G.U=+Ee[0],ke+Ee[0].length):-1}function D(G,se,ke){var Ee=l.exec(se.slice(ke,ke+2));return Ee?(G.V=+Ee[0],ke+Ee[0].length):-1}function R(G,se,ke){var Ee=l.exec(se.slice(ke,ke+2));return Ee?(G.W=+Ee[0],ke+Ee[0].length):-1}function H(G,se,ke){var Ee=l.exec(se.slice(ke,ke+4));return Ee?(G.y=+Ee[0],ke+Ee[0].length):-1}function V(G,se,ke){var Ee=l.exec(se.slice(ke,ke+2));return Ee?(G.y=+Ee[0]+(+Ee[0]>68?1900:2e3),ke+Ee[0].length):-1}function I(G,se,ke){var Ee=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(se.slice(ke,ke+6));return Ee?(G.Z=Ee[1]?0:-(Ee[2]+(Ee[3]||"00")),ke+Ee[0].length):-1}function z(G,se,ke){var Ee=l.exec(se.slice(ke,ke+1));return Ee?(G.q=Ee[0]*3-3,ke+Ee[0].length):-1}function j(G,se,ke){var Ee=l.exec(se.slice(ke,ke+2));return Ee?(G.m=Ee[0]-1,ke+Ee[0].length):-1}function Z(G,se,ke){var Ee=l.exec(se.slice(ke,ke+2));return Ee?(G.d=+Ee[0],ke+Ee[0].length):-1}function ve(G,se,ke){var Ee=l.exec(se.slice(ke,ke+3));return Ee?(G.m=0,G.d=+Ee[0],ke+Ee[0].length):-1}function ye(G,se,ke){var Ee=l.exec(se.slice(ke,ke+2));return Ee?(G.H=+Ee[0],ke+Ee[0].length):-1}function ue(G,se,ke){var Ee=l.exec(se.slice(ke,ke+2));return Ee?(G.M=+Ee[0],ke+Ee[0].length):-1}function Ie(G,se,ke){var Ee=l.exec(se.slice(ke,ke+2));return Ee?(G.S=+Ee[0],ke+Ee[0].length):-1}function de(G,se,ke){var Ee=l.exec(se.slice(ke,ke+3));return Ee?(G.L=+Ee[0],ke+Ee[0].length):-1}function $(G,se,ke){var Ee=l.exec(se.slice(ke,ke+6));return Ee?(G.L=Math.floor(Ee[0]/1e3),ke+Ee[0].length):-1}function we(G,se,ke){var Ee=s.exec(se.slice(ke,ke+1));return Ee?ke+Ee[0].length:-1}function te(G,se,ke){var Ee=l.exec(se.slice(ke));return Ee?(G.Q=+Ee[0],ke+Ee[0].length):-1}function ae(G,se,ke){var Ee=l.exec(se.slice(ke));return Ee?(G.s=+Ee[0],ke+Ee[0].length):-1}function pe(G,se){return m(G.getDate(),se,2)}function ie(G,se){return m(G.getHours(),se,2)}function be(G,se){return m(G.getHours()%12||12,se,2)}function Le(G,se){return m(1+t.timeDay.count(t.timeYear(G),G),se,3)}function Pe(G,se){return m(G.getMilliseconds(),se,3)}function Se(G,se){return Pe(G,se)+"000"}function He(G,se){return m(G.getMonth()+1,se,2)}function X(G,se){return m(G.getMinutes(),se,2)}function he(G,se){return m(G.getSeconds(),se,2)}function le(G){var se=G.getDay();return se===0?7:se}function me(G,se){return m(t.timeSunday.count(t.timeYear(G)-1,G),se,2)}function Q(G){var se=G.getDay();return se>=4||se===0?t.timeThursday(G):t.timeThursday.ceil(G)}function K(G,se){return G=Q(G),m(t.timeThursday.count(t.timeYear(G),G)+(t.timeYear(G).getDay()===4),se,2)}function Ce(G){return G.getDay()}function Me(G,se){return m(t.timeMonday.count(t.timeYear(G)-1,G),se,2)}function Xe(G,se){return m(G.getFullYear()%100,se,2)}function Je(G,se){return G=Q(G),m(G.getFullYear()%100,se,2)}function mt(G,se){return m(G.getFullYear()%1e4,se,4)}function ft(G,se){var ke=G.getDay();return G=ke>=4||ke===0?t.timeThursday(G):t.timeThursday.ceil(G),m(G.getFullYear()%1e4,se,4)}function Ye(G){var se=G.getTimezoneOffset();return(se>0?"-":(se*=-1,"+"))+m(se/60|0,"0",2)+m(se%60,"0",2)}function rt(G,se){return m(G.getUTCDate(),se,2)}function St(G,se){return m(G.getUTCHours(),se,2)}function ht(G,se){return m(G.getUTCHours()%12||12,se,2)}function Hn(G,se){return m(1+t.utcDay.count(t.utcYear(G),G),se,3)}function mn(G,se){return m(G.getUTCMilliseconds(),se,3)}function kn(G,se){return mn(G,se)+"000"}function Vn(G,se){return m(G.getUTCMonth()+1,se,2)}function Jt(G,se){return m(G.getUTCMinutes(),se,2)}function Yn(G,se){return m(G.getUTCSeconds(),se,2)}function L(G){var se=G.getUTCDay();return se===0?7:se}function Y(G,se){return m(t.utcSunday.count(t.utcYear(G)-1,G),se,2)}function ge(G){var se=G.getUTCDay();return se>=4||se===0?t.utcThursday(G):t.utcThursday.ceil(G)}function Oe(G,se){return G=ge(G),m(t.utcThursday.count(t.utcYear(G),G)+(t.utcYear(G).getUTCDay()===4),se,2)}function Te(G){return G.getUTCDay()}function E(G,se){return m(t.utcMonday.count(t.utcYear(G)-1,G),se,2)}function q(G,se){return m(G.getUTCFullYear()%100,se,2)}function ce(G,se){return G=ge(G),m(G.getUTCFullYear()%100,se,2)}function Ve(G,se){return m(G.getUTCFullYear()%1e4,se,4)}function W(G,se){var ke=G.getUTCDay();return G=ke>=4||ke===0?t.utcThursday(G):t.utcThursday.ceil(G),m(G.getUTCFullYear()%1e4,se,4)}function ee(){return"+0000"}function oe(){return"%"}function _e(G){return+G}function xe(G){return Math.floor(+G/1e3)}var Ae;De({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function De(G){return Ae=i(G),e.timeFormat=Ae.format,e.timeParse=Ae.parse,e.utcFormat=Ae.utcFormat,e.utcParse=Ae.utcParse,Ae}var Fe="%Y-%m-%dT%H:%M:%S.%LZ";function We(G){return G.toISOString()}var et=Date.prototype.toISOString?We:e.utcFormat(Fe);function xt(G){var se=new Date(G);return isNaN(se)?null:se}var Ue=+new Date("2000-01-01T00:00:00.000Z")?xt:e.utcParse(Fe);e.isoFormat=et,e.isoParse=Ue,e.timeFormatDefaultLocale=De,e.timeFormatLocale=i,Object.defineProperty(e,"__esModule",{value:!0})})});var Fd=ir((Xl,m1)=>{(function(e,t){typeof Xl=="object"&&typeof m1<"u"?t(Xl,Od(),i1(),l1(),Id(),Rd(),d1(),zd()):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-collection","d3-interpolate","d3-format","d3-time","d3-time-format","d3-color"],t):t(e.d3=e.d3||{},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3)})(Xl,function(e,t,n,r,a,i,o,l){"use strict";var s=Array.prototype,f=s.map,m=s.slice,w={name:"implicit"};function v(W){var ee=n.map(),oe=[],_e=w;W=W==null?[]:m.call(W);function xe(Ae){var De=Ae+"",Fe=ee.get(De);if(!Fe){if(_e!==w)return _e;ee.set(De,Fe=oe.push(Ae))}return W[(Fe-1)%W.length]}return xe.domain=function(Ae){if(!arguments.length)return oe.slice();oe=[],ee=n.map();for(var De=-1,Fe=Ae.length,We,et;++De<Fe;)ee.has(et=(We=Ae[De])+"")||ee.set(et,oe.push(We));return xe},xe.range=function(Ae){return arguments.length?(W=m.call(Ae),xe):W.slice()},xe.unknown=function(Ae){return arguments.length?(_e=Ae,xe):_e},xe.copy=function(){return v().domain(oe).range(W).unknown(_e)},xe}function M(){var W=v().unknown(void 0),ee=W.domain,oe=W.range,_e=[0,1],xe,Ae,De=!1,Fe=0,We=0,et=.5;delete W.unknown;function xt(){var Ue=ee().length,G=_e[1]<_e[0],se=_e[G-0],ke=_e[1-G];xe=(ke-se)/Math.max(1,Ue-Fe+We*2),De&&(xe=Math.floor(xe)),se+=(ke-se-xe*(Ue-Fe))*et,Ae=xe*(1-Fe),De&&(se=Math.round(se),Ae=Math.round(Ae));var Ee=t.range(Ue).map(function(en){return se+xe*en});return oe(G?Ee.reverse():Ee)}return W.domain=function(Ue){return arguments.length?(ee(Ue),xt()):ee()},W.range=function(Ue){return arguments.length?(_e=[+Ue[0],+Ue[1]],xt()):_e.slice()},W.rangeRound=function(Ue){return _e=[+Ue[0],+Ue[1]],De=!0,xt()},W.bandwidth=function(){return Ae},W.step=function(){return xe},W.round=function(Ue){return arguments.length?(De=!!Ue,xt()):De},W.padding=function(Ue){return arguments.length?(Fe=We=Math.max(0,Math.min(1,Ue)),xt()):Fe},W.paddingInner=function(Ue){return arguments.length?(Fe=Math.max(0,Math.min(1,Ue)),xt()):Fe},W.paddingOuter=function(Ue){return arguments.length?(We=Math.max(0,Math.min(1,Ue)),xt()):We},W.align=function(Ue){return arguments.length?(et=Math.max(0,Math.min(1,Ue)),xt()):et},W.copy=function(){return M().domain(ee()).range(_e).round(De).paddingInner(Fe).paddingOuter(We).align(et)},xt()}function C(W){var ee=W.copy;return W.padding=W.paddingOuter,delete W.paddingInner,delete W.paddingOuter,W.copy=function(){return C(ee())},W}function A(){return C(M().paddingInner(1))}function T(W){return function(){return W}}function D(W){return+W}var R=[0,1];function H(W,ee){return(ee-=W=+W)?function(oe){return(oe-W)/ee}:T(ee)}function V(W){return function(ee,oe){var _e=W(ee=+ee,oe=+oe);return function(xe){return xe<=ee?0:xe>=oe?1:_e(xe)}}}function I(W){return function(ee,oe){var _e=W(ee=+ee,oe=+oe);return function(xe){return xe<=0?ee:xe>=1?oe:_e(xe)}}}function z(W,ee,oe,_e){var xe=W[0],Ae=W[1],De=ee[0],Fe=ee[1];return Ae<xe?(xe=oe(Ae,xe),De=_e(Fe,De)):(xe=oe(xe,Ae),De=_e(De,Fe)),function(We){return De(xe(We))}}function j(W,ee,oe,_e){var xe=Math.min(W.length,ee.length)-1,Ae=new Array(xe),De=new Array(xe),Fe=-1;for(W[xe]<W[0]&&(W=W.slice().reverse(),ee=ee.slice().reverse());++Fe<xe;)Ae[Fe]=oe(W[Fe],W[Fe+1]),De[Fe]=_e(ee[Fe],ee[Fe+1]);return function(We){var et=t.bisect(W,We,1,xe)-1;return De[et](Ae[et](We))}}function Z(W,ee){return ee.domain(W.domain()).range(W.range()).interpolate(W.interpolate()).clamp(W.clamp())}function ve(W,ee){var oe=R,_e=R,xe=r.interpolate,Ae=!1,De,Fe,We;function et(){return De=Math.min(oe.length,_e.length)>2?j:z,Fe=We=null,xt}function xt(Ue){return(Fe||(Fe=De(oe,_e,Ae?V(W):W,xe)))(+Ue)}return xt.invert=function(Ue){return(We||(We=De(_e,oe,H,Ae?I(ee):ee)))(+Ue)},xt.domain=function(Ue){return arguments.length?(oe=f.call(Ue,D),et()):oe.slice()},xt.range=function(Ue){return arguments.length?(_e=m.call(Ue),et()):_e.slice()},xt.rangeRound=function(Ue){return _e=m.call(Ue),xe=r.interpolateRound,et()},xt.clamp=function(Ue){return arguments.length?(Ae=!!Ue,et()):Ae},xt.interpolate=function(Ue){return arguments.length?(xe=Ue,et()):xe},et()}function ye(W,ee,oe){var _e=W[0],xe=W[W.length-1],Ae=t.tickStep(_e,xe,ee??10),De;switch(oe=a.formatSpecifier(oe??",f"),oe.type){case"s":{var Fe=Math.max(Math.abs(_e),Math.abs(xe));return oe.precision==null&&!isNaN(De=a.precisionPrefix(Ae,Fe))&&(oe.precision=De),a.formatPrefix(oe,Fe)}case"":case"e":case"g":case"p":case"r":{oe.precision==null&&!isNaN(De=a.precisionRound(Ae,Math.max(Math.abs(_e),Math.abs(xe))))&&(oe.precision=De-(oe.type==="e"));break}case"f":case"%":{oe.precision==null&&!isNaN(De=a.precisionFixed(Ae))&&(oe.precision=De-(oe.type==="%")*2);break}}return a.format(oe)}function ue(W){var ee=W.domain;return W.ticks=function(oe){var _e=ee();return t.ticks(_e[0],_e[_e.length-1],oe??10)},W.tickFormat=function(oe,_e){return ye(ee(),oe,_e)},W.nice=function(oe){var _e=ee(),xe=_e.length-1,Ae=oe??10,De=_e[0],Fe=_e[xe],We=t.tickStep(De,Fe,Ae);return We&&(We=t.tickStep(Math.floor(De/We)*We,Math.ceil(Fe/We)*We,Ae),_e[0]=Math.floor(De/We)*We,_e[xe]=Math.ceil(Fe/We)*We,ee(_e)),W},W}function Ie(){var W=ve(H,r.interpolateNumber);return W.copy=function(){return Z(W,Ie())},ue(W)}function de(){var W=[0,1];function ee(oe){return+oe}return ee.invert=ee,ee.domain=ee.range=function(oe){return arguments.length?(W=f.call(oe,D),ee):W.slice()},ee.copy=function(){return de().domain(W)},ue(ee)}function $(W,ee){W=W.slice();var oe=0,_e=W.length-1,xe=W[oe],Ae=W[_e],De;return Ae<xe&&(De=oe,oe=_e,_e=De,De=xe,xe=Ae,Ae=De),W[oe]=ee.floor(xe),W[_e]=ee.ceil(Ae),W}function we(W,ee){return(ee=Math.log(ee/W))?function(oe){return Math.log(oe/W)/ee}:T(ee)}function te(W,ee){return W<0?function(oe){return-Math.pow(-ee,oe)*Math.pow(-W,1-oe)}:function(oe){return Math.pow(ee,oe)*Math.pow(W,1-oe)}}function ae(W){return isFinite(W)?+("1e"+W):W<0?0:W}function pe(W){return W===10?ae:W===Math.E?Math.exp:function(ee){return Math.pow(W,ee)}}function ie(W){return W===Math.E?Math.log:W===10&&Math.log10||W===2&&Math.log2||(W=Math.log(W),function(ee){return Math.log(ee)/W})}function be(W){return function(ee){return-W(-ee)}}function Le(){var W=ve(we,te).domain([1,10]),ee=W.domain,oe=10,_e=ie(10),xe=pe(10);function Ae(){return _e=ie(oe),xe=pe(oe),ee()[0]<0&&(_e=be(_e),xe=be(xe)),W}return W.base=function(De){return arguments.length?(oe=+De,Ae()):oe},W.domain=function(De){return arguments.length?(ee(De),Ae()):ee()},W.ticks=function(De){var Fe=ee(),We=Fe[0],et=Fe[Fe.length-1],xt;(xt=et<We)&&(Ue=We,We=et,et=Ue);var Ue=_e(We),G=_e(et),se,ke,Ee,en=De==null?10:+De,tn=[];if(!(oe%1)&&G-Ue<en){if(Ue=Math.round(Ue)-1,G=Math.round(G)+1,We>0){for(;Ue<G;++Ue)for(ke=1,se=xe(Ue);ke<oe;++ke)if(Ee=se*ke,!(Ee<We)){if(Ee>et)break;tn.push(Ee)}}else for(;Ue<G;++Ue)for(ke=oe-1,se=xe(Ue);ke>=1;--ke)if(Ee=se*ke,!(Ee<We)){if(Ee>et)break;tn.push(Ee)}}else tn=t.ticks(Ue,G,Math.min(G-Ue,en)).map(xe);return xt?tn.reverse():tn},W.tickFormat=function(De,Fe){if(Fe==null&&(Fe=oe===10?".0e":","),typeof Fe!="function"&&(Fe=a.format(Fe)),De===1/0)return Fe;De==null&&(De=10);var We=Math.max(1,oe*De/W.ticks().length);return function(et){var xt=et/xe(Math.round(_e(et)));return xt*oe<oe-.5&&(xt*=oe),xt<=We?Fe(et):""}},W.nice=function(){return ee($(ee(),{floor:function(De){return xe(Math.floor(_e(De)))},ceil:function(De){return xe(Math.ceil(_e(De)))}}))},W.copy=function(){return Z(W,Le().base(oe))},W}function Pe(W,ee){return W<0?-Math.pow(-W,ee):Math.pow(W,ee)}function Se(){var W=1,ee=ve(_e,xe),oe=ee.domain;function _e(Ae,De){return(De=Pe(De,W)-(Ae=Pe(Ae,W)))?function(Fe){return(Pe(Fe,W)-Ae)/De}:T(De)}function xe(Ae,De){return De=Pe(De,W)-(Ae=Pe(Ae,W)),function(Fe){return Pe(Ae+De*Fe,1/W)}}return ee.exponent=function(Ae){return arguments.length?(W=+Ae,oe(oe())):W},ee.copy=function(){return Z(ee,Se().exponent(W))},ue(ee)}function He(){return Se().exponent(.5)}function X(){var W=[],ee=[],oe=[];function _e(){var Ae=0,De=Math.max(1,ee.length);for(oe=new Array(De-1);++Ae<De;)oe[Ae-1]=t.quantile(W,Ae/De);return xe}function xe(Ae){if(!isNaN(Ae=+Ae))return ee[t.bisect(oe,Ae)]}return xe.invertExtent=function(Ae){var De=ee.indexOf(Ae);return De<0?[NaN,NaN]:[De>0?oe[De-1]:W[0],De<oe.length?oe[De]:W[W.length-1]]},xe.domain=function(Ae){if(!arguments.length)return W.slice();W=[];for(var De=0,Fe=Ae.length,We;De<Fe;++De)We=Ae[De],We!=null&&!isNaN(We=+We)&&W.push(We);return W.sort(t.ascending),_e()},xe.range=function(Ae){return arguments.length?(ee=m.call(Ae),_e()):ee.slice()},xe.quantiles=function(){return oe.slice()},xe.copy=function(){return X().domain(W).range(ee)},xe}function he(){var W=0,ee=1,oe=1,_e=[.5],xe=[0,1];function Ae(Fe){if(Fe<=Fe)return xe[t.bisect(_e,Fe,0,oe)]}function De(){var Fe=-1;for(_e=new Array(oe);++Fe<oe;)_e[Fe]=((Fe+1)*ee-(Fe-oe)*W)/(oe+1);return Ae}return Ae.domain=function(Fe){return arguments.length?(W=+Fe[0],ee=+Fe[1],De()):[W,ee]},Ae.range=function(Fe){return arguments.length?(oe=(xe=m.call(Fe)).length-1,De()):xe.slice()},Ae.invertExtent=function(Fe){var We=xe.indexOf(Fe);return We<0?[NaN,NaN]:We<1?[W,_e[0]]:We>=oe?[_e[oe-1],ee]:[_e[We-1],_e[We]]},Ae.copy=function(){return he().domain([W,ee]).range(xe)},ue(Ae)}function le(){var W=[.5],ee=[0,1],oe=1;function _e(xe){if(xe<=xe)return ee[t.bisect(W,xe,0,oe)]}return _e.domain=function(xe){return arguments.length?(W=m.call(xe),oe=Math.min(W.length,ee.length-1),_e):W.slice()},_e.range=function(xe){return arguments.length?(ee=m.call(xe),oe=Math.min(W.length,ee.length-1),_e):ee.slice()},_e.invertExtent=function(xe){var Ae=ee.indexOf(xe);return[W[Ae-1],W[Ae]]},_e.copy=function(){return le().domain(W).range(ee)},_e}var me=1e3,Q=me*60,K=Q*60,Ce=K*24,Me=Ce*7,Xe=Ce*30,Je=Ce*365;function mt(W){return new Date(W)}function ft(W){return W instanceof Date?+W:+new Date(+W)}function Ye(W,ee,oe,_e,xe,Ae,De,Fe,We){var et=ve(H,r.interpolateNumber),xt=et.invert,Ue=et.domain,G=We(".%L"),se=We(":%S"),ke=We("%I:%M"),Ee=We("%I %p"),en=We("%a %d"),tn=We("%b %d"),ar=We("%B"),ca=We("%Y"),Wn=[[De,1,me],[De,5,5*me],[De,15,15*me],[De,30,30*me],[Ae,1,Q],[Ae,5,5*Q],[Ae,15,15*Q],[Ae,30,30*Q],[xe,1,K],[xe,3,3*K],[xe,6,6*K],[xe,12,12*K],[_e,1,Ce],[_e,2,2*Ce],[oe,1,Me],[ee,1,Xe],[ee,3,3*Xe],[W,1,Je]];function qo(at){return(De(at)<at?G:Ae(at)<at?se:xe(at)<at?ke:_e(at)<at?Ee:ee(at)<at?oe(at)<at?en:tn:W(at)<at?ar:ca)(at)}function ct(at,Ft,Yt,nn){if(at==null&&(at=10),typeof at=="number"){var Tn=Math.abs(Yt-Ft)/at,Wt=t.bisector(function(hn){return hn[2]}).right(Wn,Tn);Wt===Wn.length?(nn=t.tickStep(Ft/Je,Yt/Je,at),at=W):Wt?(Wt=Wn[Tn/Wn[Wt-1][2]<Wn[Wt][2]/Tn?Wt-1:Wt],nn=Wt[1],at=Wt[0]):(nn=t.tickStep(Ft,Yt,at),at=Fe)}return nn==null?at:at.every(nn)}return et.invert=function(at){return new Date(xt(at))},et.domain=function(at){return arguments.length?Ue(f.call(at,ft)):Ue().map(mt)},et.ticks=function(at,Ft){var Yt=Ue(),nn=Yt[0],Tn=Yt[Yt.length-1],Wt=Tn<nn,hn;return Wt&&(hn=nn,nn=Tn,Tn=hn),hn=ct(at,nn,Tn,Ft),hn=hn?hn.range(nn,Tn+1):[],Wt?hn.reverse():hn},et.tickFormat=function(at,Ft){return Ft==null?qo:We(Ft)},et.nice=function(at,Ft){var Yt=Ue();return(at=ct(at,Yt[0],Yt[Yt.length-1],Ft))?Ue($(Yt,at)):et},et.copy=function(){return Z(et,Ye(W,ee,oe,_e,xe,Ae,De,Fe,We))},et}function rt(){return Ye(i.timeYear,i.timeMonth,i.timeWeek,i.timeDay,i.timeHour,i.timeMinute,i.timeSecond,i.timeMillisecond,o.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])}function St(){return Ye(i.utcYear,i.utcMonth,i.utcWeek,i.utcDay,i.utcHour,i.utcMinute,i.utcSecond,i.utcMillisecond,o.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])}function ht(W){return W.match(/.{6}/g).map(function(ee){return"#"+ee})}var Hn=ht("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),mn=ht("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),kn=ht("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),Vn=ht("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Jt=r.interpolateCubehelixLong(l.cubehelix(300,.5,0),l.cubehelix(-240,.5,1)),Yn=r.interpolateCubehelixLong(l.cubehelix(-100,.75,.35),l.cubehelix(80,1.5,.8)),L=r.interpolateCubehelixLong(l.cubehelix(260,.75,.35),l.cubehelix(80,1.5,.8)),Y=l.cubehelix();function ge(W){(W<0||W>1)&&(W-=Math.floor(W));var ee=Math.abs(W-.5);return Y.h=360*W-100,Y.s=1.5-1.5*ee,Y.l=.8-.9*ee,Y+""}function Oe(W){var ee=W.length;return function(oe){return W[Math.max(0,Math.min(ee-1,Math.floor(oe*ee)))]}}var Te=Oe(ht("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),E=Oe(ht("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),q=Oe(ht("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ce=Oe(ht("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function Ve(W){var ee=0,oe=1,_e=!1;function xe(Ae){var De=(Ae-ee)/(oe-ee);return W(_e?Math.max(0,Math.min(1,De)):De)}return xe.domain=function(Ae){return arguments.length?(ee=+Ae[0],oe=+Ae[1],xe):[ee,oe]},xe.clamp=function(Ae){return arguments.length?(_e=!!Ae,xe):_e},xe.interpolator=function(Ae){return arguments.length?(W=Ae,xe):W},xe.copy=function(){return Ve(W).domain([ee,oe]).clamp(_e)},ue(xe)}e.scaleBand=M,e.scalePoint=A,e.scaleIdentity=de,e.scaleLinear=Ie,e.scaleLog=Le,e.scaleOrdinal=v,e.scaleImplicit=w,e.scalePow=Se,e.scaleSqrt=He,e.scaleQuantile=X,e.scaleQuantize=he,e.scaleThreshold=le,e.scaleTime=rt,e.scaleUtc=St,e.schemeCategory10=Hn,e.schemeCategory20b=mn,e.schemeCategory20c=kn,e.schemeCategory20=Vn,e.interpolateCubehelixDefault=Jt,e.interpolateRainbow=ge,e.interpolateWarm=Yn,e.interpolateCool=L,e.interpolateViridis=Te,e.interpolateMagma=E,e.interpolateInferno=q,e.interpolatePlasma=ce,e.scaleSequential=Ve,Object.defineProperty(e,"__esModule",{value:!0})})});function At(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{let o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{let s=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return s;let f;do s.push(f=new Date(+i)),t(i,l),e(i);while(f<i&&i<o);return s},a.filter=i=>At(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(Bd.setTime(+i),Hd.setTime(+o),e(Bd),e(Hd),Math.floor(n(Bd,Hd))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}var Bd,Hd,Cr=P(()=>{Bd=new Date,Hd=new Date});var ba,Yd,Wd=P(()=>{Cr();ba=At(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ba.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?At(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ba);Yd=ba.range});var cr,$d,Ud=P(()=>{Cr();cr=At(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*1e3)},(e,t)=>(t-e)/1e3,e=>e.getUTCSeconds()),$d=cr.range});var ui,h1,hu,p1,qd=P(()=>{Cr();ui=At(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getMinutes()),h1=ui.range,hu=At(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*6e4)},(e,t)=>(t-e)/6e4,e=>e.getUTCMinutes()),p1=hu.range});var ci,g1,pu,v1,Gd=P(()=>{Cr();ci=At(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*1e3-e.getMinutes()*6e4)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getHours()),g1=ci.range,pu=At(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*36e5)},(e,t)=>(t-e)/36e5,e=>e.getUTCHours()),v1=pu.range});var kr,y1,ao,b1,vu,x1,Xd=P(()=>{Cr();kr=At(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5,e=>e.getDate()-1),y1=kr.range,ao=At(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>e.getUTCDate()-1),b1=ao.range,vu=At(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/864e5,e=>Math.floor(e/864e5)),x1=vu.range});function si(e){return At(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/6048e5)}function di(e){return At(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/6048e5)}var Vr,fi,jd,Qd,Xr,Zd,Kd,Jd,_1,S1,M1,T1,C1,A1,xa,mi,em,tm,jr,nm,rm,am,k1,V1,D1,N1,E1,P1,im=P(()=>{Cr();Vr=si(0),fi=si(1),jd=si(2),Qd=si(3),Xr=si(4),Zd=si(5),Kd=si(6),Jd=Vr.range,_1=fi.range,S1=jd.range,M1=Qd.range,T1=Xr.range,C1=Zd.range,A1=Kd.range;xa=di(0),mi=di(1),em=di(2),tm=di(3),jr=di(4),nm=di(5),rm=di(6),am=xa.range,k1=mi.range,V1=em.range,D1=tm.range,N1=jr.range,E1=nm.range,P1=rm.range});var hi,L1,yu,O1,om=P(()=>{Cr();hi=At(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth()),L1=hi.range,yu=At(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth()),O1=yu.range});var zn,z1,Gn,I1,um=P(()=>{Cr();zn=At(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:At(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});z1=zn.range,Gn=At(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Gn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:At(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});I1=Gn.range});function F1(e,t,n,r,a,i){let o=[[cr,1,1e3],[cr,5,5*1e3],[cr,15,15*1e3],[cr,30,30*1e3],[i,1,6e4],[i,5,5*6e4],[i,15,15*6e4],[i,30,30*6e4],[a,1,36e5],[a,3,3*36e5],[a,6,6*36e5],[a,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[t,1,2592e6],[t,3,3*2592e6],[e,1,31536e6]];function l(f,m,w){let v=m<f;v&&([f,m]=[m,f]);let M=w&&typeof w.range=="function"?w:s(f,m,w),C=M?M.range(f,+m+1):[];return v?C.reverse():C}function s(f,m,w){let v=Math.abs(m-f)/w,M=ga(([,,T])=>T).right(o,v);if(M===o.length)return e.every(ti(f/31536e6,m/31536e6,w));if(M===0)return ba.every(Math.max(ti(f,m,w),1));let[C,A]=o[v/o[M-1][2]<o[M][2]/v?M-1:M];return C.every(A)}return[l,s]}var B1,H1,jl,Ql,Y1=P(()=>{Tr();Wd();Ud();qd();Gd();Xd();im();om();um();[B1,H1]=F1(Gn,yu,xa,vu,pu,hu),[jl,Ql]=F1(zn,hi,Vr,kr,ci,ui)});var W1={};Ln(W1,{timeDay:()=>kr,timeDays:()=>y1,timeFriday:()=>Zd,timeFridays:()=>C1,timeHour:()=>ci,timeHours:()=>g1,timeInterval:()=>At,timeMillisecond:()=>ba,timeMilliseconds:()=>Yd,timeMinute:()=>ui,timeMinutes:()=>h1,timeMonday:()=>fi,timeMondays:()=>_1,timeMonth:()=>hi,timeMonths:()=>L1,timeSaturday:()=>Kd,timeSaturdays:()=>A1,timeSecond:()=>cr,timeSeconds:()=>$d,timeSunday:()=>Vr,timeSundays:()=>Jd,timeThursday:()=>Xr,timeThursdays:()=>T1,timeTickInterval:()=>Ql,timeTicks:()=>jl,timeTuesday:()=>jd,timeTuesdays:()=>S1,timeWednesday:()=>Qd,timeWednesdays:()=>M1,timeWeek:()=>Vr,timeWeeks:()=>Jd,timeYear:()=>zn,timeYears:()=>z1,unixDay:()=>vu,unixDays:()=>x1,utcDay:()=>ao,utcDays:()=>b1,utcFriday:()=>nm,utcFridays:()=>E1,utcHour:()=>pu,utcHours:()=>v1,utcMillisecond:()=>ba,utcMilliseconds:()=>Yd,utcMinute:()=>hu,utcMinutes:()=>p1,utcMonday:()=>mi,utcMondays:()=>k1,utcMonth:()=>yu,utcMonths:()=>O1,utcSaturday:()=>rm,utcSaturdays:()=>P1,utcSecond:()=>cr,utcSeconds:()=>$d,utcSunday:()=>xa,utcSundays:()=>am,utcThursday:()=>jr,utcThursdays:()=>N1,utcTickInterval:()=>H1,utcTicks:()=>B1,utcTuesday:()=>em,utcTuesdays:()=>V1,utcWednesday:()=>tm,utcWednesdays:()=>D1,utcWeek:()=>xa,utcWeeks:()=>am,utcYear:()=>Gn,utcYears:()=>I1});var bu=P(()=>{Cr();Wd();Ud();qd();Gd();Xd();im();om();um();Y1()});var bt,qt=P(()=>{bt=Math.random});var $1,U1=P(()=>{qt();$1=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,arguments.length===1?(a=r,r=0):a-=r,function(){return t()*a+r}}return n.source=e,n}(bt)});var q1,G1=P(()=>{qt();q1=function e(t){function n(r,a){return arguments.length<2&&(a=r,r=0),r=Math.floor(r),a=Math.floor(a)-r,function(){return Math.floor(t()*a+r)}}return n.source=e,n}(bt)});var io,Zl=P(()=>{qt();io=function e(t){function n(r,a){var i,o;return r=r==null?0:+r,a=a==null?1:+a,function(){var l;if(i!=null)l=i,i=null;else do i=t()*2-1,l=t()*2-1,o=i*i+l*l;while(!o||o>1);return r+a*l*Math.sqrt(-2*Math.log(o)/o)}}return n.source=e,n}(bt)});var X1,j1=P(()=>{qt();Zl();X1=function e(t){var n=io.source(t);function r(){var a=n.apply(this,arguments);return function(){return Math.exp(a())}}return r.source=e,r}(bt)});var Kl,lm=P(()=>{qt();Kl=function e(t){function n(r){return(r=+r)<=0?()=>0:function(){for(var a=0,i=r;i>1;--i)a+=t();return a+i*t()}}return n.source=e,n}(bt)});var Q1,Z1=P(()=>{qt();lm();Q1=function e(t){var n=Kl.source(t);function r(a){if((a=+a)==0)return t;var i=n(a);return function(){return i()/a}}return r.source=e,r}(bt)});var K1,J1=P(()=>{qt();K1=function e(t){function n(r){return function(){return-Math.log1p(-t())/r}}return n.source=e,n}(bt)});var ey,ty=P(()=>{qt();ey=function e(t){function n(r){if((r=+r)<0)throw new RangeError("invalid alpha");return r=1/-r,function(){return Math.pow(1-t(),r)}}return n.source=e,n}(bt)});var ny,ry=P(()=>{qt();ny=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+r)}}return n.source=e,n}(bt)});var Jl,cm=P(()=>{qt();Jl=function e(t){function n(r){if((r=+r)<0||r>1)throw new RangeError("invalid p");return r===0?()=>1/0:r===1?()=>1:(r=Math.log1p(-r),function(){return 1+Math.floor(Math.log1p(-t())/r)})}return n.source=e,n}(bt)});var oo,ec=P(()=>{qt();Zl();oo=function e(t){var n=io.source(t)();function r(a,i){if((a=+a)<0)throw new RangeError("invalid k");if(a===0)return()=>0;if(i=i==null?1:+i,a===1)return()=>-Math.log1p(-t())*i;var o=(a<1?a+1:a)-1/3,l=1/(3*Math.sqrt(o)),s=a<1?()=>Math.pow(t(),1/a):()=>1;return function(){do{do var f=n(),m=1+l*f;while(m<=0);m*=m*m;var w=1-t()}while(w>=1-.0331*f*f*f*f&&Math.log(w)>=.5*f*f+o*(1-m+Math.log(m)));return o*m*s()*i}}return r.source=e,r}(bt)});var tc,sm=P(()=>{qt();ec();tc=function e(t){var n=oo.source(t);function r(a,i){var o=n(a),l=n(i);return function(){var s=o();return s===0?0:s/(s+l())}}return r.source=e,r}(bt)});var nc,fm=P(()=>{qt();sm();cm();nc=function e(t){var n=Jl.source(t),r=tc.source(t);function a(i,o){return i=+i,(o=+o)>=1?()=>i:o<=0?()=>0:function(){for(var l=0,s=i,f=o;s*f>16&&s*(1-f)>16;){var m=Math.floor((s+1)*f),w=r(m,s-m+1)();w<=f?(l+=m,s-=m,f=(f-w)/(1-w)):(s=m-1,f/=w)}for(var v=f<.5,M=v?f:1-f,C=n(M),A=C(),T=0;A<=s;++T)A+=C();return l+(v?T:s-T)}}return a.source=e,a}(bt)});var ay,iy=P(()=>{qt();ay=function e(t){function n(r,a,i){var o;return(r=+r)==0?o=l=>-Math.log(l):(r=1/r,o=l=>Math.pow(l,r)),a=a==null?0:+a,i=i==null?1:+i,function(){return a+i*o(-Math.log1p(-t()))}}return n.source=e,n}(bt)});var oy,uy=P(()=>{qt();oy=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){return r+a*Math.tan(Math.PI*t())}}return n.source=e,n}(bt)});var ly,cy=P(()=>{qt();ly=function e(t){function n(r,a){return r=r==null?0:+r,a=a==null?1:+a,function(){var i=t();return r+a*Math.log(i/(1-i))}}return n.source=e,n}(bt)});var sy,fy=P(()=>{qt();fm();ec();sy=function e(t){var n=oo.source(t),r=nc.source(t);function a(i){return function(){for(var o=0,l=i;l>16;){var s=Math.floor(.875*l),f=n(s)();if(f>l)return o+r(s-1,l/f)();o+=s,l-=f}for(var m=-Math.log1p(-t()),w=0;m<=l;++w)m-=Math.log1p(-t());return o+w}}return a.source=e,a}(bt)});function dm(e=Math.random()){let t=(0<=e&&e<1?e/dy:Math.abs(e))|0;return()=>(t=1664525*t+1013904223|0,dy*(t>>>0))}var dy,my=P(()=>{dy=23283064365386963e-26});var hy={};Ln(hy,{randomBates:()=>Q1,randomBernoulli:()=>ny,randomBeta:()=>tc,randomBinomial:()=>nc,randomCauchy:()=>oy,randomExponential:()=>K1,randomGamma:()=>oo,randomGeometric:()=>Jl,randomInt:()=>q1,randomIrwinHall:()=>Kl,randomLcg:()=>dm,randomLogNormal:()=>X1,randomLogistic:()=>ly,randomNormal:()=>io,randomPareto:()=>ey,randomPoisson:()=>sy,randomUniform:()=>$1,randomWeibull:()=>ay});var mm=P(()=>{U1();G1();Zl();j1();Z1();lm();J1();ty();ry();cm();fm();ec();sm();iy();uy();cy();fy();my()});function Y9(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function py(e,t){return fetch(e,t).then(Y9)}var gy=P(()=>{});function W9(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function vy(e,t){return fetch(e,t).then(W9)}var yy=P(()=>{});function wy(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function $9(e,t){var n=wy(e);return function(r,a){return t(n(r),a,e)}}function xy(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var a in r)a in t||n.push(t[a]=a)}),n}function In(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function U9(e){return e<0?"-"+In(-e,6):e>9999?"+"+In(e,6):In(e,4)}function q9(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),a=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":U9(e.getUTCFullYear(),4)+"-"+In(e.getUTCMonth()+1,2)+"-"+In(e.getUTCDate(),2)+(a?"T"+In(t,2)+":"+In(n,2)+":"+In(r,2)+"."+In(a,3)+"Z":r?"T"+In(t,2)+":"+In(n,2)+":"+In(r,2)+"Z":n||t?"T"+In(t,2)+":"+In(n,2)+"Z":"")}function pi(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(w,v){var M,C,A=a(w,function(T,D){if(M)return M(T,D-1);C=T,M=v?$9(T,v):wy(T)});return A.columns=C||[],A}function a(w,v){var M=[],C=w.length,A=0,T=0,D,R=C<=0,H=!1;w.charCodeAt(C-1)===xu&&--C,w.charCodeAt(C-1)===gm&&--C;function V(){if(R)return hm;if(H)return H=!1,by;var z,j=A,Z;if(w.charCodeAt(j)===pm){for(;A++<C&&w.charCodeAt(A)!==pm||w.charCodeAt(++A)===pm;);return(z=A)>=C?R=!0:(Z=w.charCodeAt(A++))===xu?H=!0:Z===gm&&(H=!0,w.charCodeAt(A)===xu&&++A),w.slice(j+1,z-1).replace(/""/g,'"')}for(;A<C;){if((Z=w.charCodeAt(z=A++))===xu)H=!0;else if(Z===gm)H=!0,w.charCodeAt(A)===xu&&++A;else if(Z!==n)continue;return w.slice(j,z)}return R=!0,w.slice(j,C)}for(;(D=V())!==hm;){for(var I=[];D!==by&&D!==hm;)I.push(D),D=V();v&&(I=v(I,T++))==null||M.push(I)}return M}function i(w,v){return w.map(function(M){return v.map(function(C){return m(M[C])}).join(e)})}function o(w,v){return v==null&&(v=xy(w)),[v.map(m).join(e)].concat(i(w,v)).join(`
`)}function l(w,v){return v==null&&(v=xy(w)),i(w,v).join(`
`)}function s(w){return w.map(f).join(`
`)}function f(w){return w.map(m).join(e)}function m(w){return w==null?"":w instanceof Date?q9(w):t.test(w+="")?'"'+w.replace(/"/g,'""')+'"':w}return{parse:r,parseRows:a,format:o,formatBody:l,formatRows:s,formatRow:f,formatValue:m}}var by,hm,pm,xu,gm,rc=P(()=>{by={},hm={},pm=34,xu=10,gm=13});var gi,vm,G9,X9,j9,Q9,Z9,K9,_y=P(()=>{rc();gi=pi(","),vm=gi.parse,G9=gi.parseRows,X9=gi.format,j9=gi.formatBody,Q9=gi.formatRows,Z9=gi.formatRow,K9=gi.formatValue});var vi,ym,J9,eM,tM,nM,rM,aM,Sy=P(()=>{rc();vi=pi("	"),ym=vi.parse,J9=vi.parseRows,eM=vi.format,tM=vi.formatBody,nM=vi.formatRows,rM=vi.formatRow,aM=vi.formatValue});var bm=P(()=>{rc();_y();Sy()});function iM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function yi(e,t){return fetch(e,t).then(iM)}var ac=P(()=>{});function My(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),yi(t,n).then(function(a){return e(a,r)})}}function xm(e,t,n,r){arguments.length===3&&typeof n=="function"&&(r=n,n=void 0);var a=pi(e);return yi(t,n).then(function(i){return a.parse(i,r)})}var Ty,Cy,Ay=P(()=>{bm();ac();Ty=My(vm),Cy=My(ym)});function ky(e,t){return new Promise(function(n,r){var a=new Image;for(var i in t)a[i]=t[i];a.onerror=r,a.onload=function(){n(a)},a.src=e})}var Vy=P(()=>{});function oM(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(!(e.status===204||e.status===205))return e.json()}function Dy(e,t){return fetch(e,t).then(oM)}var Ny=P(()=>{});function wm(e){return(t,n)=>yi(t,n).then(r=>new DOMParser().parseFromString(r,e))}var Ey,Py,Ly,Oy=P(()=>{ac();Ey=wm("application/xml"),Py=wm("text/html"),Ly=wm("image/svg+xml")});var zy={};Ln(zy,{blob:()=>py,buffer:()=>vy,csv:()=>Ty,dsv:()=>xm,html:()=>Py,image:()=>ky,json:()=>Dy,svg:()=>Ly,text:()=>yi,tsv:()=>Cy,xml:()=>Ey});var _m=P(()=>{gy();yy();Ay();Vy();Ny();ac();Oy()});function Iy(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function lM(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Iy;let n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}function Tm(){return new Qr}function Ry(e=3){return new Qr(+e)}var Sm,Mm,bi,uM,Qr,Fy=P(()=>{Sm=Math.PI,Mm=2*Sm,bi=1e-6,uM=Mm-bi;Qr=class{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Iy:lM(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,s=r-t,f=a-n,m=o-t,w=l-n,v=m*m+w*w;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>bi)if(!(Math.abs(w*s-f*m)>bi)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let M=r-o,C=a-l,A=s*s+f*f,T=M*M+C*C,D=Math.sqrt(A),R=Math.sqrt(v),H=i*Math.tan((Sm-Math.acos((A+v-T)/(2*D*R)))/2),V=H/R,I=H/D;Math.abs(V-1)>bi&&this._append`L${t+V*m},${n+V*w}`,this._append`A${i},${i},0,0,${+(w*M>m*C)},${this._x1=t+I*s},${this._y1=n+I*f}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(a),s=r*Math.sin(a),f=t+l,m=n+s,w=1^o,v=o?a-i:i-a;this._x1===null?this._append`M${f},${m}`:(Math.abs(this._x1-f)>bi||Math.abs(this._y1-m)>bi)&&this._append`L${f},${m}`,r&&(v<0&&(v=v%Mm+Mm),v>uM?this._append`A${r},${r},0,1,${w},${t-l},${n-s}A${r},${r},0,1,${w},${this._x1=f},${this._y1=m}`:v>bi&&this._append`A${r},${r},0,${+(v>=Sm)},${w},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}};Tm.prototype=Qr.prototype});var By={};Ln(By,{Path:()=>Qr,path:()=>Tm,pathRound:()=>Ry});var ic=P(()=>{Fy()});var oc,wu,uc=P(()=>{oc="http://www.w3.org/1999/xhtml",wu={svg:"http://www.w3.org/2000/svg",xhtml:oc,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}});function Dr(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),wu.hasOwnProperty(t)?{space:wu[t],local:e}:e}var lc=P(()=>{uc()});function cM(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===oc&&t.documentElement.namespaceURI===oc?t.createElement(e):t.createElementNS(n,e)}}function sM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wa(e){var t=Dr(e);return(t.local?sM:cM)(t)}var _u=P(()=>{lc();uc()});function fM(){}function _a(e){return e==null?fM:function(){return this.querySelector(e)}}var cc=P(()=>{});function Hy(e){typeof e!="function"&&(e=_a(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=new Array(o),s,f,m=0;m<o;++m)(s=i[m])&&(f=e.call(s,s.__data__,m,i))&&("__data__"in s&&(f.__data__=s.__data__),l[m]=f);return new Pt(r,this._parents)}var Yy=P(()=>{Xn();cc()});function Su(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}var Cm=P(()=>{});function dM(){return[]}function uo(e){return e==null?dM:function(){return this.querySelectorAll(e)}}var Am=P(()=>{});function mM(e){return function(){return Su(e.apply(this,arguments))}}function Wy(e){typeof e=="function"?e=mM(e):e=uo(e);for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],l=o.length,s,f=0;f<l;++f)(s=o[f])&&(r.push(e.call(s,s.__data__,f,o)),a.push(s));return new Pt(r,a)}var $y=P(()=>{Xn();Cm();Am()});function lo(e){return function(){return this.matches(e)}}function sc(e){return function(t){return t.matches(e)}}var Mu=P(()=>{});function pM(e){return function(){return hM.call(this.children,e)}}function gM(){return this.firstElementChild}function Uy(e){return this.select(e==null?gM:pM(typeof e=="function"?e:sc(e)))}var hM,qy=P(()=>{Mu();hM=Array.prototype.find});function yM(){return Array.from(this.children)}function bM(e){return function(){return vM.call(this.children,e)}}function Gy(e){return this.selectAll(e==null?yM:bM(typeof e=="function"?e:sc(e)))}var vM,Xy=P(()=>{Mu();vM=Array.prototype.filter});function jy(e){typeof e!="function"&&(e=lo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],s,f=0;f<o;++f)(s=i[f])&&e.call(s,s.__data__,f,i)&&l.push(s);return new Pt(r,this._parents)}var Qy=P(()=>{Xn();Mu()});function fc(e){return new Array(e.length)}var km=P(()=>{});function Zy(){return new Pt(this._enter||this._groups.map(fc),this._parents)}function Tu(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}var Vm=P(()=>{km();Xn();Tu.prototype={constructor:Tu,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}});function Ky(e){return function(){return e}}var Jy=P(()=>{});function xM(e,t,n,r,a,i){for(var o=0,l,s=t.length,f=i.length;o<f;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new Tu(e,i[o]);for(;o<s;++o)(l=t[o])&&(a[o]=l)}function wM(e,t,n,r,a,i,o){var l,s,f=new Map,m=t.length,w=i.length,v=new Array(m),M;for(l=0;l<m;++l)(s=t[l])&&(v[l]=M=o.call(s,s.__data__,l,t)+"",f.has(M)?a[l]=s:f.set(M,s));for(l=0;l<w;++l)M=o.call(e,i[l],l,i)+"",(s=f.get(M))?(r[l]=s,s.__data__=i[l],f.delete(M)):n[l]=new Tu(e,i[l]);for(l=0;l<m;++l)(s=t[l])&&f.get(v[l])===s&&(a[l]=s)}function _M(e){return e.__data__}function eb(e,t){if(!arguments.length)return Array.from(this,_M);var n=t?wM:xM,r=this._parents,a=this._groups;typeof e!="function"&&(e=Ky(e));for(var i=a.length,o=new Array(i),l=new Array(i),s=new Array(i),f=0;f<i;++f){var m=r[f],w=a[f],v=w.length,M=SM(e.call(m,m&&m.__data__,f,r)),C=M.length,A=l[f]=new Array(C),T=o[f]=new Array(C),D=s[f]=new Array(v);n(m,w,A,T,D,M,t);for(var R=0,H=0,V,I;R<C;++R)if(V=A[R]){for(R>=H&&(H=R+1);!(I=T[H])&&++H<C;);V._next=I||null}}return o=new Pt(o,r),o._enter=l,o._exit=s,o}function SM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var tb=P(()=>{Xn();Vm();Jy()});function nb(){return new Pt(this._exit||this._groups.map(fc),this._parents)}var rb=P(()=>{km();Xn()});function ab(e,t,n){var r=this.enter(),a=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),n==null?i.remove():n(i),r&&a?r.merge(a).order():a}var ib=P(()=>{});function ob(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,a=n.length,i=r.length,o=Math.min(a,i),l=new Array(a),s=0;s<o;++s)for(var f=n[s],m=r[s],w=f.length,v=l[s]=new Array(w),M,C=0;C<w;++C)(M=f[C]||m[C])&&(v[C]=M);for(;s<a;++s)l[s]=n[s];return new Pt(l,this._parents)}var ub=P(()=>{Xn()});function lb(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}var cb=P(()=>{});function sb(e){e||(e=MM);function t(w,v){return w&&v?e(w.__data__,v.__data__):!w-!v}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,s=a[i]=new Array(l),f,m=0;m<l;++m)(f=o[m])&&(s[m]=f);s.sort(t)}return new Pt(a,this._parents).order()}function MM(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}var fb=P(()=>{Xn()});function db(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}var mb=P(()=>{});function hb(){return Array.from(this)}var pb=P(()=>{});function gb(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}var vb=P(()=>{});function yb(){let e=0;for(let t of this)++e;return e}var bb=P(()=>{});function xb(){return!this.node()}var wb=P(()=>{});function _b(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}var Sb=P(()=>{});function TM(e){return function(){this.removeAttribute(e)}}function CM(e){return function(){this.removeAttributeNS(e.space,e.local)}}function AM(e,t){return function(){this.setAttribute(e,t)}}function kM(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function VM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function DM(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Mb(e,t){var n=Dr(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?CM:TM:typeof t=="function"?n.local?DM:VM:n.local?kM:AM)(n,t))}var Tb=P(()=>{lc()});function co(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}var dc=P(()=>{});function NM(e){return function(){this.style.removeProperty(e)}}function EM(e,t,n){return function(){this.style.setProperty(e,t,n)}}function PM(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Cb(e,t,n){return arguments.length>1?this.each((t==null?NM:typeof t=="function"?PM:EM)(e,t,n??"")):Zr(this.node(),e)}function Zr(e,t){return e.style.getPropertyValue(t)||co(e).getComputedStyle(e,null).getPropertyValue(t)}var Dm=P(()=>{dc()});function LM(e){return function(){delete this[e]}}function OM(e,t){return function(){this[e]=t}}function zM(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Ab(e,t){return arguments.length>1?this.each((t==null?LM:typeof t=="function"?zM:OM)(e,t)):this.node()[e]}var kb=P(()=>{});function Vb(e){return e.trim().split(/^|\s+/)}function Nm(e){return e.classList||new Db(e)}function Db(e){this._node=e,this._names=Vb(e.getAttribute("class")||"")}function Nb(e,t){for(var n=Nm(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function Eb(e,t){for(var n=Nm(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function IM(e){return function(){Nb(this,e)}}function RM(e){return function(){Eb(this,e)}}function FM(e,t){return function(){(t.apply(this,arguments)?Nb:Eb)(this,e)}}function Pb(e,t){var n=Vb(e+"");if(arguments.length<2){for(var r=Nm(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?FM:t?IM:RM)(n,t))}var Lb=P(()=>{Db.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}}});function BM(){this.textContent=""}function HM(e){return function(){this.textContent=e}}function YM(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Ob(e){return arguments.length?this.each(e==null?BM:(typeof e=="function"?YM:HM)(e)):this.node().textContent}var zb=P(()=>{});function WM(){this.innerHTML=""}function $M(e){return function(){this.innerHTML=e}}function UM(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ib(e){return arguments.length?this.each(e==null?WM:(typeof e=="function"?UM:$M)(e)):this.node().innerHTML}var Rb=P(()=>{});function qM(){this.nextSibling&&this.parentNode.appendChild(this)}function Fb(){return this.each(qM)}var Bb=P(()=>{});function GM(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Hb(){return this.each(GM)}var Yb=P(()=>{});function Wb(e){var t=typeof e=="function"?e:wa(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}var $b=P(()=>{_u()});function XM(){return null}function Ub(e,t){var n=typeof e=="function"?e:wa(e),r=t==null?XM:typeof t=="function"?t:_a(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}var qb=P(()=>{_u();cc()});function jM(){var e=this.parentNode;e&&e.removeChild(this)}function Gb(){return this.each(jM)}var Xb=P(()=>{});function QM(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZM(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jb(e){return this.select(e?ZM:QM)}var Qb=P(()=>{});function Zb(e){return arguments.length?this.property("__data__",e):this.node().__data__}var Kb=P(()=>{});function KM(e){return function(t){e.call(this,t,this.__data__)}}function JM(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function eT(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function tT(e,t,n){return function(){var r=this.__on,a,i=KM(t);if(r){for(var o=0,l=r.length;o<l;++o)if((a=r[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=n),a.value=t;return}}this.addEventListener(e.type,i,n),a={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(a):this.__on=[a]}}function Jb(e,t,n){var r=JM(e+""),a,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,f=l.length,m;s<f;++s)for(a=0,m=l[s];a<i;++a)if((o=r[a]).type===m.type&&o.name===m.name)return m.value}return}for(l=t?tT:eT,a=0;a<i;++a)this.each(l(r[a],t,n));return this}var ex=P(()=>{});function tx(e,t,n){var r=co(e),a=r.CustomEvent;typeof a=="function"?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function nT(e,t){return function(){return tx(this,e,t)}}function rT(e,t){return function(){return tx(this,e,t.apply(this,arguments))}}function nx(e,t){return this.each((typeof t=="function"?rT:nT)(e,t))}var rx=P(()=>{dc()});function*ax(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length,o;a<i;++a)(o=r[a])&&(yield o)}var ix=P(()=>{});function Pt(e,t){this._groups=e,this._parents=t}function ox(){return new Pt([[document.documentElement]],Cu)}function aT(){return this}var Cu,Nr,Xn=P(()=>{Yy();$y();qy();Xy();Qy();tb();Vm();rb();ib();ub();cb();fb();mb();pb();vb();bb();wb();Sb();Tb();Dm();kb();Lb();zb();Rb();Bb();Yb();$b();qb();Xb();Qb();Kb();ex();rx();ix();Cu=[null];Pt.prototype=ox.prototype={constructor:Pt,select:Hy,selectAll:Wy,selectChild:Uy,selectChildren:Gy,filter:jy,data:eb,enter:Zy,exit:nb,join:ab,merge:ob,selection:aT,order:lb,sort:sb,call:db,nodes:hb,node:gb,size:yb,empty:xb,each:_b,attr:Mb,style:Cb,property:Ab,classed:Pb,text:Ob,html:Ib,raise:Fb,lower:Hb,append:Wb,insert:Ub,remove:Gb,clone:jb,datum:Zb,on:Jb,dispatch:nx,[Symbol.iterator]:ax};Nr=ox});function Re(e){return typeof e=="string"?new Pt([[document.querySelector(e)]],[document.documentElement]):new Pt([[e]],Cu)}var Em=P(()=>{Xn()});function ux(e){return Re(wa(e).call(document.documentElement))}var lx=P(()=>{_u();Em()});function mc(){return new Pm}function Pm(){this._="@"+(++iT).toString(36)}var iT,cx=P(()=>{iT=0;Pm.prototype=mc.prototype={constructor:Pm,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}}});function hc(e){let t;for(;t=e.sourceEvent;)e=t;return e}var Lm=P(()=>{});function Gt(e,t){if(e=hc(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}var Om=P(()=>{Lm()});function sx(e,t){return e.target&&(e=hc(e),t===void 0&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,n=>Gt(n,t))}var fx=P(()=>{Om();Lm()});function pc(e){return typeof e=="string"?new Pt([document.querySelectorAll(e)],[document.documentElement]):new Pt([Su(e)],Cu)}var dx=P(()=>{Cm();Xn()});var mx={};Ln(mx,{create:()=>ux,creator:()=>wa,local:()=>mc,matcher:()=>lo,namespace:()=>Dr,namespaces:()=>wu,pointer:()=>Gt,pointers:()=>sx,select:()=>Re,selectAll:()=>pc,selection:()=>Nr,selector:()=>_a,selectorAll:()=>uo,style:()=>Zr,window:()=>co});var vn=P(()=>{lx();_u();cx();Mu();lc();uc();Om();fx();Em();dx();Xn();cc();Am();Dm();dc()});function tt(e){return function(){return e}}var Sa=P(()=>{});function px(e){return e>1?0:e<-1?fr:Math.acos(e)}function Im(e){return e>=1?Au:e<=-1?-Au:Math.asin(e)}var zm,ln,sr,hx,Er,yn,st,Xt,fr,Au,jn,cn=P(()=>{zm=Math.abs,ln=Math.atan2,sr=Math.cos,hx=Math.max,Er=Math.min,yn=Math.sin,st=Math.sqrt,Xt=1e-12,fr=Math.PI,Au=fr/2,jn=2*fr});function Pr(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Qr(t)}var so=P(()=>{ic()});function oT(e){return e.innerRadius}function uT(e){return e.outerRadius}function lT(e){return e.startAngle}function cT(e){return e.endAngle}function sT(e){return e&&e.padAngle}function fT(e,t,n,r,a,i,o,l){var s=n-e,f=r-t,m=o-a,w=l-i,v=w*s-m*f;if(!(v*v<Xt))return v=(m*(t-i)-w*(e-a))/v,[e+v*s,t+v*f]}function gc(e,t,n,r,a,i,o){var l=e-n,s=t-r,f=(o?i:-i)/st(l*l+s*s),m=f*s,w=-f*l,v=e+m,M=t+w,C=n+m,A=r+w,T=(v+C)/2,D=(M+A)/2,R=C-v,H=A-M,V=R*R+H*H,I=a-i,z=v*A-C*M,j=(H<0?-1:1)*st(hx(0,I*I*V-z*z)),Z=(z*H-R*j)/V,ve=(-z*R-H*j)/V,ye=(z*H+R*j)/V,ue=(-z*R+H*j)/V,Ie=Z-T,de=ve-D,$=ye-T,we=ue-D;return Ie*Ie+de*de>$*$+we*we&&(Z=ye,ve=ue),{cx:Z,cy:ve,x01:-m,y01:-w,x11:Z*(a/I-1),y11:ve*(a/I-1)}}function vc(){var e=oT,t=uT,n=tt(0),r=null,a=lT,i=cT,o=sT,l=null,s=Pr(f);function f(){var m,w,v=+e.apply(this,arguments),M=+t.apply(this,arguments),C=a.apply(this,arguments)-Au,A=i.apply(this,arguments)-Au,T=zm(A-C),D=A>C;if(l||(l=m=s()),M<v&&(w=M,M=v,v=w),!(M>Xt))l.moveTo(0,0);else if(T>jn-Xt)l.moveTo(M*sr(C),M*yn(C)),l.arc(0,0,M,C,A,!D),v>Xt&&(l.moveTo(v*sr(A),v*yn(A)),l.arc(0,0,v,A,C,D));else{var R=C,H=A,V=C,I=A,z=T,j=T,Z=o.apply(this,arguments)/2,ve=Z>Xt&&(r?+r.apply(this,arguments):st(v*v+M*M)),ye=Er(zm(M-v)/2,+n.apply(this,arguments)),ue=ye,Ie=ye,de,$;if(ve>Xt){var we=Im(ve/v*yn(Z)),te=Im(ve/M*yn(Z));(z-=we*2)>Xt?(we*=D?1:-1,V+=we,I-=we):(z=0,V=I=(C+A)/2),(j-=te*2)>Xt?(te*=D?1:-1,R+=te,H-=te):(j=0,R=H=(C+A)/2)}var ae=M*sr(R),pe=M*yn(R),ie=v*sr(I),be=v*yn(I);if(ye>Xt){var Le=M*sr(H),Pe=M*yn(H),Se=v*sr(V),He=v*yn(V),X;if(T<fr)if(X=fT(ae,pe,Se,He,Le,Pe,ie,be)){var he=ae-X[0],le=pe-X[1],me=Le-X[0],Q=Pe-X[1],K=1/yn(px((he*me+le*Q)/(st(he*he+le*le)*st(me*me+Q*Q)))/2),Ce=st(X[0]*X[0]+X[1]*X[1]);ue=Er(ye,(v-Ce)/(K-1)),Ie=Er(ye,(M-Ce)/(K+1))}else ue=Ie=0}j>Xt?Ie>Xt?(de=gc(Se,He,ae,pe,M,Ie,D),$=gc(Le,Pe,ie,be,M,Ie,D),l.moveTo(de.cx+de.x01,de.cy+de.y01),Ie<ye?l.arc(de.cx,de.cy,Ie,ln(de.y01,de.x01),ln($.y01,$.x01),!D):(l.arc(de.cx,de.cy,Ie,ln(de.y01,de.x01),ln(de.y11,de.x11),!D),l.arc(0,0,M,ln(de.cy+de.y11,de.cx+de.x11),ln($.cy+$.y11,$.cx+$.x11),!D),l.arc($.cx,$.cy,Ie,ln($.y11,$.x11),ln($.y01,$.x01),!D))):(l.moveTo(ae,pe),l.arc(0,0,M,R,H,!D)):l.moveTo(ae,pe),!(v>Xt)||!(z>Xt)?l.lineTo(ie,be):ue>Xt?(de=gc(ie,be,Le,Pe,v,-ue,D),$=gc(ae,pe,Se,He,v,-ue,D),l.lineTo(de.cx+de.x01,de.cy+de.y01),ue<ye?l.arc(de.cx,de.cy,ue,ln(de.y01,de.x01),ln($.y01,$.x01),!D):(l.arc(de.cx,de.cy,ue,ln(de.y01,de.x01),ln(de.y11,de.x11),!D),l.arc(0,0,v,ln(de.cy+de.y11,de.cx+de.x11),ln($.cy+$.y11,$.cx+$.x11),D),l.arc($.cx,$.cy,ue,ln($.y11,$.x11),ln($.y01,$.x01),!D))):l.arc(0,0,v,I,V,D)}if(l.closePath(),m)return l=null,m+""||null}return f.centroid=function(){var m=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,w=(+a.apply(this,arguments)+ +i.apply(this,arguments))/2-fr/2;return[sr(w)*m,yn(w)*m]},f.innerRadius=function(m){return arguments.length?(e=typeof m=="function"?m:tt(+m),f):e},f.outerRadius=function(m){return arguments.length?(t=typeof m=="function"?m:tt(+m),f):t},f.cornerRadius=function(m){return arguments.length?(n=typeof m=="function"?m:tt(+m),f):n},f.padRadius=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:tt(+m),f):r},f.startAngle=function(m){return arguments.length?(a=typeof m=="function"?m:tt(+m),f):a},f.endAngle=function(m){return arguments.length?(i=typeof m=="function"?m:tt(+m),f):i},f.padAngle=function(m){return arguments.length?(o=typeof m=="function"?m:tt(+m),f):o},f.context=function(m){return arguments.length?(l=m??null,f):l},f}var gx=P(()=>{Sa();cn();so()});function Ma(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}var vx,fo=P(()=>{vx=Array.prototype.slice});function yx(e){this._context=e}function Ta(e){return new yx(e)}var ku=P(()=>{yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}}});function mo(e){return e[0]}function ho(e){return e[1]}var yc=P(()=>{});function Ca(e,t){var n=tt(!0),r=null,a=Ta,i=null,o=Pr(l);e=typeof e=="function"?e:e===void 0?mo:tt(e),t=typeof t=="function"?t:t===void 0?ho:tt(t);function l(s){var f,m=(s=Ma(s)).length,w,v=!1,M;for(r==null&&(i=a(M=o())),f=0;f<=m;++f)!(f<m&&n(w=s[f],f,s))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+e(w,f,s),+t(w,f,s));if(M)return i=null,M+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:tt(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:tt(+s),l):t},l.defined=function(s){return arguments.length?(n=typeof s=="function"?s:tt(!!s),l):n},l.curve=function(s){return arguments.length?(a=s,r!=null&&(i=a(r)),l):a},l.context=function(s){return arguments.length?(s==null?r=i=null:i=a(r=s),l):r},l}var bc=P(()=>{fo();Sa();ku();so();yc()});function xc(e,t,n){var r=null,a=tt(!0),i=null,o=Ta,l=null,s=Pr(f);e=typeof e=="function"?e:e===void 0?mo:tt(+e),t=typeof t=="function"?t:t===void 0?tt(0):tt(+t),n=typeof n=="function"?n:n===void 0?ho:tt(+n);function f(w){var v,M,C,A=(w=Ma(w)).length,T,D=!1,R,H=new Array(A),V=new Array(A);for(i==null&&(l=o(R=s())),v=0;v<=A;++v){if(!(v<A&&a(T=w[v],v,w))===D)if(D=!D)M=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),C=v-1;C>=M;--C)l.point(H[C],V[C]);l.lineEnd(),l.areaEnd()}D&&(H[v]=+e(T,v,w),V[v]=+t(T,v,w),l.point(r?+r(T,v,w):H[v],n?+n(T,v,w):V[v]))}if(R)return l=null,R+""||null}function m(){return Ca().defined(a).curve(o).context(i)}return f.x=function(w){return arguments.length?(e=typeof w=="function"?w:tt(+w),r=null,f):e},f.x0=function(w){return arguments.length?(e=typeof w=="function"?w:tt(+w),f):e},f.x1=function(w){return arguments.length?(r=w==null?null:typeof w=="function"?w:tt(+w),f):r},f.y=function(w){return arguments.length?(t=typeof w=="function"?w:tt(+w),n=null,f):t},f.y0=function(w){return arguments.length?(t=typeof w=="function"?w:tt(+w),f):t},f.y1=function(w){return arguments.length?(n=w==null?null:typeof w=="function"?w:tt(+w),f):n},f.lineX0=f.lineY0=function(){return m().x(e).y(t)},f.lineY1=function(){return m().x(e).y(n)},f.lineX1=function(){return m().x(r).y(t)},f.defined=function(w){return arguments.length?(a=typeof w=="function"?w:tt(!!w),f):a},f.curve=function(w){return arguments.length?(o=w,i!=null&&(l=o(i)),f):o},f.context=function(w){return arguments.length?(w==null?i=l=null:l=o(i=w),f):i},f}var Rm=P(()=>{fo();Sa();ku();bc();so();yc()});function bx(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}var xx=P(()=>{});function wx(e){return e}var _x=P(()=>{});function Sx(){var e=wx,t=bx,n=null,r=tt(0),a=tt(jn),i=tt(0);function o(l){var s,f=(l=Ma(l)).length,m,w,v=0,M=new Array(f),C=new Array(f),A=+r.apply(this,arguments),T=Math.min(jn,Math.max(-jn,a.apply(this,arguments)-A)),D,R=Math.min(Math.abs(T)/f,i.apply(this,arguments)),H=R*(T<0?-1:1),V;for(s=0;s<f;++s)(V=C[M[s]=s]=+e(l[s],s,l))>0&&(v+=V);for(t!=null?M.sort(function(I,z){return t(C[I],C[z])}):n!=null&&M.sort(function(I,z){return n(l[I],l[z])}),s=0,w=v?(T-f*H)/v:0;s<f;++s,A=D)m=M[s],V=C[m],D=A+(V>0?V*w:0)+H,C[m]={data:l[m],index:s,value:V,startAngle:A,endAngle:D,padAngle:R};return C}return o.value=function(l){return arguments.length?(e=typeof l=="function"?l:tt(+l),o):e},o.sortValues=function(l){return arguments.length?(t=l,n=null,o):t},o.sort=function(l){return arguments.length?(n=l,t=null,o):n},o.startAngle=function(l){return arguments.length?(r=typeof l=="function"?l:tt(+l),o):r},o.endAngle=function(l){return arguments.length?(a=typeof l=="function"?l:tt(+l),o):a},o.padAngle=function(l){return arguments.length?(i=typeof l=="function"?l:tt(+l),o):i},o}var Mx=P(()=>{fo();Sa();xx();_x();cn()});function Tx(e){this._curve=e}function po(e){function t(n){return new Tx(e(n))}return t._curve=e,t}var wc,Fm=P(()=>{ku();wc=po(Ta);Tx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}}});function go(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(n){return arguments.length?t(po(n)):t()._curve},e}function Bm(){return go(Ca().curve(wc))}var Hm=P(()=>{Fm();bc()});function Ym(){var e=xc().curve(wc),t=e.curve,n=e.lineX0,r=e.lineX1,a=e.lineY0,i=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return go(n())},delete e.lineX0,e.lineEndAngle=function(){return go(r())},delete e.lineX1,e.lineInnerRadius=function(){return go(a())},delete e.lineY0,e.lineOuterRadius=function(){return go(i())},delete e.lineY1,e.curve=function(o){return arguments.length?t(po(o)):t()._curve},e}var Cx=P(()=>{Fm();Rm();Hm()});function xi(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}var Wm=P(()=>{});function Sc(e){return new _c(e,!0)}function Mc(e){return new _c(e,!1)}function Ax(e){return new $m(e)}var _c,$m,Um=P(()=>{Wm();_c=class{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}},$m=class{constructor(t){this._context=t}lineStart(){this._point=0}lineEnd(){}point(t,n){if(t=+t,n=+n,this._point===0)this._point=1;else{let r=xi(this._x0,this._y0),a=xi(this._x0,this._y0=(this._y0+n)/2),i=xi(t,this._y0),o=xi(t,n);this._context.moveTo(...r),this._context.bezierCurveTo(...a,...i,...o)}this._x0=t,this._y0=n}}});function dT(e){return e.source}function mT(e){return e.target}function Vu(e){let t=dT,n=mT,r=mo,a=ho,i=null,o=null,l=Pr(s);function s(){let f,m=vx.call(arguments),w=t.apply(this,m),v=n.apply(this,m);if(i==null&&(o=e(f=l())),o.lineStart(),m[0]=w,o.point(+r.apply(this,m),+a.apply(this,m)),m[0]=v,o.point(+r.apply(this,m),+a.apply(this,m)),o.lineEnd(),f)return o=null,f+""||null}return s.source=function(f){return arguments.length?(t=f,s):t},s.target=function(f){return arguments.length?(n=f,s):n},s.x=function(f){return arguments.length?(r=typeof f=="function"?f:tt(+f),s):r},s.y=function(f){return arguments.length?(a=typeof f=="function"?f:tt(+f),s):a},s.context=function(f){return arguments.length?(f==null?i=o=null:o=e(i=f),s):i},s}function kx(){return Vu(Sc)}function Vx(){return Vu(Mc)}function Dx(){let e=Vu(Ax);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var Nx=P(()=>{fo();Sa();Um();so();yc()});var hT,Tc,qm=P(()=>{cn();hT=st(3),Tc={draw(e,t){let n=st(t+Er(t/28,.75))*.59436,r=n/2,a=r*hT;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-a,-r),e.lineTo(a,r),e.moveTo(-a,r),e.lineTo(a,-r)}}});var dr,Gm=P(()=>{cn();dr={draw(e,t){let n=st(t/fr);e.moveTo(n,0),e.arc(0,0,n,0,jn)}}});var wi,Xm=P(()=>{cn();wi={draw(e,t){let n=st(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}}});var Ex,pT,_i,jm=P(()=>{cn();Ex=st(1/3),pT=Ex*2,_i={draw(e,t){let n=st(t/pT),r=n*Ex;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}}});var Cc,Qm=P(()=>{cn();Cc={draw(e,t){let n=st(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}}});var Ac,Zm=P(()=>{cn();Ac={draw(e,t){let n=st(t-Er(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}}});var Si,Km=P(()=>{cn();Si={draw(e,t){let n=st(t),r=-n/2;e.rect(r,r,n,n)}}});var kc,Jm=P(()=>{cn();kc={draw(e,t){let n=st(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}}});var gT,Px,vT,yT,Mi,eh=P(()=>{cn();gT=.8908130915292852,Px=yn(fr/10)/yn(7*fr/10),vT=yn(jn/10)*Px,yT=-sr(jn/10)*Px,Mi={draw(e,t){let n=st(t*gT),r=vT*n,a=yT*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){let o=jn*i/5,l=sr(o),s=yn(o);e.lineTo(s*n,-l*n),e.lineTo(l*r-s*a,s*r+l*a)}e.closePath()}}});var th,Ti,nh=P(()=>{cn();th=st(3),Ti={draw(e,t){let n=-st(t/(th*3));e.moveTo(0,n*2),e.lineTo(-th*n,-n),e.lineTo(th*n,-n),e.closePath()}}});var bT,Vc,rh=P(()=>{cn();bT=st(3),Vc={draw(e,t){let n=st(t)*.6824,r=n/2,a=n*bT/2;e.moveTo(0,-n),e.lineTo(a,r),e.lineTo(-a,r),e.closePath()}}});var Qn,Zn,ah,xT,Ci,ih=P(()=>{cn();Qn=-.5,Zn=st(3)/2,ah=1/st(12),xT=(ah/2+1)*3,Ci={draw(e,t){let n=st(t/xT),r=n/2,a=n*ah,i=r,o=n*ah+n,l=-i,s=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(l,s),e.lineTo(Qn*r-Zn*a,Zn*r+Qn*a),e.lineTo(Qn*i-Zn*o,Zn*i+Qn*o),e.lineTo(Qn*l-Zn*s,Zn*l+Qn*s),e.lineTo(Qn*r+Zn*a,Qn*a-Zn*r),e.lineTo(Qn*i+Zn*o,Qn*o-Zn*i),e.lineTo(Qn*l+Zn*s,Qn*s-Zn*l),e.closePath()}}});var Du,oh=P(()=>{cn();Du={draw(e,t){let n=st(t-Er(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}}});function Nu(e,t){let n=null,r=Pr(a);e=typeof e=="function"?e:tt(e||dr),t=typeof t=="function"?t:tt(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:tt(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:tt(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}var uh,Lx,Ox=P(()=>{Sa();so();qm();Gm();Xm();jm();Qm();Zm();Km();Jm();eh();nh();rh();ih();oh();uh=[dr,wi,_i,Si,Mi,Ti,Ci],Lx=[dr,Ac,Du,Vc,Tc,kc,Cc]});function Kn(){}var Eu=P(()=>{});function vo(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Pu(e){this._context=e}function zx(e){return new Pu(e)}var Lu=P(()=>{Pu.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:vo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:vo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function Ix(e){this._context=e}function Rx(e){return new Ix(e)}var Fx=P(()=>{Eu();Lu();Ix.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:vo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function Bx(e){this._context=e}function Hx(e){return new Bx(e)}var Yx=P(()=>{Lu();Bx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:vo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}}});function Wx(e,t){this._basis=new Pu(e),this._beta=t}var $x,Ux=P(()=>{Lu();Wx.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],a=t[0],i=e[n]-r,o=t[n]-a,l=-1,s;++l<=n;)s=l/n,this._basis.point(this._beta*e[l]+(1-this._beta)*(r+s*i),this._beta*t[l]+(1-this._beta)*(a+s*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};$x=function e(t){function n(r){return t===1?new Pu(r):new Wx(r,t)}return n.beta=function(r){return e(+r)},n}(.85)});function yo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Dc(e,t){this._context=e,this._k=(1-t)/6}var qx,Ou=P(()=>{Dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:yo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:yo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};qx=function e(t){function n(r){return new Dc(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function Nc(e,t){this._context=e,this._k=(1-t)/6}var Gx,lh=P(()=>{Eu();Ou();Nc.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:yo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Gx=function e(t){function n(r){return new Nc(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function Ec(e,t){this._context=e,this._k=(1-t)/6}var Xx,ch=P(()=>{Ou();Ec.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Xx=function e(t){function n(r){return new Ec(r,t)}return n.tension=function(r){return e(+r)},n}(0)});function zu(e,t,n){var r=e._x1,a=e._y1,i=e._x2,o=e._y2;if(e._l01_a>Xt){var l=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*l-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,a=(a*l-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>Xt){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,m=3*e._l23_a*(e._l23_a+e._l12_a);i=(i*f+e._x1*e._l23_2a-t*e._l12_2a)/m,o=(o*f+e._y1*e._l23_2a-n*e._l12_2a)/m}e._context.bezierCurveTo(r,a,i,o,e._x2,e._y2)}function jx(e,t){this._context=e,this._alpha=t}var Qx,Pc=P(()=>{cn();Ou();jx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:zu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Qx=function e(t){function n(r){return t?new jx(r,t):new Dc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function Zx(e,t){this._context=e,this._alpha=t}var Kx,Jx=P(()=>{lh();Eu();Pc();Zx.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:zu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};Kx=function e(t){function n(r){return t?new Zx(r,t):new Nc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function e2(e,t){this._context=e,this._alpha=t}var t2,n2=P(()=>{ch();Pc();e2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};t2=function e(t){function n(r){return t?new e2(r,t):new Ec(r,0)}return n.alpha=function(r){return e(+r)},n}(.5)});function r2(e){this._context=e}function a2(e){return new r2(e)}var i2=P(()=>{Eu();r2.prototype={areaStart:Kn,areaEnd:Kn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}}});function o2(e){return e<0?-1:1}function u2(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),l=(i*a+o*r)/(r+a);return(o2(i)+o2(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function l2(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function sh(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-r)/3;e._context.bezierCurveTo(r+l,a+l*t,i-l,o-l*n,i,o)}function Lc(e){this._context=e}function c2(e){this._context=new s2(e)}function s2(e){this._context=e}function f2(e){return new Lc(e)}function d2(e){return new c2(e)}var m2=P(()=>{Lc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sh(this,this._t0,l2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sh(this,l2(this,n=u2(this,e,t)),n);break;default:sh(this,this._t0,n=u2(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};(c2.prototype=Object.create(Lc.prototype)).point=function(e,t){Lc.prototype.point.call(this,t,e)};s2.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}}});function p2(e){this._context=e}function h2(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function g2(e){return new p2(e)}var v2=P(()=>{p2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=h2(e),a=h2(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}}});function Oc(e,t){this._context=e,this._t=t}function y2(e){return new Oc(e,.5)}function b2(e){return new Oc(e,0)}function x2(e){return new Oc(e,1)}var w2=P(()=>{Oc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}}});function mr(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,l=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<l;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}var bo=P(()=>{});function hr(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}var xo=P(()=>{});function wT(e,t){return e[t]}function _T(e){let t=[];return t.key=e,t}function _2(){var e=tt([]),t=hr,n=mr,r=wT;function a(i){var o=Array.from(e.apply(this,arguments),_T),l,s=o.length,f=-1,m;for(let w of i)for(l=0,++f;l<s;++l)(o[l][f]=[0,+r(w,o[l].key,f,i)]).data=w;for(l=0,m=Ma(t(o));l<s;++l)o[m[l]].index=l;return n(o,m),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:tt(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:tt(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?hr:typeof i=="function"?i:tt(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??mr,a):n},a}var S2=P(()=>{fo();Sa();bo();xo()});function M2(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}mr(e,t)}}var T2=P(()=>{bo()});function C2(e,t){if((s=e.length)>0)for(var n,r=0,a,i,o,l,s,f=e[t[0]].length;r<f;++r)for(o=l=0,n=0;n<s;++n)(i=(a=e[t[n]][r])[1]-a[0])>0?(a[0]=o,a[1]=o+=i):i<0?(a[1]=l,a[0]=l+=i):(a[0]=0,a[1]=i)}var A2=P(()=>{});function k2(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,l=0;o<a;++o)l+=e[o][n][1]||0;r[n][1]+=r[n][0]=-l/2}mr(e,t)}}var V2=P(()=>{bo()});function D2(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var l=0,s=0,f=0;l<o;++l){for(var m=e[t[l]],w=m[r][1]||0,v=m[r-1][1]||0,M=(w-v)/2,C=0;C<l;++C){var A=e[t[C]],T=A[r][1]||0,D=A[r-1][1]||0;M+=T-D}s+=w,f+=M*w}a[r-1][1]+=a[r-1][0]=n,s&&(n-=f/s)}a[r-1][1]+=a[r-1][0]=n,mr(e,t)}}var N2=P(()=>{bo()});function zc(e){var t=e.map(ST);return hr(e).sort(function(n,r){return t[n]-t[r]})}function ST(e){for(var t=-1,n=0,r=e.length,a,i=-1/0;++t<r;)(a=+e[t][1])>i&&(i=a,n=t);return n}var fh=P(()=>{xo()});function Ic(e){var t=e.map(dh);return hr(e).sort(function(n,r){return t[n]-t[r]})}function dh(e){for(var t=0,n=-1,r=e.length,a;++n<r;)(a=+e[n][1])&&(t+=a);return t}var Rc=P(()=>{xo()});function E2(e){return Ic(e).reverse()}var P2=P(()=>{Rc()});function L2(e){var t=e.length,n,r,a=e.map(dh),i=zc(e),o=0,l=0,s=[],f=[];for(n=0;n<t;++n)r=i[n],o<l?(o+=a[r],s.push(r)):(l+=a[r],f.push(r));return f.reverse().concat(s)}var O2=P(()=>{fh();Rc()});function z2(e){return hr(e).reverse()}var I2=P(()=>{xo()});var R2={};Ln(R2,{arc:()=>vc,area:()=>xc,areaRadial:()=>Ym,curveBasis:()=>zx,curveBasisClosed:()=>Rx,curveBasisOpen:()=>Hx,curveBumpX:()=>Sc,curveBumpY:()=>Mc,curveBundle:()=>$x,curveCardinal:()=>qx,curveCardinalClosed:()=>Gx,curveCardinalOpen:()=>Xx,curveCatmullRom:()=>Qx,curveCatmullRomClosed:()=>Kx,curveCatmullRomOpen:()=>t2,curveLinear:()=>Ta,curveLinearClosed:()=>a2,curveMonotoneX:()=>f2,curveMonotoneY:()=>d2,curveNatural:()=>g2,curveStep:()=>y2,curveStepAfter:()=>x2,curveStepBefore:()=>b2,line:()=>Ca,lineRadial:()=>Bm,link:()=>Vu,linkHorizontal:()=>kx,linkRadial:()=>Dx,linkVertical:()=>Vx,pie:()=>Sx,pointRadial:()=>xi,radialArea:()=>Ym,radialLine:()=>Bm,stack:()=>_2,stackOffsetDiverging:()=>C2,stackOffsetExpand:()=>M2,stackOffsetNone:()=>mr,stackOffsetSilhouette:()=>k2,stackOffsetWiggle:()=>D2,stackOrderAppearance:()=>zc,stackOrderAscending:()=>Ic,stackOrderDescending:()=>E2,stackOrderInsideOut:()=>L2,stackOrderNone:()=>hr,stackOrderReverse:()=>z2,symbol:()=>Nu,symbolAsterisk:()=>Tc,symbolCircle:()=>dr,symbolCross:()=>wi,symbolDiamond:()=>_i,symbolDiamond2:()=>Cc,symbolPlus:()=>Ac,symbolSquare:()=>Si,symbolSquare2:()=>kc,symbolStar:()=>Mi,symbolTimes:()=>Du,symbolTriangle:()=>Ti,symbolTriangle2:()=>Vc,symbolWye:()=>Ci,symbolX:()=>Du,symbols:()=>uh,symbolsFill:()=>uh,symbolsStroke:()=>Lx});var mh=P(()=>{gx();Rm();bc();Mx();Cx();Hm();Wm();Nx();Ox();qm();Gm();Xm();jm();Qm();Zm();Km();Jm();eh();nh();rh();ih();oh();Fx();Yx();Lu();Um();Ux();lh();ch();Ou();Jx();n2();Pc();i2();ku();m2();v2();w2();S2();T2();A2();bo();V2();N2();fh();Rc();P2();O2();xo();I2()});function Be(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}var lt=P(()=>{});var F2,B2=P(()=>{lt();F2=Be("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf")});var H2,Y2=P(()=>{lt();H2=Be("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666")});var W2,$2=P(()=>{lt();W2=Be("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666")});var U2,q2=P(()=>{lt();U2=Be("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0")});var G2,X2=P(()=>{lt();G2=Be("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928")});var j2,Q2=P(()=>{lt();j2=Be("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2")});var Z2,K2=P(()=>{lt();Z2=Be("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc")});var J2,ew=P(()=>{lt();J2=Be("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999")});var tw,nw=P(()=>{lt();tw=Be("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3")});var rw,aw=P(()=>{lt();rw=Be("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f")});var iw,ow=P(()=>{lt();iw=Be("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab")});function wo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Iu(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}var hh=P(()=>{});function Di(){}function lw(){return this.rgb().formatHex()}function NT(){return this.rgb().formatHex8()}function ET(){return pw(this).formatHsl()}function cw(){return this.rgb().formatRgb()}function bn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=MT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sw(t):n===3?new sn(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=TT.exec(e))?new sn(t[1],t[2],t[3],1):(t=CT.exec(e))?new sn(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=AT.exec(e))?Fc(t[1],t[2],t[3],t[4]):(t=kT.exec(e))?Fc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=VT.exec(e))?mw(t[1],t[2]/100,t[3]/100,1):(t=DT.exec(e))?mw(t[1],t[2]/100,t[3]/100,t[4]):uw.hasOwnProperty(e)?sw(uw[e]):e==="transparent"?new sn(NaN,NaN,NaN,0):null}function sw(e){return new sn(e>>16&255,e>>8&255,e&255,1)}function Fc(e,t,n,r){return r<=0&&(e=t=n=NaN),new sn(e,t,n,r)}function gh(e){return e instanceof Di||(e=bn(e)),e?(e=e.rgb(),new sn(e.r,e.g,e.b,e.opacity)):new sn}function ka(e,t,n,r){return arguments.length===1?gh(e):new sn(e,t,n,r??1)}function sn(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function fw(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}`}function PT(){return`#${Ai(this.r)}${Ai(this.g)}${Ai(this.b)}${Ai((isNaN(this.opacity)?1:this.opacity)*255)}`}function dw(){let e=Hc(this.opacity);return`${e===1?"rgb(":"rgba("}${ki(this.r)}, ${ki(this.g)}, ${ki(this.b)}${e===1?")":`, ${e})`}`}function Hc(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ki(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ai(e){return e=ki(e),(e<16?"0":"")+e.toString(16)}function mw(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new pr(e,t,n,r)}function pw(e){if(e instanceof pr)return new pr(e.h,e.s,e.l,e.opacity);if(e instanceof Di||(e=bn(e)),!e)return new pr;if(e instanceof pr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,l=i-a,s=(i+a)/2;return l?(t===i?o=(n-r)/l+(n<r)*6:n===i?o=(r-t)/l+2:o=(t-n)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new pr(o,l,s,e.opacity)}function gw(e,t,n,r){return arguments.length===1?pw(e):new pr(e,t,n,r??1)}function pr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function hw(e){return e=(e||0)%360,e<0?e+360:e}function Bc(e){return Math.max(0,Math.min(1,e||0))}function ph(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}var Aa,Vi,_o,Ru,Lr,MT,TT,CT,AT,kT,VT,DT,uw,vh=P(()=>{hh();Aa=.7,Vi=1/Aa,_o="\\s*([+-]?\\d+)\\s*",Ru="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Lr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MT=/^#([0-9a-f]{3,8})$/,TT=new RegExp(`^rgb\\(${_o},${_o},${_o}\\)$`),CT=new RegExp(`^rgb\\(${Lr},${Lr},${Lr}\\)$`),AT=new RegExp(`^rgba\\(${_o},${_o},${_o},${Ru}\\)$`),kT=new RegExp(`^rgba\\(${Lr},${Lr},${Lr},${Ru}\\)$`),VT=new RegExp(`^hsl\\(${Ru},${Lr},${Lr}\\)$`),DT=new RegExp(`^hsla\\(${Ru},${Lr},${Lr},${Ru}\\)$`),uw={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wo(Di,bn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lw,formatHex:lw,formatHex8:NT,formatHsl:ET,formatRgb:cw,toString:cw});wo(sn,ka,Iu(Di,{brighter(e){return e=e==null?Vi:Math.pow(Vi,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Aa:Math.pow(Aa,e),new sn(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new sn(ki(this.r),ki(this.g),ki(this.b),Hc(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fw,formatHex:fw,formatHex8:PT,formatRgb:dw,toString:dw}));wo(pr,gw,Iu(Di,{brighter(e){return e=e==null?Vi:Math.pow(Vi,e),new pr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Aa:Math.pow(Aa,e),new pr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new sn(ph(e>=240?e-240:e+120,a,r),ph(e,a,r),ph(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new pr(hw(this.h),Bc(this.s),Bc(this.l),Hc(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=Hc(this.opacity);return`${e===1?"hsl(":"hsla("}${hw(this.h)}, ${Bc(this.s)*100}%, ${Bc(this.l)*100}%${e===1?")":`, ${e})`}`}}))});var vw,yw,bw=P(()=>{vw=Math.PI/180,yw=180/Math.PI});function LT(e){if(e instanceof Ni)return new Ni(e.h,e.s,e.l,e.opacity);e instanceof sn||(e=gh(e));var t=e.r/255,n=e.g/255,r=e.b/255,a=(_w*r+xw*t-ww*n)/(_w+xw-ww),i=r-a,o=(Fu*(n-a)-bh*i)/Yc,l=Math.sqrt(o*o+i*i)/(Fu*a*(1-a)),s=l?Math.atan2(o,i)*yw-120:NaN;return new Ni(s<0?s+360:s,l,a,e.opacity)}function Cn(e,t,n,r){return arguments.length===1?LT(e):new Ni(e,t,n,r??1)}function Ni(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}var Sw,yh,bh,Yc,Fu,xw,ww,_w,Mw=P(()=>{hh();vh();bw();Sw=-.14861,yh=1.78277,bh=-.29227,Yc=-.90649,Fu=1.97294,xw=Fu*Yc,ww=Fu*yh,_w=yh*bh-Yc*Sw;wo(Ni,Cn,Iu(Di,{brighter(e){return e=e==null?Vi:Math.pow(Vi,e),new Ni(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Aa:Math.pow(Aa,e),new Ni(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*vw,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),a=Math.sin(e);return new sn(255*(t+n*(Sw*r+yh*a)),255*(t+n*(bh*r+Yc*a)),255*(t+n*(Fu*r)),this.opacity)}}))});var Kr=P(()=>{vh();Mw()});function xh(e,t,n,r,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*n+(1+3*e+3*i-3*o)*r+o*a)/6}function Tw(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),a=e[r],i=e[r+1],o=r>0?e[r-1]:2*a-i,l=r<t-1?e[r+2]:2*i-a;return xh((n-r/t)*t,o,a,i,l)}}var wh=P(()=>{});function Cw(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),a=e[(r+t-1)%t],i=e[r%t],o=e[(r+1)%t],l=e[(r+2)%t];return xh((n-r/t)*t,a,i,o,l)}}var Aw=P(()=>{wh()});var So,_h=P(()=>{So=e=>()=>e});function kw(e,t){return function(n){return e+n*t}}function OT(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Vw(e,t){var n=t-e;return n?kw(e,n>180||n<-180?n-360*Math.round(n/360):n):So(isNaN(e)?t:e)}function Dw(e){return(e=+e)==1?Jr:function(t,n){return n-t?OT(t,n,e):So(isNaN(t)?n:t)}}function Jr(e,t){var n=t-e;return n?kw(e,n):So(isNaN(e)?t:e)}var Sh=P(()=>{_h()});function Nw(e){return function(t){var n=t.length,r=new Array(n),a=new Array(n),i=new Array(n),o,l;for(o=0;o<n;++o)l=ka(t[o]),r[o]=l.r||0,a[o]=l.g||0,i[o]=l.b||0;return r=e(r),a=e(a),i=e(i),l.opacity=1,function(s){return l.r=r(s),l.g=a(s),l.b=i(s),l+""}}}var Ei,Mh,zT,Th=P(()=>{Kr();wh();Aw();Sh();Ei=function e(t){var n=Dw(t);function r(a,i){var o=n((a=ka(a)).r,(i=ka(i)).r),l=n(a.g,i.g),s=n(a.b,i.b),f=Jr(a.opacity,i.opacity);return function(m){return a.r=o(m),a.g=l(m),a.b=s(m),a.opacity=f(m),a+""}}return r.gamma=e,r}(1);Mh=Nw(Tw),zT=Nw(Cw)});function Ew(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function Pw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}var Lw=P(()=>{});function Ow(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=jt(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(l){for(o=0;o<r;++o)i[o]=a[o](l);return i}}var zw=P(()=>{Wc()});function Iw(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}var Rw=P(()=>{});function fn(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var Bu=P(()=>{});function Fw(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=jt(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var Bw=P(()=>{Wc()});function IT(e){return function(){return e}}function RT(e){return function(t){return e(t)+""}}function Hu(e,t){var n=Ah.lastIndex=Ch.lastIndex=0,r,a,i,o=-1,l=[],s=[];for(e=e+"",t=t+"";(r=Ah.exec(e))&&(a=Ch.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),l[o]?l[o]+=i:l[++o]=i),(r=r[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:fn(r,a)})),n=Ch.lastIndex;return n<t.length&&(i=t.slice(n),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?RT(s[0].x):IT(t):(t=s.length,function(f){for(var m=0,w;m<t;++m)l[(w=s[m]).i]=w.x(f);return l.join("")})}var Ah,Ch,kh=P(()=>{Bu();Ah=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ch=new RegExp(Ah.source,"g")});function jt(e,t){var n=typeof t,r;return t==null||n==="boolean"?So(t):(n==="number"?fn:n==="string"?(r=bn(t))?(t=r,Ei):Hu:t instanceof bn?Ei:t instanceof Date?Iw:Pw(t)?Ew:Array.isArray(t)?Ow:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fw:fn)(e,t)}var Wc=P(()=>{Kr();Th();zw();Rw();Bu();Bw();kh();_h();Lw()});function Yu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Hw=P(()=>{});function Vh(e,t,n,r,a,i){var o,l,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,s/=l),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*Yw,skewX:Math.atan(s)*Yw,scaleX:o,scaleY:l}}var Yw,$c,Ww=P(()=>{Yw=180/Math.PI,$c={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1}});function $w(e){let t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?$c:Vh(t.a,t.b,t.c,t.d,t.e,t.f)}function Uw(e){return e==null?$c:(Uc||(Uc=document.createElementNS("http://www.w3.org/2000/svg","g")),Uc.setAttribute("transform",e),(e=Uc.transform.baseVal.consolidate())?(e=e.matrix,Vh(e.a,e.b,e.c,e.d,e.e,e.f)):$c)}var Uc,qw=P(()=>{Ww()});function Gw(e,t,n,r){function a(f){return f.length?f.pop()+" ":""}function i(f,m,w,v,M,C){if(f!==w||m!==v){var A=M.push("translate(",null,t,null,n);C.push({i:A-4,x:fn(f,w)},{i:A-2,x:fn(m,v)})}else(w||v)&&M.push("translate("+w+t+v+n)}function o(f,m,w,v){f!==m?(f-m>180?m+=360:m-f>180&&(f+=360),v.push({i:w.push(a(w)+"rotate(",null,r)-2,x:fn(f,m)})):m&&w.push(a(w)+"rotate("+m+r)}function l(f,m,w,v){f!==m?v.push({i:w.push(a(w)+"skewX(",null,r)-2,x:fn(f,m)}):m&&w.push(a(w)+"skewX("+m+r)}function s(f,m,w,v,M,C){if(f!==w||m!==v){var A=M.push(a(M)+"scale(",null,",",null,")");C.push({i:A-4,x:fn(f,w)},{i:A-2,x:fn(m,v)})}else(w!==1||v!==1)&&M.push(a(M)+"scale("+w+","+v+")")}return function(f,m){var w=[],v=[];return f=e(f),m=e(m),i(f.translateX,f.translateY,m.translateX,m.translateY,w,v),o(f.rotate,m.rotate,w,v),l(f.skewX,m.skewX,w,v),s(f.scaleX,f.scaleY,m.scaleX,m.scaleY,w,v),f=m=null,function(M){for(var C=-1,A=v.length,T;++C<A;)w[(T=v[C]).i]=T.x(M);return w.join("")}}}var Dh,Nh,Xw=P(()=>{Bu();qw();Dh=Gw($w,"px, ","px)","deg)"),Nh=Gw(Uw,", ",")",")")});function jw(e){return((e=Math.exp(e))+1/e)/2}function BT(e){return((e=Math.exp(e))-1/e)/2}function HT(e){return((e=Math.exp(2*e))-1)/(e+1)}var FT,Eh,Qw=P(()=>{FT=1e-12;Eh=function e(t,n,r){function a(i,o){var l=i[0],s=i[1],f=i[2],m=o[0],w=o[1],v=o[2],M=m-l,C=w-s,A=M*M+C*C,T,D;if(A<FT)D=Math.log(v/f)/t,T=function(j){return[l+j*M,s+j*C,f*Math.exp(t*j*D)]};else{var R=Math.sqrt(A),H=(v*v-f*f+r*A)/(2*f*n*R),V=(v*v-f*f-r*A)/(2*v*n*R),I=Math.log(Math.sqrt(H*H+1)-H),z=Math.log(Math.sqrt(V*V+1)-V);D=(z-I)/t,T=function(j){var Z=j*D,ve=jw(I),ye=f/(n*R)*(ve*HT(t*Z+I)-BT(I));return[l+ye*M,s+ye*C,f*ve/jw(t*Z+I)]}}return T.duration=D*1e3*t/Math.SQRT2,T}return a.rho=function(i){var o=Math.max(.001,+i),l=o*o,s=l*l;return e(o,l,s)},a}(Math.SQRT2,2,4)});function Zw(e){return function t(n){n=+n;function r(a,i){var o=e((a=Cn(a)).h,(i=Cn(i)).h),l=Jr(a.s,i.s),s=Jr(a.l,i.l),f=Jr(a.opacity,i.opacity);return function(m){return a.h=o(m),a.s=l(m),a.l=s(Math.pow(m,n)),a.opacity=f(m),a+""}}return r.gamma=t,r}(1)}var YT,Mo,Kw=P(()=>{Kr();Sh();YT=Zw(Vw),Mo=Zw(Jr)});var Jn=P(()=>{Wc();Bu();Hw();kh();Xw();Qw();Th();Kw()});var Ze,Vt=P(()=>{Jn();Ze=e=>Mh(e[e.length-1])});var Ph,Jw,e_=P(()=>{lt();Vt();Ph=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Be),Jw=Ze(Ph)});var Lh,t_,n_=P(()=>{lt();Vt();Lh=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Be),t_=Ze(Lh)});var Oh,r_,a_=P(()=>{lt();Vt();Oh=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Be),r_=Ze(Oh)});var zh,i_,o_=P(()=>{lt();Vt();zh=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Be),i_=Ze(zh)});var Ih,u_,l_=P(()=>{lt();Vt();Ih=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Be),u_=Ze(Ih)});var Rh,c_,s_=P(()=>{lt();Vt();Rh=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Be),c_=Ze(Rh)});var Fh,f_,d_=P(()=>{lt();Vt();Fh=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Be),f_=Ze(Fh)});var Bh,m_,h_=P(()=>{lt();Vt();Bh=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Be),m_=Ze(Bh)});var Hh,p_,g_=P(()=>{lt();Vt();Hh=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Be),p_=Ze(Hh)});var Yh,v_,y_=P(()=>{lt();Vt();Yh=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Be),v_=Ze(Yh)});var Wh,b_,x_=P(()=>{lt();Vt();Wh=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Be),b_=Ze(Wh)});var $h,w_,__=P(()=>{lt();Vt();$h=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Be),w_=Ze($h)});var Uh,S_,M_=P(()=>{lt();Vt();Uh=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Be),S_=Ze(Uh)});var qh,T_,C_=P(()=>{lt();Vt();qh=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Be),T_=Ze(qh)});var Gh,A_,k_=P(()=>{lt();Vt();Gh=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Be),A_=Ze(Gh)});var Xh,V_,D_=P(()=>{lt();Vt();Xh=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Be),V_=Ze(Xh)});var jh,N_,E_=P(()=>{lt();Vt();jh=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Be),N_=Ze(jh)});var Qh,P_,L_=P(()=>{lt();Vt();Qh=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Be),P_=Ze(Qh)});var Zh,O_,z_=P(()=>{lt();Vt();Zh=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Be),O_=Ze(Zh)});var Kh,I_,R_=P(()=>{lt();Vt();Kh=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Be),I_=Ze(Kh)});var Jh,F_,B_=P(()=>{lt();Vt();Jh=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Be),F_=Ze(Jh)});var ep,H_,Y_=P(()=>{lt();Vt();ep=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Be),H_=Ze(ep)});var tp,W_,$_=P(()=>{lt();Vt();tp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Be),W_=Ze(tp)});var np,U_,q_=P(()=>{lt();Vt();np=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Be),U_=Ze(np)});var rp,G_,X_=P(()=>{lt();Vt();rp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Be),G_=Ze(rp)});var ap,j_,Q_=P(()=>{lt();Vt();ap=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Be),j_=Ze(ap)});var ip,Z_,K_=P(()=>{lt();Vt();ip=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Be),Z_=Ze(ip)});function J_(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}var eS=P(()=>{});var tS,nS=P(()=>{Kr();Jn();tS=Mo(Cn(300,.5,0),Cn(-240,.5,1))});function iS(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return qc.h=360*e-100,qc.s=1.5-1.5*t,qc.l=.8-.9*t,qc+""}var rS,aS,qc,oS=P(()=>{Kr();Jn();rS=Mo(Cn(-100,.75,.35),Cn(80,1.5,.8)),aS=Mo(Cn(260,.75,.35),Cn(80,1.5,.8)),qc=Cn()});function uS(e){var t;return e=(.5-e)*Math.PI,Gc.r=255*(t=Math.sin(e))*t,Gc.g=255*(t=Math.sin(e+WT))*t,Gc.b=255*(t=Math.sin(e+$T))*t,Gc+""}var Gc,WT,$T,lS=P(()=>{Kr();Gc=ka(),WT=Math.PI/3,$T=Math.PI*2/3});function cS(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}var sS=P(()=>{});function Xc(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var fS,dS,mS,hS,pS=P(()=>{lt();fS=Xc(Be("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),dS=Xc(Be("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),mS=Xc(Be("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),hS=Xc(Be("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"))});var gS={};Ln(gS,{interpolateBlues:()=>H_,interpolateBrBG:()=>Jw,interpolateBuGn:()=>v_,interpolateBuPu:()=>b_,interpolateCividis:()=>J_,interpolateCool:()=>aS,interpolateCubehelixDefault:()=>tS,interpolateGnBu:()=>w_,interpolateGreens:()=>W_,interpolateGreys:()=>U_,interpolateInferno:()=>mS,interpolateMagma:()=>dS,interpolateOrRd:()=>S_,interpolateOranges:()=>Z_,interpolatePRGn:()=>t_,interpolatePiYG:()=>r_,interpolatePlasma:()=>hS,interpolatePuBu:()=>A_,interpolatePuBuGn:()=>T_,interpolatePuOr:()=>i_,interpolatePuRd:()=>V_,interpolatePurples:()=>G_,interpolateRainbow:()=>iS,interpolateRdBu:()=>u_,interpolateRdGy:()=>c_,interpolateRdPu:()=>N_,interpolateRdYlBu:()=>f_,interpolateRdYlGn:()=>m_,interpolateReds:()=>j_,interpolateSinebow:()=>uS,interpolateSpectral:()=>p_,interpolateTurbo:()=>cS,interpolateViridis:()=>fS,interpolateWarm:()=>rS,interpolateYlGn:()=>O_,interpolateYlGnBu:()=>P_,interpolateYlOrBr:()=>I_,interpolateYlOrRd:()=>F_,schemeAccent:()=>H2,schemeBlues:()=>ep,schemeBrBG:()=>Ph,schemeBuGn:()=>Yh,schemeBuPu:()=>Wh,schemeCategory10:()=>F2,schemeDark2:()=>W2,schemeGnBu:()=>$h,schemeGreens:()=>tp,schemeGreys:()=>np,schemeObservable10:()=>U2,schemeOrRd:()=>Uh,schemeOranges:()=>ip,schemePRGn:()=>Lh,schemePaired:()=>G2,schemePastel1:()=>j2,schemePastel2:()=>Z2,schemePiYG:()=>Oh,schemePuBu:()=>Gh,schemePuBuGn:()=>qh,schemePuOr:()=>zh,schemePuRd:()=>Xh,schemePurples:()=>rp,schemeRdBu:()=>Ih,schemeRdGy:()=>Rh,schemeRdPu:()=>jh,schemeRdYlBu:()=>Fh,schemeRdYlGn:()=>Bh,schemeReds:()=>ap,schemeSet1:()=>J2,schemeSet2:()=>tw,schemeSet3:()=>rw,schemeSpectral:()=>Hh,schemeTableau10:()=>iw,schemeYlGn:()=>Zh,schemeYlGnBu:()=>Qh,schemeYlOrBr:()=>Kh,schemeYlOrRd:()=>Jh});var op=P(()=>{B2();Y2();$2();q2();X2();Q2();K2();ew();nw();aw();ow();e_();n_();a_();o_();l_();s_();d_();h_();g_();y_();x_();__();M_();C_();k_();D_();E_();L_();z_();R_();B_();Y_();$_();q_();X_();Q_();K_();eS();nS();oS();lS();sS();pS()});var up=ir((jc,vS)=>{(function(e,t){typeof jc=="object"&&typeof vS<"u"?t(jc):typeof define=="function"&&define.amd?define(["exports"],t):t(e.d3=e.d3||{})})(jc,function(e){"use strict";var t={value:function(){}};function n(){for(var l=0,s=arguments.length,f={},m;l<s;++l){if(!(m=arguments[l]+"")||m in f)throw new Error("illegal type: "+m);f[m]=[]}return new r(f)}function r(l){this._=l}function a(l,s){return l.trim().split(/^|\s+/).map(function(f){var m="",w=f.indexOf(".");if(w>=0&&(m=f.slice(w+1),f=f.slice(0,w)),f&&!s.hasOwnProperty(f))throw new Error("unknown type: "+f);return{type:f,name:m}})}r.prototype=n.prototype={constructor:r,on:function(l,s){var f=this._,m=a(l+"",f),w,v=-1,M=m.length;if(arguments.length<2){for(;++v<M;)if((w=(l=m[v]).type)&&(w=i(f[w],l.name)))return w;return}if(s!=null&&typeof s!="function")throw new Error("invalid callback: "+s);for(;++v<M;)if(w=(l=m[v]).type)f[w]=o(f[w],l.name,s);else if(s==null)for(w in f)f[w]=o(f[w],l.name,null);return this},copy:function(){var l={},s=this._;for(var f in s)l[f]=s[f].slice();return new r(l)},call:function(l,s){if((w=arguments.length-2)>0)for(var f=new Array(w),m=0,w,v;m<w;++m)f[m]=arguments[m+2];if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(v=this._[l],m=0,w=v.length;m<w;++m)v[m].value.apply(s,f)},apply:function(l,s,f){if(!this._.hasOwnProperty(l))throw new Error("unknown type: "+l);for(var m=this._[l],w=0,v=m.length;w<v;++w)m[w].value.apply(s,f)}};function i(l,s){for(var f=0,m=l.length,w;f<m;++f)if((w=l[f]).name===s)return w.value}function o(l,s,f){for(var m=0,w=l.length;m<w;++m)if(l[m].name===s){l[m]=t,l=l.slice(0,m).concat(l.slice(m+1));break}return f!=null&&l.push({name:s,value:f}),l}e.dispatch=n,Object.defineProperty(e,"__esModule",{value:!0})})});function bS(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Qc(n)}function Qc(e){this._=e}function qT(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",a=n.indexOf(".");if(a>=0&&(r=n.slice(a+1),n=n.slice(0,a)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}function GT(e,t){for(var n=0,r=e.length,a;n<r;++n)if((a=e[n]).name===t)return a.value}function yS(e,t,n){for(var r=0,a=e.length;r<a;++r)if(e[r].name===t){e[r]=UT,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var UT,ea,xS=P(()=>{UT={value:()=>{}};Qc.prototype=bS.prototype={constructor:Qc,on:function(e,t){var n=this._,r=qT(e+"",n),a,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((a=(e=r[i]).type)&&(a=GT(n[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=r[i]).type)n[a]=yS(n[a],e.name,t);else if(t==null)for(a in n)n[a]=yS(n[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Qc(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var n=new Array(a),r=0,a,i;r<a;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,a=i.length;r<a;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],a=0,i=r.length;a<i;++a)r[a].value.apply(t,n)}};ea=bS});var To=P(()=>{xS()});function Zc(e){e.stopImmediatePropagation()}function Va(e){e.preventDefault(),e.stopImmediatePropagation()}var wS,Pi,lp=P(()=>{wS={passive:!1},Pi={capture:!0,passive:!1}});function Li(e){var t=e.document.documentElement,n=Re(e).on("dragstart.drag",Va,Pi);"onselectstart"in t?n.on("selectstart.drag",Va,Pi):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Oi(e,t){var n=e.document.documentElement,r=Re(e).on("dragstart.drag",null);t&&(r.on("click.drag",Va,Pi),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var cp=P(()=>{vn();lp()});var Wu,_S=P(()=>{Wu=e=>()=>e});function $u(e,{sourceEvent:t,subject:n,target:r,identifier:a,active:i,x:o,y:l,dx:s,dy:f,dispatch:m}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:s,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:m}})}var SS=P(()=>{$u.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}});function XT(e){return!e.ctrlKey&&!e.button}function jT(){return this.parentNode}function QT(e,t){return t??{x:e.x,y:e.y}}function ZT(){return navigator.maxTouchPoints||"ontouchstart"in this}function Co(){var e=XT,t=jT,n=QT,r=ZT,a={},i=ea("start","drag","end"),o=0,l,s,f,m,w=0;function v(V){V.on("mousedown.drag",M).filter(r).on("touchstart.drag",T).on("touchmove.drag",D,wS).on("touchend.drag touchcancel.drag",R).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function M(V,I){if(!(m||!e.call(this,V,I))){var z=H(this,t.call(this,V,I),V,I,"mouse");!z||(Re(V.view).on("mousemove.drag",C,Pi).on("mouseup.drag",A,Pi),Li(V.view),Zc(V),f=!1,l=V.clientX,s=V.clientY,z("start",V))}}function C(V){if(Va(V),!f){var I=V.clientX-l,z=V.clientY-s;f=I*I+z*z>w}a.mouse("drag",V)}function A(V){Re(V.view).on("mousemove.drag mouseup.drag",null),Oi(V.view,f),Va(V),a.mouse("end",V)}function T(V,I){if(!!e.call(this,V,I)){var z=V.changedTouches,j=t.call(this,V,I),Z=z.length,ve,ye;for(ve=0;ve<Z;++ve)(ye=H(this,j,V,I,z[ve].identifier,z[ve]))&&(Zc(V),ye("start",V,z[ve]))}}function D(V){var I=V.changedTouches,z=I.length,j,Z;for(j=0;j<z;++j)(Z=a[I[j].identifier])&&(Va(V),Z("drag",V,I[j]))}function R(V){var I=V.changedTouches,z=I.length,j,Z;for(m&&clearTimeout(m),m=setTimeout(function(){m=null},500),j=0;j<z;++j)(Z=a[I[j].identifier])&&(Zc(V),Z("end",V,I[j]))}function H(V,I,z,j,Z,ve){var ye=i.copy(),ue=Gt(ve||z,I),Ie,de,$;if(($=n.call(V,new $u("beforestart",{sourceEvent:z,target:v,identifier:Z,active:o,x:ue[0],y:ue[1],dx:0,dy:0,dispatch:ye}),j))!=null)return Ie=$.x-ue[0]||0,de=$.y-ue[1]||0,function we(te,ae,pe){var ie=ue,be;switch(te){case"start":a[Z]=we,be=o++;break;case"end":delete a[Z],--o;case"drag":ue=Gt(pe||ae,I),be=o;break}ye.call(te,V,new $u(te,{sourceEvent:ae,subject:$,target:v,identifier:Z,active:be,x:ue[0]+Ie,y:ue[1]+de,dx:ue[0]-ie[0],dy:ue[1]-ie[1],dispatch:ye}),j)}}return v.filter=function(V){return arguments.length?(e=typeof V=="function"?V:Wu(!!V),v):e},v.container=function(V){return arguments.length?(t=typeof V=="function"?V:Wu(V),v):t},v.subject=function(V){return arguments.length?(n=typeof V=="function"?V:Wu(V),v):n},v.touchable=function(V){return arguments.length?(r=typeof V=="function"?V:Wu(!!V),v):r},v.on=function(){var V=i.on.apply(i,arguments);return V===i?v:V},v.clickDistance=function(V){return arguments.length?(w=(V=+V)*V,v):Math.sqrt(w)},v}var MS=P(()=>{To();vn();cp();lp();_S();SS()});var Kc=P(()=>{MS();cp()});function Qu(){return zi||(AS(KT),zi=Xu.now()+ts)}function KT(){zi=0}function ju(){this._call=this._time=this._next=null}function ns(e,t,n){var r=new ju;return r.restart(e,t,n),r}function kS(){Qu(),++Ao;for(var e=Jc,t;e;)(t=zi-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ao}function TS(){zi=(es=Xu.now())+ts,Ao=qu=0;try{kS()}finally{Ao=0,eC(),zi=0}}function JT(){var e=Xu.now(),t=e-es;t>CS&&(ts-=t,es=e)}function eC(){for(var e,t=Jc,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Jc=n);Gu=e,sp(r)}function sp(e){if(!Ao){qu&&(qu=clearTimeout(qu));var t=e-zi;t>24?(e<1/0&&(qu=setTimeout(TS,e-Xu.now()-ts)),Uu&&(Uu=clearInterval(Uu))):(Uu||(es=Xu.now(),Uu=setInterval(JT,CS)),Ao=1,AS(TS))}}var Ao,qu,Uu,CS,Jc,Gu,es,zi,ts,Xu,AS,fp=P(()=>{Ao=0,qu=0,Uu=0,CS=1e3,es=0,zi=0,ts=0,Xu=typeof performance=="object"&&performance.now?performance:Date,AS=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};ju.prototype=ns.prototype={constructor:ju,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Qu():+n)+(t==null?0:+t),!this._next&&Gu!==this&&(Gu?Gu._next=this:Jc=this,Gu=this),this._call=e,this._time=n,sp()},stop:function(){this._call&&(this._call=null,this._time=1/0,sp())}}});function rs(e,t,n){var r=new ju;return t=t==null?0:+t,r.restart(a=>{r.stop(),e(a+t)},t,n),r}var VS=P(()=>{fp()});var as=P(()=>{fp();VS()});function Da(e,t,n,r,a,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;rC(e,n,{name:t,index:r,group:a,on:tC,tween:nC,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:ES})}function Ku(e,t){var n=Bt(e,t);if(n.state>ES)throw new Error("too late; already scheduled");return n}function dn(e,t){var n=Bt(e,t);if(n.state>is)throw new Error("too late; already running");return n}function Bt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function rC(e,t,n){var r=e.__transition,a;r[t]=n,n.timer=ns(i,0,n.time);function i(f){n.state=DS,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var m,w,v,M;if(n.state!==DS)return s();for(m in r)if(M=r[m],M.name===n.name){if(M.state===is)return rs(o);M.state===NS?(M.state=Zu,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete r[m]):+m<t&&(M.state=Zu,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete r[m])}if(rs(function(){n.state===is&&(n.state=NS,n.timer.restart(l,n.delay,n.time),l(f))}),n.state=os,n.on.call("start",e,e.__data__,n.index,n.group),n.state===os){for(n.state=is,a=new Array(v=n.tween.length),m=0,w=-1;m<v;++m)(M=n.tween[m].value.call(e,e.__data__,n.index,n.group))&&(a[++w]=M);a.length=w+1}}function l(f){for(var m=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(s),n.state=us,1),w=-1,v=a.length;++w<v;)a[w].call(e,m);n.state===us&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Zu,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}var tC,nC,ES,DS,os,is,NS,us,Zu,Rn=P(()=>{To();as();tC=ea("start","end","cancel","interrupt"),nC=[],ES=0,DS=1,os=2,is=3,NS=4,us=5,Zu=6});function Or(e,t){var n=e.__transition,r,a,i=!0,o;if(!!n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}a=r.state>os&&r.state<us,r.state=Zu,r.timer.stop(),r.on.call(a?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}var dp=P(()=>{Rn()});function PS(e){return this.each(function(){Or(this,e)})}var LS=P(()=>{dp()});function aC(e,t){var n,r;return function(){var a=dn(this,e),i=a.tween;if(i!==n){r=n=i;for(var o=0,l=r.length;o<l;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}a.tween=r}}function iC(e,t,n){var r,a;if(typeof n!="function")throw new Error;return function(){var i=dn(this,e),o=i.tween;if(o!==r){a=(r=o).slice();for(var l={name:t,value:n},s=0,f=a.length;s<f;++s)if(a[s].name===t){a[s]=l;break}s===f&&a.push(l)}i.tween=a}}function OS(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Bt(this.node(),n).tween,a=0,i=r.length,o;a<i;++a)if((o=r[a]).name===e)return o.value;return null}return this.each((t==null?aC:iC)(n,e,t))}function ko(e,t,n){var r=e._id;return e.each(function(){var a=dn(this,r);(a.value||(a.value={}))[t]=n.apply(this,arguments)}),function(a){return Bt(a,r).value[t]}}var Ju=P(()=>{Rn()});function ls(e,t){var n;return(typeof t=="number"?fn:t instanceof bn?Ei:(n=bn(t))?(t=n,Ei):Hu)(e,t)}var mp=P(()=>{Kr();Jn()});function oC(e){return function(){this.removeAttribute(e)}}function uC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function lC(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function cC(e,t,n){var r,a=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function sC(e,t,n){var r,a,i;return function(){var o,l=n(this),s;return l==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=l+"",o===s?null:o===r&&s===a?i:(a=s,i=t(r=o,l)))}}function fC(e,t,n){var r,a,i;return function(){var o,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=l+"",o===s?null:o===r&&s===a?i:(a=s,i=t(r=o,l)))}}function zS(e,t){var n=Dr(e),r=n==="transform"?Nh:ls;return this.attrTween(e,typeof t=="function"?(n.local?fC:sC)(n,r,ko(this,"attr."+e,t)):t==null?(n.local?uC:oC)(n):(n.local?cC:lC)(n,r,t))}var IS=P(()=>{Jn();vn();Ju();mp()});function dC(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function mC(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function hC(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&mC(e,i)),n}return a._value=t,a}function pC(e,t){var n,r;function a(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&dC(e,i)),n}return a._value=t,a}function RS(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Dr(e);return this.tween(n,(r.local?hC:pC)(r,t))}var FS=P(()=>{vn()});function gC(e,t){return function(){Ku(this,e).delay=+t.apply(this,arguments)}}function vC(e,t){return t=+t,function(){Ku(this,e).delay=t}}function BS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gC:vC)(t,e)):Bt(this.node(),t).delay}var HS=P(()=>{Rn()});function yC(e,t){return function(){dn(this,e).duration=+t.apply(this,arguments)}}function bC(e,t){return t=+t,function(){dn(this,e).duration=t}}function YS(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yC:bC)(t,e)):Bt(this.node(),t).duration}var WS=P(()=>{Rn()});function xC(e,t){if(typeof t!="function")throw new Error;return function(){dn(this,e).ease=t}}function $S(e){var t=this._id;return arguments.length?this.each(xC(t,e)):Bt(this.node(),t).ease}var US=P(()=>{Rn()});function wC(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;dn(this,e).ease=n}}function qS(e){if(typeof e!="function")throw new Error;return this.each(wC(this._id,e))}var GS=P(()=>{Rn()});function XS(e){typeof e!="function"&&(e=lo(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],s,f=0;f<o;++f)(s=i[f])&&e.call(s,s.__data__,f,i)&&l.push(s);return new An(r,this._parents,this._name,this._id)}var jS=P(()=>{vn();Ii()});function QS(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s=t[l],f=n[l],m=s.length,w=o[l]=new Array(m),v,M=0;M<m;++M)(v=s[M]||f[M])&&(w[M]=v);for(;l<r;++l)o[l]=t[l];return new An(o,this._parents,this._name,this._id)}var ZS=P(()=>{Ii()});function _C(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function SC(e,t,n){var r,a,i=_C(t)?Ku:dn;return function(){var o=i(this,e),l=o.on;l!==r&&(a=(r=l).copy()).on(t,n),o.on=a}}function KS(e,t){var n=this._id;return arguments.length<2?Bt(this.node(),n).on.on(e):this.each(SC(n,e,t))}var JS=P(()=>{Rn()});function MC(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function e3(){return this.on("end.remove",MC(this._id))}var t3=P(()=>{});function n3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=_a(e));for(var r=this._groups,a=r.length,i=new Array(a),o=0;o<a;++o)for(var l=r[o],s=l.length,f=i[o]=new Array(s),m,w,v=0;v<s;++v)(m=l[v])&&(w=e.call(m,m.__data__,v,l))&&("__data__"in m&&(w.__data__=m.__data__),f[v]=w,Da(f[v],t,n,v,f,Bt(m,n)));return new An(i,this._parents,t,n)}var r3=P(()=>{vn();Ii();Rn()});function a3(e){var t=this._name,n=this._id;typeof e!="function"&&(e=uo(e));for(var r=this._groups,a=r.length,i=[],o=[],l=0;l<a;++l)for(var s=r[l],f=s.length,m,w=0;w<f;++w)if(m=s[w]){for(var v=e.call(m,m.__data__,w,s),M,C=Bt(m,n),A=0,T=v.length;A<T;++A)(M=v[A])&&Da(M,t,n,A,v,C);i.push(v),o.push(m)}return new An(i,o,t,n)}var i3=P(()=>{vn();Ii();Rn()});function o3(){return new TC(this._groups,this._parents)}var TC,u3=P(()=>{vn();TC=Nr.prototype.constructor});function CC(e,t){var n,r,a;return function(){var i=Zr(this,e),o=(this.style.removeProperty(e),Zr(this,e));return i===o?null:i===n&&o===r?a:a=t(n=i,r=o)}}function l3(e){return function(){this.style.removeProperty(e)}}function AC(e,t,n){var r,a=n+"",i;return function(){var o=Zr(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}function kC(e,t,n){var r,a,i;return function(){var o=Zr(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),Zr(this,e))),o===s?null:o===r&&s===a?i:(a=s,i=t(r=o,l))}}function VC(e,t){var n,r,a,i="style."+t,o="end."+i,l;return function(){var s=dn(this,e),f=s.on,m=s.value[i]==null?l||(l=l3(t)):void 0;(f!==n||a!==m)&&(r=(n=f).copy()).on(o,a=m),s.on=r}}function c3(e,t,n){var r=(e+="")=="transform"?Dh:ls;return t==null?this.styleTween(e,CC(e,r)).on("end.style."+e,l3(e)):typeof t=="function"?this.styleTween(e,kC(e,r,ko(this,"style."+e,t))).each(VC(this._id,e)):this.styleTween(e,AC(e,r,t),n).on("end.style."+e,null)}var s3=P(()=>{Jn();vn();Rn();Ju();mp()});function DC(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function NC(e,t,n){var r,a;function i(){var o=t.apply(this,arguments);return o!==a&&(r=(a=o)&&DC(e,o,n)),r}return i._value=t,i}function f3(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,NC(e,t,n??""))}var d3=P(()=>{});function EC(e){return function(){this.textContent=e}}function PC(e){return function(){var t=e(this);this.textContent=t??""}}function m3(e){return this.tween("text",typeof e=="function"?PC(ko(this,"text",e)):EC(e==null?"":e+""))}var h3=P(()=>{Ju()});function LC(e){return function(t){this.textContent=e.call(this,t)}}function OC(e){var t,n;function r(){var a=e.apply(this,arguments);return a!==n&&(t=(n=a)&&LC(a)),t}return r._value=e,r}function p3(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,OC(e))}var g3=P(()=>{});function v3(){for(var e=this._name,t=this._id,n=cs(),r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,s,f=0;f<l;++f)if(s=o[f]){var m=Bt(s,t);Da(s,e,n,f,o,{time:m.time+m.delay+m.duration,delay:0,duration:m.duration,ease:m.ease})}return new An(r,this._parents,e,n)}var y3=P(()=>{Ii();Rn()});function b3(){var e,t,n=this,r=n._id,a=n.size();return new Promise(function(i,o){var l={value:o},s={value:function(){--a===0&&i()}};n.each(function(){var f=dn(this,r),m=f.on;m!==e&&(t=(e=m).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),f.on=t}),a===0&&i()})}var x3=P(()=>{Rn()});function An(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function w3(e){return Nr().transition(e)}function cs(){return++zC}var zC,ta,Ii=P(()=>{vn();IS();FS();HS();WS();US();GS();jS();ZS();JS();t3();r3();i3();u3();s3();d3();h3();g3();y3();Ju();x3();zC=0;ta=Nr.prototype;An.prototype=w3.prototype={constructor:An,select:n3,selectAll:a3,selectChild:ta.selectChild,selectChildren:ta.selectChildren,filter:XS,merge:QS,selection:o3,transition:v3,call:ta.call,nodes:ta.nodes,node:ta.node,size:ta.size,empty:ta.empty,each:ta.each,on:KS,attr:zS,attrTween:RS,style:c3,styleTween:f3,text:m3,textTween:p3,remove:e3,tween:OS,delay:BS,duration:YS,ease:$S,easeVarying:qS,end:b3,[Symbol.iterator]:ta[Symbol.iterator]}});function ss(e){return--e*e*e+1}function fs(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var _3=P(()=>{});var hp=P(()=>{_3()});function RC(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function S3(e){var t,n;e instanceof An?(t=e._id,e=e._name):(t=cs(),(n=IC).time=Qu(),e=e==null?null:e+"");for(var r=this._groups,a=r.length,i=0;i<a;++i)for(var o=r[i],l=o.length,s,f=0;f<l;++f)(s=o[f])&&Da(s,e,t,f,o,n||RC(s,t));return new An(r,this._parents,e,t)}var IC,M3=P(()=>{Ii();Rn();hp();as();IC={time:null,delay:0,duration:250,ease:fs}});var T3=P(()=>{vn();LS();M3();Nr.prototype.interrupt=PS;Nr.prototype.transition=S3});var ds=P(()=>{T3();dp()});var ms,C3=P(()=>{ms=e=>()=>e});function pp(e,{sourceEvent:t,target:n,selection:r,mode:a,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:i}})}var A3=P(()=>{});function k3(e){e.stopImmediatePropagation()}function hs(e){e.preventDefault(),e.stopImmediatePropagation()}var V3=P(()=>{});function E3(e){return[+e[0],+e[1]]}function yp(e){return[E3(e[0]),E3(e[1])]}function el(e){return{type:e}}function YC(e){return!e.ctrlKey&&!e.button}function WC(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function $C(){return navigator.maxTouchPoints||"ontouchstart"in this}function vp(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function UC(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function O3(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function z3(){return bp(ps)}function I3(){return bp(gs)}function R3(){return bp(FC)}function bp(e){var t=WC,n=YC,r=$C,a=!0,i=ea("start","brush","end"),o=6,l;function s(T){var D=T.property("__brush",A).selectAll(".overlay").data([el("overlay")]);D.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",na.overlay).merge(D).each(function(){var H=vp(this).extent;Re(this).attr("x",H[0][0]).attr("y",H[0][1]).attr("width",H[1][0]-H[0][0]).attr("height",H[1][1]-H[0][1])}),T.selectAll(".selection").data([el("selection")]).enter().append("rect").attr("class","selection").attr("cursor",na.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var R=T.selectAll(".handle").data(e.handles,function(H){return H.type});R.exit().remove(),R.enter().append("rect").attr("class",function(H){return"handle handle--"+H.type}).attr("cursor",function(H){return na[H.type]}),T.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",v).filter(r).on("touchstart.brush",v).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(T,D,R){T.tween?T.on("start.brush",function(H){m(this,arguments).beforestart().start(H)}).on("interrupt.brush end.brush",function(H){m(this,arguments).end(H)}).tween("brush",function(){var H=this,V=H.__brush,I=m(H,arguments),z=V.selection,j=e.input(typeof D=="function"?D.apply(this,arguments):D,V.extent),Z=jt(z,j);function ve(ye){V.selection=ye===1&&j===null?null:Z(ye),f.call(H),I.brush()}return z!==null&&j!==null?ve:ve(1)}):T.each(function(){var H=this,V=arguments,I=H.__brush,z=e.input(typeof D=="function"?D.apply(H,V):D,I.extent),j=m(H,V).beforestart();Or(H),I.selection=z===null?null:z,f.call(H),j.start(R).brush(R).end(R)})},s.clear=function(T,D){s.move(T,null,D)};function f(){var T=Re(this),D=vp(this).selection;D?(T.selectAll(".selection").style("display",null).attr("x",D[0][0]).attr("y",D[0][1]).attr("width",D[1][0]-D[0][0]).attr("height",D[1][1]-D[0][1]),T.selectAll(".handle").style("display",null).attr("x",function(R){return R.type[R.type.length-1]==="e"?D[1][0]-o/2:D[0][0]-o/2}).attr("y",function(R){return R.type[0]==="s"?D[1][1]-o/2:D[0][1]-o/2}).attr("width",function(R){return R.type==="n"||R.type==="s"?D[1][0]-D[0][0]+o:o}).attr("height",function(R){return R.type==="e"||R.type==="w"?D[1][1]-D[0][1]+o:o})):T.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function m(T,D,R){var H=T.__brush.emitter;return H&&(!R||!H.clean)?H:new w(T,D,R)}function w(T,D,R){this.that=T,this.args=D,this.state=T.__brush,this.active=0,this.clean=R}w.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(T,D){return this.starting?(this.starting=!1,this.emit("start",T,D)):this.emit("brush",T),this},brush:function(T,D){return this.emit("brush",T,D),this},end:function(T,D){return--this.active===0&&(delete this.state.emitter,this.emit("end",T,D)),this},emit:function(T,D,R){var H=Re(this.that).datum();i.call(T,this.that,new pp(T,{sourceEvent:D,target:s,selection:e.output(this.state.selection),mode:R,dispatch:i}),H)}};function v(T){if(l&&!T.touches||!n.apply(this,arguments))return;var D=this,R=T.target.__data__.type,H=(a&&T.metaKey?R="overlay":R)==="selection"?D3:a&&T.altKey?Do:Vo,V=e===gs?null:BC[R],I=e===ps?null:HC[R],z=vp(D),j=z.extent,Z=z.selection,ve=j[0][0],ye,ue,Ie=j[0][1],de,$,we=j[1][0],te,ae,pe=j[1][1],ie,be,Le=0,Pe=0,Se,He=V&&I&&a&&T.shiftKey,X,he,le=Array.from(T.touches||[T],Ye=>{let rt=Ye.identifier;return Ye=Gt(Ye,D),Ye.point0=Ye.slice(),Ye.identifier=rt,Ye});Or(D);var me=m(D,arguments,!0).beforestart();if(R==="overlay"){Z&&(Se=!0);let Ye=[le[0],le[1]||le[0]];z.selection=Z=[[ye=e===gs?ve:wn(Ye[0][0],Ye[1][0]),de=e===ps?Ie:wn(Ye[0][1],Ye[1][1])],[te=e===gs?we:xn(Ye[0][0],Ye[1][0]),ie=e===ps?pe:xn(Ye[0][1],Ye[1][1])]],le.length>1&&Xe(T)}else ye=Z[0][0],de=Z[0][1],te=Z[1][0],ie=Z[1][1];ue=ye,$=de,ae=te,be=ie;var Q=Re(D).attr("pointer-events","none"),K=Q.selectAll(".overlay").attr("cursor",na[R]);if(T.touches)me.moved=Me,me.ended=Je;else{var Ce=Re(T.view).on("mousemove.brush",Me,!0).on("mouseup.brush",Je,!0);a&&Ce.on("keydown.brush",mt,!0).on("keyup.brush",ft,!0),Li(T.view)}f.call(D),me.start(T,H.name);function Me(Ye){for(let rt of Ye.changedTouches||[Ye])for(let St of le)St.identifier===rt.identifier&&(St.cur=Gt(rt,D));if(He&&!X&&!he&&le.length===1){let rt=le[0];N3(rt.cur[0]-rt[0])>N3(rt.cur[1]-rt[1])?he=!0:X=!0}for(let rt of le)rt.cur&&(rt[0]=rt.cur[0],rt[1]=rt.cur[1]);Se=!0,hs(Ye),Xe(Ye)}function Xe(Ye){let rt=le[0],St=rt.point0;var ht;switch(Le=rt[0]-St[0],Pe=rt[1]-St[1],H){case gp:case D3:{V&&(Le=xn(ve-ye,wn(we-te,Le)),ue=ye+Le,ae=te+Le),I&&(Pe=xn(Ie-de,wn(pe-ie,Pe)),$=de+Pe,be=ie+Pe);break}case Vo:{le[1]?(V&&(ue=xn(ve,wn(we,le[0][0])),ae=xn(ve,wn(we,le[1][0])),V=1),I&&($=xn(Ie,wn(pe,le[0][1])),be=xn(Ie,wn(pe,le[1][1])),I=1)):(V<0?(Le=xn(ve-ye,wn(we-ye,Le)),ue=ye+Le,ae=te):V>0&&(Le=xn(ve-te,wn(we-te,Le)),ue=ye,ae=te+Le),I<0?(Pe=xn(Ie-de,wn(pe-de,Pe)),$=de+Pe,be=ie):I>0&&(Pe=xn(Ie-ie,wn(pe-ie,Pe)),$=de,be=ie+Pe));break}case Do:{V&&(ue=xn(ve,wn(we,ye-Le*V)),ae=xn(ve,wn(we,te+Le*V))),I&&($=xn(Ie,wn(pe,de-Pe*I)),be=xn(Ie,wn(pe,ie+Pe*I)));break}}ae<ue&&(V*=-1,ht=ye,ye=te,te=ht,ht=ue,ue=ae,ae=ht,R in P3&&K.attr("cursor",na[R=P3[R]])),be<$&&(I*=-1,ht=de,de=ie,ie=ht,ht=$,$=be,be=ht,R in L3&&K.attr("cursor",na[R=L3[R]])),z.selection&&(Z=z.selection),X&&(ue=Z[0][0],ae=Z[1][0]),he&&($=Z[0][1],be=Z[1][1]),(Z[0][0]!==ue||Z[0][1]!==$||Z[1][0]!==ae||Z[1][1]!==be)&&(z.selection=[[ue,$],[ae,be]],f.call(D),me.brush(Ye,H.name))}function Je(Ye){if(k3(Ye),Ye.touches){if(Ye.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Oi(Ye.view,Se),Ce.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Q.attr("pointer-events","all"),K.attr("cursor",na.overlay),z.selection&&(Z=z.selection),UC(Z)&&(z.selection=null,f.call(D)),me.end(Ye,H.name)}function mt(Ye){switch(Ye.keyCode){case 16:{He=V&&I;break}case 18:{H===Vo&&(V&&(te=ae-Le*V,ye=ue+Le*V),I&&(ie=be-Pe*I,de=$+Pe*I),H=Do,Xe(Ye));break}case 32:{(H===Vo||H===Do)&&(V<0?te=ae-Le:V>0&&(ye=ue-Le),I<0?ie=be-Pe:I>0&&(de=$-Pe),H=gp,K.attr("cursor",na.selection),Xe(Ye));break}default:return}hs(Ye)}function ft(Ye){switch(Ye.keyCode){case 16:{He&&(X=he=He=!1,Xe(Ye));break}case 18:{H===Do&&(V<0?te=ae:V>0&&(ye=ue),I<0?ie=be:I>0&&(de=$),H=Vo,Xe(Ye));break}case 32:{H===gp&&(Ye.altKey?(V&&(te=ae-Le*V,ye=ue+Le*V),I&&(ie=be-Pe*I,de=$+Pe*I),H=Do):(V<0?te=ae:V>0&&(ye=ue),I<0?ie=be:I>0&&(de=$),H=Vo),K.attr("cursor",na[R]),Xe(Ye));break}default:return}hs(Ye)}}function M(T){m(this,arguments).moved(T)}function C(T){m(this,arguments).ended(T)}function A(){var T=this.__brush||{selection:null};return T.extent=yp(t.apply(this,arguments)),T.dim=e,T}return s.extent=function(T){return arguments.length?(t=typeof T=="function"?T:ms(yp(T)),s):t},s.filter=function(T){return arguments.length?(n=typeof T=="function"?T:ms(!!T),s):n},s.touchable=function(T){return arguments.length?(r=typeof T=="function"?T:ms(!!T),s):r},s.handleSize=function(T){return arguments.length?(o=+T,s):o},s.keyModifiers=function(T){return arguments.length?(a=!!T,s):a},s.on=function(){var T=i.on.apply(i,arguments);return T===i?s:T},s}var D3,gp,Vo,Do,N3,xn,wn,ps,gs,FC,na,P3,L3,BC,HC,F3=P(()=>{To();Kc();Jn();vn();ds();C3();A3();V3();D3={name:"drag"},gp={name:"space"},Vo={name:"handle"},Do={name:"center"},{abs:N3,max:xn,min:wn}=Math;ps={name:"x",handles:["w","e"].map(el),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},gs={name:"y",handles:["n","s"].map(el),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},FC={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(el),input:function(e){return e==null?null:yp(e)},output:function(e){return e}},na={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},P3={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},L3={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},BC={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},HC={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1}});var B3={};Ln(B3,{brush:()=>R3,brushSelection:()=>O3,brushX:()=>z3,brushY:()=>I3});var xp=P(()=>{F3()});var tl,H3=P(()=>{tl=e=>()=>e});function wp(e,{sourceEvent:t,target:n,transform:r,dispatch:a}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:a}})}var Y3=P(()=>{});function er(e,t,n){this.k=e,this.x=t,this.y=n}function vs(e){for(;!e.__zoom;)if(!(e=e.parentNode))return zr;return e.__zoom}var zr,_p=P(()=>{er.prototype={constructor:er,scale:function(e){return e===1?this:new er(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new er(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};zr=new er(1,0,0);vs.prototype=er.prototype});function ys(e){e.stopImmediatePropagation()}function No(e){e.preventDefault(),e.stopImmediatePropagation()}var W3=P(()=>{});function qC(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function GC(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function $3(){return this.__zoom||zr}function XC(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function jC(){return navigator.maxTouchPoints||"ontouchstart"in this}function QC(e,t,n){var r=e.invertX(t[0][0])-n[0][0],a=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(a>r?(r+a)/2:Math.min(0,r)||Math.max(0,a),o>i?(i+o)/2:Math.min(0,i)||Math.max(0,o))}function bs(){var e=qC,t=GC,n=QC,r=XC,a=jC,i=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],l=250,s=Eh,f=ea("start","zoom","end"),m,w,v,M=500,C=150,A=0,T=10;function D($){$.property("__zoom",$3).on("wheel.zoom",Z,{passive:!1}).on("mousedown.zoom",ve).on("dblclick.zoom",ye).filter(a).on("touchstart.zoom",ue).on("touchmove.zoom",Ie).on("touchend.zoom touchcancel.zoom",de).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}D.transform=function($,we,te,ae){var pe=$.selection?$.selection():$;pe.property("__zoom",$3),$!==pe?I($,we,te,ae):pe.interrupt().each(function(){z(this,arguments).event(ae).start().zoom(null,typeof we=="function"?we.apply(this,arguments):we).end()})},D.scaleBy=function($,we,te,ae){D.scaleTo($,function(){var pe=this.__zoom.k,ie=typeof we=="function"?we.apply(this,arguments):we;return pe*ie},te,ae)},D.scaleTo=function($,we,te,ae){D.transform($,function(){var pe=t.apply(this,arguments),ie=this.__zoom,be=te==null?V(pe):typeof te=="function"?te.apply(this,arguments):te,Le=ie.invert(be),Pe=typeof we=="function"?we.apply(this,arguments):we;return n(H(R(ie,Pe),be,Le),pe,o)},te,ae)},D.translateBy=function($,we,te,ae){D.transform($,function(){return n(this.__zoom.translate(typeof we=="function"?we.apply(this,arguments):we,typeof te=="function"?te.apply(this,arguments):te),t.apply(this,arguments),o)},null,ae)},D.translateTo=function($,we,te,ae,pe){D.transform($,function(){var ie=t.apply(this,arguments),be=this.__zoom,Le=ae==null?V(ie):typeof ae=="function"?ae.apply(this,arguments):ae;return n(zr.translate(Le[0],Le[1]).scale(be.k).translate(typeof we=="function"?-we.apply(this,arguments):-we,typeof te=="function"?-te.apply(this,arguments):-te),ie,o)},ae,pe)};function R($,we){return we=Math.max(i[0],Math.min(i[1],we)),we===$.k?$:new er(we,$.x,$.y)}function H($,we,te){var ae=we[0]-te[0]*$.k,pe=we[1]-te[1]*$.k;return ae===$.x&&pe===$.y?$:new er($.k,ae,pe)}function V($){return[(+$[0][0]+ +$[1][0])/2,(+$[0][1]+ +$[1][1])/2]}function I($,we,te,ae){$.on("start.zoom",function(){z(this,arguments).event(ae).start()}).on("interrupt.zoom end.zoom",function(){z(this,arguments).event(ae).end()}).tween("zoom",function(){var pe=this,ie=arguments,be=z(pe,ie).event(ae),Le=t.apply(pe,ie),Pe=te==null?V(Le):typeof te=="function"?te.apply(pe,ie):te,Se=Math.max(Le[1][0]-Le[0][0],Le[1][1]-Le[0][1]),He=pe.__zoom,X=typeof we=="function"?we.apply(pe,ie):we,he=s(He.invert(Pe).concat(Se/He.k),X.invert(Pe).concat(Se/X.k));return function(le){if(le===1)le=X;else{var me=he(le),Q=Se/me[2];le=new er(Q,Pe[0]-me[0]*Q,Pe[1]-me[1]*Q)}be.zoom(null,le)}})}function z($,we,te){return!te&&$.__zooming||new j($,we)}function j($,we){this.that=$,this.args=we,this.active=0,this.sourceEvent=null,this.extent=t.apply($,we),this.taps=0}j.prototype={event:function($){return $&&(this.sourceEvent=$),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function($,we){return this.mouse&&$!=="mouse"&&(this.mouse[1]=we.invert(this.mouse[0])),this.touch0&&$!=="touch"&&(this.touch0[1]=we.invert(this.touch0[0])),this.touch1&&$!=="touch"&&(this.touch1[1]=we.invert(this.touch1[0])),this.that.__zoom=we,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function($){var we=Re(this.that).datum();f.call($,this.that,new wp($,{sourceEvent:this.sourceEvent,target:D,type:$,transform:this.that.__zoom,dispatch:f}),we)}};function Z($,...we){if(!e.apply(this,arguments))return;var te=z(this,we).event($),ae=this.__zoom,pe=Math.max(i[0],Math.min(i[1],ae.k*Math.pow(2,r.apply(this,arguments)))),ie=Gt($);if(te.wheel)(te.mouse[0][0]!==ie[0]||te.mouse[0][1]!==ie[1])&&(te.mouse[1]=ae.invert(te.mouse[0]=ie)),clearTimeout(te.wheel);else{if(ae.k===pe)return;te.mouse=[ie,ae.invert(ie)],Or(this),te.start()}No($),te.wheel=setTimeout(be,C),te.zoom("mouse",n(H(R(ae,pe),te.mouse[0],te.mouse[1]),te.extent,o));function be(){te.wheel=null,te.end()}}function ve($,...we){if(v||!e.apply(this,arguments))return;var te=$.currentTarget,ae=z(this,we,!0).event($),pe=Re($.view).on("mousemove.zoom",Pe,!0).on("mouseup.zoom",Se,!0),ie=Gt($,te),be=$.clientX,Le=$.clientY;Li($.view),ys($),ae.mouse=[ie,this.__zoom.invert(ie)],Or(this),ae.start();function Pe(He){if(No(He),!ae.moved){var X=He.clientX-be,he=He.clientY-Le;ae.moved=X*X+he*he>A}ae.event(He).zoom("mouse",n(H(ae.that.__zoom,ae.mouse[0]=Gt(He,te),ae.mouse[1]),ae.extent,o))}function Se(He){pe.on("mousemove.zoom mouseup.zoom",null),Oi(He.view,ae.moved),No(He),ae.event(He).end()}}function ye($,...we){if(!!e.apply(this,arguments)){var te=this.__zoom,ae=Gt($.changedTouches?$.changedTouches[0]:$,this),pe=te.invert(ae),ie=te.k*($.shiftKey?.5:2),be=n(H(R(te,ie),ae,pe),t.apply(this,we),o);No($),l>0?Re(this).transition().duration(l).call(I,be,ae,$):Re(this).call(D.transform,be,ae,$)}}function ue($,...we){if(!!e.apply(this,arguments)){var te=$.touches,ae=te.length,pe=z(this,we,$.changedTouches.length===ae).event($),ie,be,Le,Pe;for(ys($),be=0;be<ae;++be)Le=te[be],Pe=Gt(Le,this),Pe=[Pe,this.__zoom.invert(Pe),Le.identifier],pe.touch0?!pe.touch1&&pe.touch0[2]!==Pe[2]&&(pe.touch1=Pe,pe.taps=0):(pe.touch0=Pe,ie=!0,pe.taps=1+!!m);m&&(m=clearTimeout(m)),ie&&(pe.taps<2&&(w=Pe[0],m=setTimeout(function(){m=null},M)),Or(this),pe.start())}}function Ie($,...we){if(!!this.__zooming){var te=z(this,we).event($),ae=$.changedTouches,pe=ae.length,ie,be,Le,Pe;for(No($),ie=0;ie<pe;++ie)be=ae[ie],Le=Gt(be,this),te.touch0&&te.touch0[2]===be.identifier?te.touch0[0]=Le:te.touch1&&te.touch1[2]===be.identifier&&(te.touch1[0]=Le);if(be=te.that.__zoom,te.touch1){var Se=te.touch0[0],He=te.touch0[1],X=te.touch1[0],he=te.touch1[1],le=(le=X[0]-Se[0])*le+(le=X[1]-Se[1])*le,me=(me=he[0]-He[0])*me+(me=he[1]-He[1])*me;be=R(be,Math.sqrt(le/me)),Le=[(Se[0]+X[0])/2,(Se[1]+X[1])/2],Pe=[(He[0]+he[0])/2,(He[1]+he[1])/2]}else if(te.touch0)Le=te.touch0[0],Pe=te.touch0[1];else return;te.zoom("touch",n(H(be,Le,Pe),te.extent,o))}}function de($,...we){if(!!this.__zooming){var te=z(this,we).event($),ae=$.changedTouches,pe=ae.length,ie,be;for(ys($),v&&clearTimeout(v),v=setTimeout(function(){v=null},M),ie=0;ie<pe;++ie)be=ae[ie],te.touch0&&te.touch0[2]===be.identifier?delete te.touch0:te.touch1&&te.touch1[2]===be.identifier&&delete te.touch1;if(te.touch1&&!te.touch0&&(te.touch0=te.touch1,delete te.touch1),te.touch0)te.touch0[1]=this.__zoom.invert(te.touch0[0]);else if(te.end(),te.taps===2&&(be=Gt(be,this),Math.hypot(w[0]-be[0],w[1]-be[1])<T)){var Le=Re(this).on("dblclick.zoom");Le&&Le.apply(this,arguments)}}}return D.wheelDelta=function($){return arguments.length?(r=typeof $=="function"?$:tl(+$),D):r},D.filter=function($){return arguments.length?(e=typeof $=="function"?$:tl(!!$),D):e},D.touchable=function($){return arguments.length?(a=typeof $=="function"?$:tl(!!$),D):a},D.extent=function($){return arguments.length?(t=typeof $=="function"?$:tl([[+$[0][0],+$[0][1]],[+$[1][0],+$[1][1]]]),D):t},D.scaleExtent=function($){return arguments.length?(i[0]=+$[0],i[1]=+$[1],D):[i[0],i[1]]},D.translateExtent=function($){return arguments.length?(o[0][0]=+$[0][0],o[1][0]=+$[1][0],o[0][1]=+$[0][1],o[1][1]=+$[1][1],D):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},D.constrain=function($){return arguments.length?(n=$,D):n},D.duration=function($){return arguments.length?(l=+$,D):l},D.interpolate=function($){return arguments.length?(s=$,D):s},D.on=function(){var $=f.on.apply(f,arguments);return $===f?D:$},D.clickDistance=function($){return arguments.length?(A=($=+$)*$,D):Math.sqrt(A)},D.tapDistance=function($){return arguments.length?(T=+$,D):T},D}var U3=P(()=>{To();Kc();Jn();vn();ds();H3();Y3();_p();W3()});var q3={};Ln(q3,{ZoomTransform:()=>er,zoom:()=>bs,zoomIdentity:()=>zr,zoomTransform:()=>vs});var Sp=P(()=>{U3();_p()});var _t=ir((xs,G3)=>{(function(e,t){typeof xs=="object"&&typeof G3<"u"?t(xs,(Tr(),Sr(Ld)),Fd(),(bu(),Sr(W1)),(mm(),Sr(hy)),(_m(),Sr(zy)),(ic(),Sr(By)),(vn(),Sr(mx)),(mh(),Sr(R2)),(op(),Sr(gS)),up(),(xp(),Sr(B3)),(Sp(),Sr(q3))):typeof define=="function"&&define.amd?define(["exports","d3-array","d3-scale","d3-time","d3-random","d3-fetch","d3-path","d3-selection","d3-shape","d3-scale-chromatic","d3-dispatch","d3-brush","d3-zoom"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.fc={},e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3,e.d3))})(xs,function(e,t,n,r,a,i,o,l,s,f,m,w,v){"use strict";var M=function(u,c,d){var p=c[d];if(typeof p!="function")throw new Error("Attempt to rebind ".concat(d," which isn't a function on the source object"));return function(){for(var b=arguments.length,x=new Array(b),h=0;h<b;h++)x[h]=arguments[h];var g=p.apply(c,x);return g===c?u:g}},C=function(u,c){for(var d=arguments.length,p=new Array(d>2?d-2:0),b=2;b<d;b++)p[b-2]=arguments[b];for(var x=0,h=p;x<h.length;x++){var g=h[x];u[g]=M(u,c,g)}return u},A=function(c){return function(d){return c.reduce(function(p,b){return p&&b(p)},d)}},T=function(u,c){for(var d=arguments.length,p=new Array(d>2?d-2:0),b=2;b<d;b++)p[b-2]=arguments[b];for(var x=A(p),h=0,g=Object.keys(c);h<g.length;h++){var y=g[h],_=x(y);_&&(u[_]=M(u,c,y))}return u},D=function(u){return u.map(function(c){return typeof c=="string"?new RegExp("^".concat(c,"$")):c})},R=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return c=D(c),function(p){return c.every(function(b){return!b.test(p)})&&p}},H=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return c=D(c),function(p){return c.some(function(b){return b.test(p)})&&p}},V=function(u){return function(c){return u[c]}},I=function(c){return c[0].toUpperCase()+c.slice(1)},z=function(u){return function(c){return u+I(c)}};function j(u){return u}function Z(u){}function ve(u){return typeof u=="function"?u:function(){return u}}function ye(u){return typeof u=="number"&&isNaN(u)?void 0:u}function ue(){var u=function(){return 10},c=Z,d=j,p=function(h){return h!=null},b=function(h){var g=u.apply(this,arguments),y=h.slice(0,g).map(d);return h.map(function(_,S){return S>=g&&(y.shift(),y.push(d(_,S))),S<g-1||y.some(function(k){return!p(k)})?c(void 0,S):c(y,S)})};return b.period=function(){return arguments.length?(u=ve(arguments.length<=0?void 0:arguments[0]),b):u},b.accumulator=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.defined=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],b):p},b.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},b}function Ie(){var u=2,c=ue().accumulator(function(p){var b=p&&t.deviation(p),x=p&&t.mean(p);return{average:x,upper:ye(x+u*b),lower:ye(x-u*b)}}),d=function(b){return c(b)};return d.multiplier=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},C(d,c,"period","value"),d}function de(){var u=j,c=function(){return 9},d=function(x){var h=[];return function(g){var y;return h.length<x&&(g!=null?h.push(g):h=[]),h.length>=x&&(y=t.mean(h)),y}},p=function(x){var h=c.apply(this,arguments),g=2/(h+1),y=d(h),_;return x.map(function(S,k){var N=u(S,k);return _===void 0?_=y(N):_=N*g+(1-g)*_,ye(_)})};return p.period=function(){return arguments.length?(c=ve(arguments.length<=0?void 0:arguments[0]),p):c},p.value=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p}function $(){var u=j,c=de().period(12),d=de().period(26),p=de().period(9),b=function(h){c.value(u),d.value(u);var g=t.zip(c(h),d(h)).map(function(_){return _[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}),y=p(g);return t.zip(g,y).map(function(_){return{macd:_[0],signal:_[1],divergence:_[0]!==void 0&&_[1]!==void 0?_[0]-_[1]:void 0}})};return b.value=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},T(b,c,V({period:"fastPeriod"})),T(b,d,V({period:"slowPeriod"})),T(b,p,V({period:"signalPeriod"})),b}function we(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?we=function(c){return typeof c}:we=function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},we(u)}function te(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function ae(u,c){for(var d=0;d<c.length;d++){var p=c[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}function pe(u,c,d){return c&&ae(u.prototype,c),d&&ae(u,d),u}function ie(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),c&&Le(u,c)}function be(u){return be=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},be(u)}function Le(u,c){return Le=Object.setPrototypeOf||function(p,b){return p.__proto__=b,p},Le(u,c)}function Pe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Se(u,c,d){return Pe()?Se=Reflect.construct:Se=function(b,x,h){var g=[null];g.push.apply(g,x);var y=Function.bind.apply(b,g),_=new y;return h&&Le(_,h.prototype),_},Se.apply(null,arguments)}function He(u){return Function.toString.call(u).indexOf("[native code]")!==-1}function X(u){var c=typeof Map=="function"?new Map:void 0;return X=function(p){if(p===null||!He(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof c<"u"){if(c.has(p))return c.get(p);c.set(p,b)}function b(){return Se(p,arguments,be(this).constructor)}return b.prototype=Object.create(p.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),Le(b,p)},X(u)}function he(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}function le(u,c){return c&&(typeof c=="object"||typeof c=="function")?c:he(u)}function me(u){var c=Pe();return function(){var p=be(u),b;if(c){var x=be(this).constructor;b=Reflect.construct(p,arguments,x)}else b=p.apply(this,arguments);return le(this,b)}}function Q(u,c){return Xe(u)||mt(u,c)||ft(u,c)||St()}function K(u){return Xe(u)||Je(u)||ft(u)||St()}function Ce(u){return Me(u)||Je(u)||ft(u)||rt()}function Me(u){if(Array.isArray(u))return Ye(u)}function Xe(u){if(Array.isArray(u))return u}function Je(u){if(typeof Symbol<"u"&&Symbol.iterator in Object(u))return Array.from(u)}function mt(u,c){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(u)))){var d=[],p=!0,b=!1,x=void 0;try{for(var h=u[Symbol.iterator](),g;!(p=(g=h.next()).done)&&(d.push(g.value),!(c&&d.length===c));p=!0);}catch(y){b=!0,x=y}finally{try{!p&&h.return!=null&&h.return()}finally{if(b)throw x}}return d}}function ft(u,c){if(!!u){if(typeof u=="string")return Ye(u,c);var d=Object.prototype.toString.call(u).slice(8,-1);if(d==="Object"&&u.constructor&&(d=u.constructor.name),d==="Map"||d==="Set")return Array.from(u);if(d==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(d))return Ye(u,c)}}function Ye(u,c){(c==null||c>u.length)&&(c=u.length);for(var d=0,p=new Array(c);d<c;d++)p[d]=u[d];return p}function rt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function St(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ht(u,c){var d;if(typeof Symbol>"u"||u[Symbol.iterator]==null){if(Array.isArray(u)||(d=ft(u))||c&&u&&typeof u.length=="number"){d&&(u=d);var p=0,b=function(){};return{s:b,n:function(){return p>=u.length?{done:!0}:{done:!1,value:u[p++]}},e:function(y){throw y},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var x=!0,h=!1,g;return{s:function(){d=u[Symbol.iterator]()},n:function(){var y=d.next();return x=y.done,y},e:function(y){h=!0,g=y},f:function(){try{!x&&d.return!=null&&d.return()}finally{if(h)throw g}}}}function Hn(){var u=ue().period(14),c=function(y,_){return _+(y[y.length-1]-_)/y.length},d=function(y){var _=Q(y,2),S=_[0],k=_[1];return S<k?0:S-k},p=function(y){var _=Q(y,2),S=_[0],k=_[1];return S>k?0:k-S},b=function(y,_){return _!==void 0?c(y,_):t.mean(y)},x=function(){var y,_,S;return function(k){if(!k){y!==void 0&&(y=NaN);return}if(y===void 0){y=k[0];return}var N=t.pairs([y].concat(Ce(k)));_=b(N.map(d),_),S=b(N.map(p),S);var O=isNaN(y)?NaN:S/_;return ye(100-100/(1+O))}},h=function(y){var _=x();return u.accumulator(_),u(y)};return C(h,u,"period","value"),h}function mn(){var u=ue().accumulator(function(d){return d&&t.mean(d)}),c=function(p){return u(p)};return C(c,u,"period","value"),c}function kn(){var u=function(g,y){return g.close},c=function(g,y){return g.high},d=function(g,y){return g.low},p=ue().period(5).defined(function(h){return u(h)!=null&&c(h)!=null&&d(h)!=null}).accumulator(function(h){var g=h&&t.max(h,c),y=h&&t.min(h,d),_=h&&100*(u(h[h.length-1])-y)/(g-y);return ye(_)}),b=mn().period(3),x=function(g){var y=p(g),_=b(y);return y.map(function(S,k){return{k:S,d:_[k]}})};return x.closeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],x):u},x.highValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},T(x,p,V({period:"kPeriod"})),T(x,b,V({period:"dPeriod"})),x}function Vn(){var u=function(h,g){return h.volume},c=function(h,g){return h.close},d=de().period(13),p=ue().period(2).defined(function(x){return c(x)!=null&&u(x)!=null}).accumulator(function(x){return x&&ye((c(x[1])-c(x[0]))*u(x[1]))}),b=function(h){var g=p(h);return d(g)};return b.volumeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.closeValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},C(b,d,"period"),b}function Jt(){var u=.1,c=j,d=function(b){return b.map(function(x){var h=ye(c(x)*(1-u)),g=ye(c(x)*(1+u));return{lower:h,upper:g}})};return d.factor=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},d.value=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d}function Yn(){var u=function(h,g){return h.close},c=function(h,g){return h.high},d=function(h,g){return h.low},p=de().period(13),b=function(h){return p.value(u),t.zip(h,p(h)).map(function(g){var y=ye(c(g[0])-g[1]),_=ye(d(g[0])-g[1]);return{bullPower:y,bearPower:_}})};return b.closeValue=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.highValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.lowValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},C(b,p,"period"),b}function L(){var u={};return u.distance=function(c,d){return d-c},u.offset=function(c,d){return c instanceof Date?new Date(c.getTime()+d):c+d},u.clampUp=function(c){return c},u.clampDown=function(c){return c},u.copy=function(){return u},u}function Y(u,c){var d=u.map(c.clampUp);return d.length!==new Set(d.map(function(p){return p?.valueOf()})).size&&console.warn("There are multiple ticks that fall within a discontinuity, which has led to them being rendered on top of each other. Consider using scale.ticks to explicitly specify the ticks for the scale."),d}function ge(u){var c=this;arguments.length||(u=n.scaleIdentity());var d=L(),p=function(x){var h=u.domain(),g=u.range(),y=d.distance(h[0],h[1]),_=d.distance(h[0],x),S=_/y,k=S*(g[1]-g[0])+g[0];return k};return p.invert=function(b){var x=u.domain(),h=u.range(),g=(b-h[0])/(h[1]-h[0]),y=d.distance(x[0],x[1]),_=g*y;return d.offset(x[0],_)},p.domain=function(){if(!arguments.length)return u.domain();var b=arguments.length<=0?void 0:arguments[0],x=d.clampUp(b[0]),h=d.clampDown(b[1]);return u.domain([x,h]),p},p.nice=function(){u.nice();var b=u.domain(),x=d.clampUp(b[0]),h=d.clampDown(b[1]);return u.domain([x,h]),p},p.ticks=function(){for(var b=arguments.length,x=new Array(b),h=0;h<b;h++)x[h]=arguments[h];var g=u.ticks.apply(c,x);return Y(g,d)},p.copy=function(){return ge(u.copy()).discontinuityProvider(d.copy())},p.discontinuityProvider=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},T(p,u,H("range","rangeRound","interpolate","clamp","tickFormat")),p}var Oe=function(c,d,p,b){var x={sunday:0,monday:1,saturday:6},h=24*3600*1e3,g=h*5,y=h*7,_={},S=function(N){return c(N)===0||c(N)===6};return _.clampDown=function(k){if(k&&S(k)){var N=d.ceil(k);return c(N)===x.sunday?d.offset(N,-1):c(N)===x.monday?d.offset(N,-2):N}else return k},_.clampUp=function(k){if(k&&S(k)){var N=d.floor(k);return c(N)===x.saturday?d.offset(N,2):c(N)===x.sunday?d.offset(N,1):N}else return k},_.distance=function(k,N){k=_.clampUp(k),N=_.clampDown(N);var O=p.ceil(k);if(N<O)return N.getTime()-k.getTime();var B=O.getTime()-k.getTime(),F=p.ceil(N),U=F.getTime()-N.getTime(),J=Math.round((F.getTime()-O.getTime())/y);return J*g+B-U},_.offset=function(k,N){var O=S(k)?_.clampUp(k):k;if(N===0)return O;var B=N<0,F=N>0,U=N,J=B?b.floor(O):p.ceil(O);if(U-=J.getTime()-O.getTime(),B&&U>0||F&&U<0)return new Date(O.getTime()+N);O=B?J:d.offset(J,2);var ne=Math.floor(U/g);return O=d.offset(O,ne*7),U-=ne*g,O=new Date(O.getTime()+U),O},_.copy=function(){return _},_},Te=function(){return Oe(function(u){return u.getDay()},r.timeDay,r.timeSaturday,r.timeMonday)},E=function(){return Oe(function(u){return u.getUTCDay()},r.utcDay,r.utcSaturday,r.utcMonday)},q=function(){for(var c=arguments.length,d=new Array(c),p=0;p<c;p++)d[p]=arguments[p];var b=function(_,S){return _>S[0]&&_<S[1]},x=function(_,S){return _[0]>=S[0]&&_[1]<=S[1]},h={};h.distance=function(y,_){y=h.clampUp(y),_=h.clampDown(_);var S=d.filter(function(N){return x(N,[y,_])}),k=S.map(function(N){return N[1]-N[0]});return _-y-k.reduce(function(N,O){return N+O},0)};var g=function(_,S){return _ instanceof Date?new Date(_.getTime()+S):_+S};return h.offset=function(y,_){if(_>0){var S=function(){for(var N=h.clampUp(y),O=_;O>0;){var B=d.filter(function(J){return J[0]>N}).sort(function(J,ne){return J[0]-ne[0]});if(B.length){var F=B[0],U=F[0]-N;U>O?(N=g(N,O),O=0):(N=F[1],O-=U)}else N=g(N,O),O=0}return{v:N}}();if(we(S)==="object")return S.v}else{var k=function(){for(var N=h.clampDown(y),O=_;O<0;){var B=d.filter(function(J){return J[1]<N}).sort(function(J,ne){return ne[0]-J[0]});if(B.length){var F=B[0],U=F[1]-N;U<O?(N=g(N,O),O=0):(N=F[0],O-=U)}else N=g(N,O),O=0}return{v:N}}();if(we(k)==="object")return k.v}},h.clampUp=function(y){return d.reduce(function(_,S){return b(_,S)?S[1]:_},y)},h.clampDown=function(y){return d.reduce(function(_,S){return b(_,S)?S[0]:_},y)},h.copy=function(){return h},h},ce=24*3600*1e3,Ve="00:00:00.000",W="SOD",ee="EOD";function oe(u){if(arguments.length!==1||typeof u!="string")throw"Expected single argument of type string";var c=function(h,g){return Number.isInteger(h)?h>=0&&h<=g:!1},d=[0,0,0,0],p=u.split(":");if(p.length<2||p.length>3)throw"Expected an argument wiht 2 or 3 colon delimited parts.";if(d[0]=c(parseInt(p[0],10),23)?parseInt(p[0],10):function(){throw"'Hours' component must be an int between 0 and 23, but was '".concat(p[0],"'")}(),d[1]=c(parseInt(p[1],10),59)?parseInt(p[1],10):function(){throw"'Minutes' component must be an int between 0 and 59, but was '".concat(p[1],"'")}(),p.length===3){var b=p[2].split(".").map(function(x){return parseInt(x,10)});d[2]=c(b[0],59)?b[0]:function(){throw"'Seconds' component must be an int between 0 and 59, but was '".concat(b[0],"'")}(),b.length===2&&(d[3]=c(b[1],999)?b[1]:function(){throw"'Miliseconds' component must be an int between 0 and 999, but was '".concat(b[1],"'")}())}return"".concat(d[0].toString(10).padStart(2,"0"),":").concat(d[1].toString(10).padStart(2,"0"),":").concat(d[2].toString(10).padStart(2,"0"),".").concat(d[3].toString(10).padStart(3,"0"))}function _e(u,c){if(arguments.length!=2||!Array.isArray(u)||u.length!==2||typeof u[0]!="string"||typeof u[1]!="string")throw"Expected argument is a single string[] of length 2.";u[0]===W&&(u[0]=Ve),u[1]===ee&&(u[1]=Ve);var d=oe(u[0]),p=oe(u[1]);if(p!==Ve&&d>p)throw"Time range start time '".concat(d,"' must be before end time '").concat(p,"' or both must equal ").concat(Ve);var b=c.setTime(new Date(p===Ve?ce:0),p)-c.setTime(new Date(0),d),x={startTime:d,endTime:p,lenghtInMs:b};return x.isInRange=function(h){var g=c.getTimeString(h);return x.startTime<=g&&(x.endTime===Ve||x.endTime>g)},x}var xe=function(c,d){var p=c.map(function(g){return _e(g,d)}).sort(function(g,y){return g.startTime<y.startTime?-1:g.startTime>y.startTime?1:0}),b=ce-p.reduce(function(g,y){return g+y.lenghtInMs},0),x=function(y,_){if(y.getTime()===_.getTime())return 0;if(d.dayInterval(y).getTime()!==d.dayInterval(_).getTime()&&d.getStartOfNextDay(y).getTime()!==_.getTime())throw"tradingDay.totalTradingMillisecondsBetween arguments must be on the same day or intervalEnd must be the start of the next day instead: intervalStart: '".concat(y,"'; intervalEnd: '").concat(_,"'");var S=0,k=p.filter(function(J){return J.endTime===Ve||d.setTime(y,J.endTime)>=y}),N=ht(k),O;try{for(N.s();!(O=N.n()).done;){var B=O.value,F=d.setTime(y,B.startTime),U=B.endTime===Ve?d.getStartOfNextDay(y):d.setTime(y,B.endTime);if(y<F&&_<F)return S+d.msInterval.count(y,_);if(y<F&&(S+=d.msInterval.count(y,F)),_<U)return S;y=U}}catch(J){N.e(J)}finally{N.f()}return S+d.msInterval.count(y,_)},h=function(y,_){if(_===0)return[y,_];var S=d.msInterval.offset(y,_),k=_>0?p.filter(function(fe){return d.setTime(y,fe.startTime)>=y}):p.filter(function(fe){return d.setTime(y,fe.startTime)<y}).reverse();if(k.length===0)return[d.msInterval.offset(y,_),0];if(_>0){var N=ht(k),O;try{for(N.s();!(O=N.n()).done;){var B=O.value,F=d.setTime(y,B.startTime);F<=S&&(_-=d.msInterval.count(y,F),y=B.endTime===Ve?d.getStartOfNextDay(y):d.setTime(y,B.endTime),S=d.msInterval.offset(y,_))}}catch(fe){N.e(fe)}finally{N.f()}_-=d.msInterval.count(y,S)}else{var U=ht(k),J;try{for(U.s();!(J=U.n()).done;){var ne=J.value,re=ne.endTime===Ve?d.getStartOfNextDay(y):d.setTime(y,ne.endTime);S<re&&(_+=d.msInterval.count(re,y)+1,y=d.msInterval.offset(d.setTime(y,ne.startTime),-1),S=d.msInterval.offset(y,_))}}catch(fe){U.e(fe)}finally{U.f()}_+=d.msInterval.count(S,y)}if(_!==0)throw"tradingDay.offset was called with an offset that spans more than a day";return[S,_]};return{totalTradingTimeInMiliseconds:b,nonTradingTimeRanges:p,totalTradingMillisecondsBetween:x,offset:h}},Ae=function(c,d,p,b,x){var h={};return h.getTimeComponentArrayFromString=function(g){return[g.slice(0,2),g.slice(3,5),g.slice(6,8),g.slice(9,12)]},h.getTimeString=function(g){var y=p(g).map(function(B){return B.toString(10).padStart(2,"0")}),_=Q(y,4),S=_[0],k=_[1],N=_[2],O=_[3];return"".concat(S,":").concat(k,":").concat(N,".").concat(O.padStart(3,"0"))},h.setTime=function(g,y){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,S=h.getTimeComponentArrayFromString(y),k=Q(S,4),N=k[0],O=k[1],B=k[2],F=k[3];return x.offset(c(g,N,O,B,F),_)},h.getStartOfNextDay=function(g){return b.offset(b.floor(g),1)},h.getEndOfPreviousDay=function(g){return x.offset(b.floor(g),-1)},h.dayInterval=b,h.msInterval=x,h.getDay=d,h},De=Ae(function(u,c,d,p,b){return new Date(u.getFullYear(),u.getMonth(),u.getDate(),c,d,p,b)},function(u){return u.getDay()},function(u){return[u.getHours(),u.getMinutes(),u.getSeconds(),u.getMilliseconds()]},r.timeDay,r.timeMillisecond),Fe=function(c,d){var p=function(y){return c[y]===void 0?[]:c[y]},b=[xe(p("Sunday"),d),xe(p("Monday"),d),xe(p("Tuesday"),d),xe(p("Wednesday"),d),xe(p("Thursday"),d),xe(p("Friday"),d),xe(p("Saturday"),d)],x=b.reduce(function(g,y){return g+y.totalTradingTimeInMiliseconds},0);if(x===0)throw"Trading pattern must yield at least 1 ms of trading time";var h={tradingDays:b,totalTradingWeekMilliseconds:x};return h.clampUp=function(g){var y=b[d.getDay(g)],_=ht(y.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var k=S.value;if(k.isInRange(g))return k.endTime===Ve?h.clampUp(d.getStartOfNextDay(g)):d.setTime(g,k.endTime)}}catch(N){_.e(N)}finally{_.f()}return g},h.clampDown=function(g){var y=b[d.getDay(g)],_=ht(y.nonTradingTimeRanges),S;try{for(_.s();!(S=_.n()).done;){var k=S.value;if(k.isInRange(g))return k.startTime===Ve?h.clampDown(d.getEndOfPreviousDay(g)):d.setTime(g,k.startTime,-1)}}catch(N){_.e(N)}finally{_.f()}return g},h.distance=function(g,y){if(g.getTime()===y.getTime())return 0;var _=g<=y?[g,y,1]:[y,g,-1],S=Q(_,3),k=S[0],N=S[1],O=S[2];if(d.dayInterval(k).getTime()===d.dayInterval(N).getTime())return h.tradingDays[d.getDay(k)].totalTradingMillisecondsBetween(k,N);var B=h.tradingDays[d.getDay(k)].totalTradingMillisecondsBetween(k,d.dayInterval.offset(d.dayInterval(k),1))+h.tradingDays[d.getDay(N)].totalTradingMillisecondsBetween(d.dayInterval(N),N);return d.dayInterval.count(k,N)===1?B:(k=d.dayInterval.offset(d.dayInterval(k),1),N=d.dayInterval(N),O*d.dayInterval.range(k,N).reduce(function(F,U,J,ne){var re=J<ne.length-1?ne[J+1]:d.dayInterval.offset(U,1),fe=re-U!==ce,Ne=h.tradingDays[d.getDay(U)];return F+=fe?Ne.totalTradingMillisecondsBetween(U,re):Ne.totalTradingTimeInMiliseconds},B))},h.offset=function(g,y){g=y>=0?h.clampUp(g):h.clampDown(g);var _=function(fe){return d.dayInterval.offset(fe)-d.dayInterval(fe)!==ce},S=function(fe,Ne,Ge){if(Ge<0){var je=d.dayInterval(Ne),qe=fe.totalTradingMillisecondsBetween(je,Ne);return Math.abs(Ge)<=qe?fe.offset(Ne,Ge):[h.clampDown(d.msInterval.offset(je,-1)),Ge+qe+1]}else{var gt=d.getStartOfNextDay(Ne),an=fe.totalTradingMillisecondsBetween(Ne,gt);return Ge<an?fe.offset(Ne,Ge):[h.clampUp(gt),Ge-an]}};if(y===0)return g;var k=y<0?function(re,fe,Ne){return[h.clampDown(d.dayInterval.offset(re,-1)),fe+Ne]}:function(re,fe,Ne){return[h.clampUp(d.dayInterval.offset(re)),fe-Ne]},N=h.tradingDays[d.getDay(g)],O=S(N,g,y),B=Q(O,2);for(g=B[0],y=B[1];y!==0;)if(N=h.tradingDays[d.getDay(g)],_(g)){var F=S(N,g,y),U=Q(F,2);g=U[0],y=U[1]}else{var J=Math.abs(y)>=N.totalTradingTimeInMiliseconds?k(g,y,N.totalTradingTimeInMiliseconds):S(N,g,y),ne=Q(J,2);g=ne[0],y=ne[1]}return g},h.copy=function(){return h},h},We=function(u){return Fe(u,De)},et=Ae(function(u,c,d,p,b){return new Date(Date.UTC(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),c,d,p,b))},function(u){return u.getUTCDay()},function(u){return[u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()]},r.utcDay,r.utcMillisecond),xt=function(u){return Fe(u,et)};function Ue(){var u=[function(h){return h}],c=[0,0],d="percent",p=null,b=[],x=function(g){var y=new Array(g.length),_=ht(u),S;try{for(_.s();!(S=_.n()).done;)for(var k=S.value,N=0;N<g.length;N++){var O=k(g[N],N);Array.isArray(O)?y.push.apply(y,Ce(O)):y.push(O)}}catch(J){_.e(J)}finally{_.f()}var B=[t.min(y),t.max(y)];if(B[0]=B[0]==null?t.min(b):t.min([B[0]].concat(Ce(b))),B[1]=B[1]==null?t.max(b):t.max([B[1]].concat(Ce(b))),p!=null){var F=Math.max(Math.abs(B[1]-p),Math.abs(B[0]-p));B[0]=p-F,B[1]=p+F}switch(d){case"domain":{B[0]-=c[0],B[1]+=c[1];break}case"percent":{var U=B[1]-B[0];B[0]-=c[0]*U,B[1]+=c[1]*U;break}default:throw new Error("Unknown padUnit: ".concat(d))}return B};return x.accessors=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],x):u},x.pad=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},x.include=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],x):b},x.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],x):p},x}function G(){var u=[],c=[0,0],d="percent",p=null,b=[],x=Ue(),h=function(_){return _!=null?_.valueOf():null},g=function(_){var S=u.map(function(k){return function(){var N=k.apply(void 0,arguments);return Array.isArray(N)?N.map(h):h(N)}});return x.accessors(S).pad(c).padUnit(d).symmetricalAbout(p!=null?p.valueOf():null).include(b.map(function(k){return k.valueOf()})),x(_).map(function(k){return new Date(k)})};return g.accessors=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.pad=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.padUnit=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.include=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.symmetricalAbout=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g}function se(){var u=1,c=20,d=.1,p=.1,b=a.randomNormal(),x=function(){for(var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,y=u/c,_=[],S=0;S<c+1;S++){_.push(g);var k=b()*Math.sqrt(y)*p+(d-p*p/2)*y;g=g*Math.exp(k)}return _};return x.period=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],x):u},x.steps=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x.mu=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},x.sigma=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],x):p},x.random=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],x):b},x}function ke(u){return typeof u=="function"?u:function(){return u}}function Ee(){var u=new Date,c=100,d=r.timeDay,p=1,b=r.timeYear,x=1,h=null,g=function(){var F=a.randomNormal(1,.1);return Math.ceil(F()*1e3)},y=se(),_=function(F){var U=b.offset(F,x)-F;return(d.offset(F,p)-F)/U},S=function(F,U){var J=_(F),ne=y.period(J)(U),re={date:F,open:ne[0],high:Math.max.apply(Math,ne),low:Math.min.apply(Math,ne),close:ne[y.steps()]};return re.volume=g(re),re},k=function(F){var U,J,ne;do U=F?d.offset(F.date,p):new Date(u.getTime()),J=F?F.close:c,F=S(U,J),ne=h&&!h(F);while(ne);return F},N=function(){var F,U={};return U.next=function(){var J=k(F);return F=J,J},U.take=function(J){return U.until(function(ne,re){return!J||J<0||re===J})},U.until=function(J){for(var ne=[],re=0,fe=k(F),Ne=J&&!J(fe,re);Ne;)ne.push(fe),F=fe,fe=k(F),re+=1,Ne=J&&!J(fe,re);return ne},U},O=function(F){return N().take(F)};if(O.stream=N,typeof Symbol!="function"||we(Symbol.iterator)!=="symbol")throw new Error("d3fc-random-data depends on Symbol. Make sure that you load a polyfill in older browsers. See README.");return O[Symbol.iterator]=function(){var B=N();return{next:function(){return{value:B.next(),done:!1}}}},O.startDate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],O):u},O.startPrice=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],O):c},O.interval=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],O):d},O.intervalStep=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],O):p},O.unitInterval=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],O):b},O.unitIntervalStep=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],O):x},O.filter=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],O):h},O.volume=function(){return arguments.length?(g=ke(arguments.length<=0?void 0:arguments[0]),O):g},T(O,y),O}function en(u){var c=u.date.getDay();return!(c===0||c===6)}function tn(){var u="BTC-USD",c=null,d=null,p=null,b=function(){var h=[];c!=null&&h.push("start="+c.toISOString()),d!=null&&h.push("end="+d.toISOString()),p!=null&&h.push("granularity="+p);var g="https://api.gdax.com/products/"+u+"/candles?"+h.join("&");return i.json(g).then(function(y){return y.map(function(_){return{date:new Date(_[0]*1e3),open:_[3],high:_[2],low:_[1],close:_[4],volume:_[5]}})})};return b.product=function(x){return arguments.length?(u=x,b):u},b.start=function(x){return arguments.length?(c=x,b):c},b.end=function(x){return arguments.length?(d=x,b):d},b.granularity=function(x){return arguments.length?(p=x,b):p},b}function ar(){var u=10,c=function(p){return u<=1?p.map(function(b){return[b]}):t.range(0,Math.ceil(p.length/u)).map(function(b){return p.slice(b*u,(b+1)*u)})};return c.bucketSize=function(d){return arguments.length?(u=d,c):u},c}function ca(){var u=ar(),c=function(h){return h},d=function(h){return h},p=function(h){if(u.bucketSize()>=h.length)return h;var g=b(h),y=u(g),_=u(h.slice(1,h.length-1)),S=_.map(function(k,N){var O=y[N],B=t.max(O),F=O.indexOf(B);return k[F]});return[].concat([h[0]],S,[h[h.length-1]])};function b(x){var h=x.map(function(y){return[c(y),d(y)]}),g=t.range(1,h.length-1).map(function(y){var _=h[y-1],S=h[y],k=h[y+1];return .5*Math.abs((_[0]-k[0])*(S[1]-_[1])-(_[0]-S[0])*(k[1]-_[1]))});return g}return C(p,u,"bucketSize"),p.x=function(x){return arguments.length?(c=x,p):c},p.y=function(x){return arguments.length?(d=x,p):d},p}function Wn(){var u=function(x){return x},c=function(x){return x},d=ar(),p=function(x){if(d.bucketSize()>=x.length)return x;var h=d(x.slice(1,x.length-1)),g=x[0],y=x[x.length-1],_=[].concat([g],h,[y]),S=u(g),k=c(g),N=h.map(function(O,B){var F=t.mean(_[B+1],u),U=t.mean(_[B+1],c),J=O.map(function(Ne){return[u(Ne),c(Ne)]}),ne=J.map(function(Ne){return .5*Math.abs((S-F)*(Ne[1]-k)-(S-Ne[0])*(U-k))}),re=ne.indexOf(t.max(ne)),fe=J[re];return S=fe[0],k=fe[1],O[re]});return[].concat([x[0]],N,[x[x.length-1]])};return C(p,d,"bucketSize"),p.x=function(b){return arguments.length?(u=b,p):u},p.y=function(b){return arguments.length?(c=b,p):c},p}function qo(){var u=ar(),c=function(b){return b},d=function(b){if(u.bucketSize()>b.length)return b;var x=t.extent(b,c),h=u(b.slice(1,b.length-1)),g=h.map(function(y,_){var S={},k,N,O=!0,B=y.map(c),F=B.filter(function(U){return U===x[0]||U===x[1]}).map(function(U){return B.indexOf(U)})[0];return F!==void 0?y[F]:(B.forEach(function(U,J){S[U]===void 0&&(S[U]=0),S[U]++,S[U]>S[k]||k===void 0?(k=U,N=J,O=!0):S[U]===S[k]&&(O=!1)}),O?y[N]:y[Math.floor(y.length/2)])});return[].concat([b[0]],g,[b[b.length-1]])};return C(d,u,"bucketSize"),d.value=function(p){return arguments.length?(c=p,d):c},d}var ct=function(u){return typeof u=="function"?u:function(){return u}},at=function(){var u=null,c=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},b=function(S){return S.low},x=function(S){return S.close},h="vertical",g=ct(3),y=function(S){var k=u||o.path();return S.forEach(function(N,O){var B=c(N,O),F=d(N,O),U=p(N,O),J=b(N,O),ne=x(N,O),re=g(N,O)/2;h==="vertical"?(k.moveTo(B,J),k.lineTo(B,U),k.moveTo(B,F),k.lineTo(B-re,F),k.moveTo(B,ne),k.lineTo(B+re,ne)):(k.moveTo(J,B),k.lineTo(U,B),k.moveTo(F,B),k.lineTo(F,B+re),k.moveTo(ne,B),k.lineTo(ne,B-re))}),u?null:k.toString()};return y.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.x=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),y):c},y.open=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),y):d},y.high=function(){return arguments.length?(p=ct(arguments.length<=0?void 0:arguments[0]),y):p},y.low=function(){return arguments.length?(b=ct(arguments.length<=0?void 0:arguments[0]),y):b},y.close=function(){return arguments.length?(x=ct(arguments.length<=0?void 0:arguments[0]),y):x},y.width=function(){return arguments.length?(g=ct(arguments.length<=0?void 0:arguments[0]),y):g},y.orient=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],y):h},y},Ft=function(){var u=null,c=function(_){return _.x},d=function(_){return _.y},p="center",b="center",x=function(_){return _.height},h=ct(3),g=function(_,S){var k=u||o.path();return _.forEach(function(N,O){var B=c.call(this,N,S||O),F=d.call(this,N,S||O),U=x.call(this,N,S||O),J=h.call(this,N,S||O),ne;switch(p){case"left":ne=J;break;case"right":ne=0;break;case"center":ne=J/2;break;default:throw new Error("Invalid horizontal alignment "+p)}var re;switch(b){case"bottom":re=-U;break;case"top":re=0;break;case"center":re=U/2;break;default:throw new Error("Invalid vertical alignment "+b)}k.rect(B-ne,F-re,J,U)},this),u?null:k.toString()};return g.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.x=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),g):c},g.y=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),g):d},g.width=function(){return arguments.length?(h=ct(arguments.length<=0?void 0:arguments[0]),g):h},g.horizontalAlign=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],g):p},g.height=function(){return arguments.length?(x=ct(arguments.length<=0?void 0:arguments[0]),g):x},g.verticalAlign=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g},Yt=function(){var u=null,c=function(_){return _.date},d=function(_){return _.open},p=function(_){return _.high},b=function(_){return _.low},x=function(_){return _.close},h=ct(3),g=function(_){var S=u||o.path();return _.forEach(function(k,N){var O=c(k,N),B=d(k,N),F=p(k,N),U=b(k,N),J=x(k,N),ne=h(k,N),re=ne/2;S.rect(O-re,B,ne,J-B),S.moveTo(O,Math.min(J,B)),S.lineTo(O,F),S.moveTo(O,Math.max(J,B)),S.lineTo(O,U)}),u?null:S.toString()};return g.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.x=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),g):c},g.open=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),g):d},g.high=function(){return arguments.length?(p=ct(arguments.length<=0?void 0:arguments[0]),g):p},g.low=function(){return arguments.length?(b=ct(arguments.length<=0?void 0:arguments[0]),g):b},g.close=function(){return arguments.length?(x=ct(arguments.length<=0?void 0:arguments[0]),g):x},g.width=function(){return arguments.length?(h=ct(arguments.length<=0?void 0:arguments[0]),g):h},g},nn=function(){var u=null,c=function(N){return N.value},d=function(N){return N.median},p=function(N){return N.upperQuartile},b=function(N){return N.lowerQuartile},x=function(N){return N.high},h=function(N){return N.low},g="vertical",y=ct(5),_=ct(.5),S=function(N){var O=u||o.path();return N.forEach(function(B,F){var U=c(B,F),J=y(B,F),ne=J/2,re=J*_(B,F),fe=re/2,Ne=x(B,F),Ge=p(B,F),je=d(B,F),qe=b(B,F),gt=h(B,F),an=qe-Ge;g==="vertical"?(O.moveTo(U-fe,Ne),O.lineTo(U+fe,Ne),O.moveTo(U,Ne),O.lineTo(U,Ge),O.rect(U-ne,Ge,J,an),O.moveTo(U-ne,je),O.lineTo(U+ne,je),O.moveTo(U,qe),O.lineTo(U,gt),O.moveTo(U-fe,gt),O.lineTo(U+fe,gt)):(O.moveTo(gt,U-fe),O.lineTo(gt,U+fe),O.moveTo(gt,U),O.lineTo(qe,U),O.rect(qe,U-ne,-an,J),O.moveTo(je,U-ne),O.lineTo(je,U+ne),O.moveTo(Ge,U),O.lineTo(Ne,U),O.moveTo(Ne,U-fe),O.lineTo(Ne,U+fe))}),u?null:O.toString()};return S.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],S):u},S.value=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),S):c},S.median=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),S):d},S.upperQuartile=function(){return arguments.length?(p=ct(arguments.length<=0?void 0:arguments[0]),S):p},S.lowerQuartile=function(){return arguments.length?(b=ct(arguments.length<=0?void 0:arguments[0]),S):b},S.high=function(){return arguments.length?(x=ct(arguments.length<=0?void 0:arguments[0]),S):x},S.low=function(){return arguments.length?(h=ct(arguments.length<=0?void 0:arguments[0]),S):h},S.width=function(){return arguments.length?(y=ct(arguments.length<=0?void 0:arguments[0]),S):y},S.orient=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],S):g},S.cap=function(){return arguments.length?(_=ct(arguments.length<=0?void 0:arguments[0]),S):_},S},Tn=function(){var u=null,c=function(y){return y.x},d=function(y){return y.high},p=function(y){return y.low},b="vertical",x=ct(5),h=function(y){var _=u||o.path();return y.forEach(function(S,k){var N=c(S,k),O=x(S,k),B=O/2,F=d(S,k),U=p(S,k);b==="vertical"?(_.moveTo(N-B,F),_.lineTo(N+B,F),_.moveTo(N,F),_.lineTo(N,U),_.moveTo(N-B,U),_.lineTo(N+B,U)):(_.moveTo(U,N-B),_.lineTo(U,N+B),_.moveTo(U,N),_.lineTo(F,N),_.moveTo(F,N-B),_.lineTo(F,N+B))}),u?null:_.toString()};return h.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},h.value=function(){return arguments.length?(c=ct(arguments.length<=0?void 0:arguments[0]),h):c},h.high=function(){return arguments.length?(d=ct(arguments.length<=0?void 0:arguments[0]),h):d},h.low=function(){return arguments.length?(p=ct(arguments.length<=0?void 0:arguments[0]),h):p},h.width=function(){return arguments.length?(x=ct(arguments.length<=0?void 0:arguments[0]),h):x},h.orient=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h},Wt=function(u){return typeof u=="function"?u:function(){return u}},hn=1e-6,It=function(c){return c.selection()!==c},ot=function(u,c){u=u||"g";var d=function(h,g){return g},p=null,b=function(h,g){g=g||function(F){return F};var y=h.selection(),_=It(h)?h:null,S=y.selectChildren(c==null?u:"".concat(u,".").concat(c)),k=S.data(g,d),N=k.enter().append(u).attr("class",c),O=k.exit();k=k.merge(N);var B=_||p;return B&&(k=k.transition(B).style("opacity",1),N.style("opacity",hn),O=O.transition(B).style("opacity",hn)),O.remove(),k.enter=function(){return N},k.exit=function(){return O},k};return b.element=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],b):u},b.className=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},b.transition=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],b):p},b},Wr=function(u){var c=function(){},d=function(){return[0,0]},p=function(k,N){return[k.x,k.y]},b=u||function(S){return S},x=function(){},h=n.scaleIdentity(),g=n.scaleIdentity(),y=ot("g","label"),_=function(k){k.each(function(N,O,B){var F=y(l.select(B[O]),N).call(x),U=F.nodes(),J=U.map(function(re,fe){var Ne=l.select(re).datum(),Ge=p(Ne,fe,U),je=[h(Ge[0]),g(Ge[1])],qe=d(Ne,fe,U);return{hidden:!1,x:je[0],y:je[1],width:qe[0],height:qe[1]}}),ne=b(J);F.attr("style",function(re,fe){return"display:"+(ne[fe].hidden?"none":"inherit")}).attr("transform",function(re,fe){return"translate("+ne[fe].x+", "+ne[fe].y+")"}).attr("layout-width",function(re,fe){return ne[fe].width}).attr("layout-height",function(re,fe){return ne[fe].height}).attr("anchor-x",function(re,fe,Ne){return J[fe].x-ne[fe].x}).attr("anchor-y",function(re,fe,Ne){return J[fe].y-ne[fe].y}),F.call(x),c(F,N,O)})};return T(_,y,H("key")),T(_,b),_.size=function(){return arguments.length?(d=Wt(arguments.length<=0?void 0:arguments[0]),_):d},_.position=function(){return arguments.length?(p=Wt(arguments.length<=0?void 0:arguments[0]),_):p},_.component=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],_):x},_.decorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],_):c},_.xScale=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],_):h},_.yScale=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},lf=function(u){var c=2,d=function(y){return y},p=ot("text"),b=ot("rect"),x=ot("circle"),h=function(y){y.each(function(_,S,k){var N=k[S],O=l.select(N),B=Number(N.getAttribute("layout-width")),F=Number(N.getAttribute("layout-height")),U=b(O,[_]);U.attr("width",B).attr("height",F);var J=Number(N.getAttribute("anchor-x")),ne=Number(N.getAttribute("anchor-y")),re=x(O,[_]);re.attr("r",2).attr("cx",J).attr("cy",ne);var fe=p(O,[_]);fe.enter().attr("dy","0.9em").attr("transform","translate(".concat(c,", ").concat(c,")")),fe.text(d)})};return h.padding=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.value=function(){return arguments.length?(d=Wt(arguments.length<=0?void 0:arguments[0]),h):d},h},yr=function(c,d){return!(c.x>=d.x+d.width||c.x+c.width<=d.x||c.y>=d.y+d.height||c.y+c.height<=d.y)},ji=function(u,c){if(yr(u,c)){var d=Math.max(u.x,c.x),p=Math.min(u.x+u.width,c.x+c.width),b=Math.max(u.y,c.y),x=Math.min(u.y+u.height,c.y+c.height);return(p-d)*(x-b)}else return 0},sa=function(c,d){return t.sum(c.map(function(p,b){return d===b?0:ji(c[d],p)}))},br=function(c,d,p,b,x){return{x:c,y:d,width:p,height:b,location:x}},wl=function(u){var c=u.x,d=u.y,p=u.width,b=u.height;return[br(c,d,p,b,"bottom-right"),br(c-p,d,p,b,"bottom-left"),br(c-p,d-b,p,b,"top-left"),br(c,d-b,p,b,"top-right"),br(c,d-b/2,p,b,"middle-right"),br(c-p/2,d,p,b,"bottom-center"),br(c-p,d-b/2,p,b,"middle-left"),br(c-p/2,d-b,p,b,"top-center")]},_l=function(c,d,p){return[].concat(Ce(c.slice(0,d)),[p],Ce(c.slice(d+1)))},cf=function(c,d){return c<d},Sl=function u(){var c=null,d=cf,p=function(){return 0},b,x=function(y,_){return c-p(b[_],_,b)+p(y,_,_l(b,_,y))},h=function g(y,_){c||(c=t.sum(b.map(function(k,N){return p(k,N,b)})));var S=x(y,_);return d(S,c)?u().locationScore(p).winningScore(d).score(S).rectangles(_l(b,_,y)):g};return h.rectangles=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h.score=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.winningScore=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},h.locationScore=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h},sf=function(){var u,c=function(x){return u?x.width*x.height-ji(x,u):0},d=function(x,h,g){return sa(g,h)+c(x)},p=function(x){var h=Sl().locationScore(d).rectangles(x);return x.forEach(function(g,y){wl(g).forEach(function(_,S){h=h(_,y)})}),h.rectangles()};return p.bounds=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p},ff=function(c){return c[Ml(c)]},Ml=function(c){return Math.floor(Math.random()*c.length)},df=function(){var u=1e3,c=1,d,p=function(y){switch(y.location){case"bottom-right":return 0;case"middle-right":case"bottom-center":return y.width*y.height/8}return y.width*y.height/4},b=function(y){return d?y.width*y.height-ji(y,d):0},x=function(y,_,S){return sa(S,_)+b(y)+p(y)},h=function(y){for(var _=u,S=function(F,U){return Math.exp((U-F)/_)>Math.random()},k=Sl().locationScore(x).winningScore(S).rectangles(y);_>0;){var N=Ml(y),O=ff(wl(y[N]));k=k(O,N),_-=c}return k.rectangles()};return h.temperature=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},h.cooling=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.bounds=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},h},mf=function(c,d){return c[t.scan(c,d)]},hf=function(u){u=u||function(d){return d};var c=function(p){p=u(p);for(var b=function(){var g=p.filter(function(S){return!S.hidden}),y=g.map(function(S,k){return[S,sa(g,k)]}),_=mf(y,function(S,k){return k[1]-S[1]});if(_[1]>0)_[0].hidden=!0;else return"break"};;){var x=b();if(x==="break")break}return p};return T(c,u),c},pf=function(){var u=[0,0],c=function(p){return p.map(function(b,x){var h=b.x,g=b.y;return h+b.width>u[0]&&(h-=b.width),g+b.height>u[1]&&(g-=b.height),{height:b.height,width:b.width,x:h,y:g}})};return c.bounds=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},kt=function(u){return typeof u=="function"?u:function(){return u}};function Xa(){var u=arguments;return function(c,d){for(var p=0,b=u.length;p<b;p++)if(u[p](c,d)==null)return!1;return!0}}var ja=function(u,c){switch(u){case"left":return c/2;case"right":return-c/2;default:return 0}},$r=function(u){var c=Object.assign({},u),d=function(){};return Object.keys(c).forEach(function(p){d[p]=function(){return arguments.length?(c[p]=arguments.length<=0?void 0:arguments[0],d):c[p]}}),d},Dn=function(){var u=function(){return 0},c=function(y){return y.x},d=function(y){return y.y},p="center",b=function(){return 5},x="vertical",h=$r({decorate:function(){},defined:function(y,_){return Xa(u,c,d)(y,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return h.values=function(g,y){var _=b(g,y),S=ja(p,_),k=h.xScale(),N=h.yScale();if(x==="vertical"){var O=N(d(g,y),y),B=N(u(g,y),y),F=k(c(g,y),y)+S;return{d:g,x:F,y:O,y0:B,width:_,height:O-B,origin:[F,O],baseOrigin:[F,B],transposedX:F,transposedY:O}}else{var U=k(d(g,y),y),J=k(u(g,y),y),ne=N(c(g,y),y)+S;return{d:g,x:ne,y:U,y0:J,width:_,height:U-J,origin:[U,ne],baseOrigin:[J,ne],transposedX:U,transposedY:ne}}},h.xValues=function(){return x==="vertical"?[c]:[u,d]},h.yValues=function(){return x!=="vertical"?[c]:[u,d]},h.baseValue=function(){return arguments.length?(u=kt(arguments.length<=0?void 0:arguments[0]),h):u},h.crossValue=function(){return arguments.length?(c=kt(arguments.length<=0?void 0:arguments[0]),h):c},h.mainValue=function(){return arguments.length?(d=kt(arguments.length<=0?void 0:arguments[0]),h):d},h.bandwidth=function(){return arguments.length?(b=kt(arguments.length<=0?void 0:arguments[0]),h):b},h.align=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.orient=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],h):x},h},gf="#c60",vf="#6c0",yf="#000",$e="#ddd",dt="#999",Qe={red:gf,green:vf,black:yf,gray:$e,darkGray:dt},ze=function(){var u=Dn(),c=s.line().x(function(b,x){return u.values(b,x).transposedX}).y(function(b,x){return u.values(b,x).transposedY}),d=ot("path","line"),p=function(x){It(x)&&d.transition(x),c.defined(u.defined()),x.each(function(h,g,y){var _=d(l.select(y[g]),[h]);_.enter().attr("fill","none").attr("stroke",Qe.black),_.attr("d",c),u.decorate()(_,h,g)})};return T(p,u,R("baseValue","bandwidth","align")),C(p,d,"key"),C(p,c,"curve"),p},$t=function(){var u=Dn(),c=s.line().x(function(p,b){return u.values(p,b).transposedX}).y(function(p,b){return u.values(p,b).transposedY}),d=function(b){var x=c.context();x.beginPath(),x.strokeStyle=Qe.black,x.fillStyle="transparent",u.decorate()(x,b),c.defined(u.defined())(b),x.fill(),x.stroke(),x.closePath()};return T(d,u,R("baseValue","bandwidth","align")),C(d,c,"curve","context"),d},nt=function(){var u=[0,1],c=[-1,1],d=function(){};return d.domain=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},d.range=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],d):c},d},pn=function(){var u={},c={},d=null,p=function(x,h){var g=x.context();Object.keys(u).forEach(function(y){var _=u[y];if(typeof _!="function")throw new Error("Expected an attribute for ".concat(y,", found ").concat(_));var S=g.getAttribLocation(h,y);_.location(S)(x)}),Object.keys(c).forEach(function(y){var _=c[y];if(typeof _!="function")throw new Error("Expected a uniform for ".concat(y,", found ").concat(_));var S=g.getUniformLocation(h,y);_.location(S)(x)}),d!==null&&d(x)};return p.flush=function(){Object.values(u).forEach(function(b){return b.clear()}),Object.values(c).forEach(function(b){return b.clear()}),d!==null&&d.clear()},p.attribute=function(){for(var b=arguments.length,x=new Array(b),h=0;h<b;h++)x[h]=arguments[h];return x.length===1?u[x[0]]:(u[x[0]]=x[1],p)},p.uniform=function(){for(var b=arguments.length,x=new Array(b),h=0;h<b;h++)x[h]=arguments[h];return x.length===1?c[x[0]]:(c[x[0]]=x[1],p)},p.elementIndices=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},Dt=function(u){var c=-1,d=u,p=!0,b=function(h){if(!!p){var g=h.context();if(Array.isArray(d))switch(d.length){case 1:g.uniform1fv(c,d);break;case 2:g.uniform2fv(c,d);break;case 3:g.uniform3fv(c,d);break;case 4:g.uniform4fv(c,d);break;default:throw new Error("Uniform supports up to 4 elements. ".concat(d.length," provided."))}else g.uniform1f(c,d);p=!1}};return b.clear=function(){p=!0},b.location=function(){return arguments.length?(c!==(arguments.length<=0?void 0:arguments[0])&&(c=arguments.length<=0?void 0:arguments[0],p=!0),b):c},b.data=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,b):d},b},rn={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},$n=function(){var u=null,c=null,d=null,p=null,b=null,x=null,h=rn.TRIANGLES,g=0,y=pn(),_=!1,S=null,k=!0,N=1,O=function J(ne){if(u!=null){var re=d(),fe=p();if(B(c,re,fe)&&(c=F(re,fe),b=re,x=fe,k=!1),u.useProgram(c),y.uniform("uScreen",Dt([u.canvas.width/N,u.canvas.height/N])),y(J,c),g===0)y.elementIndices()==null?u.drawArrays(h,0,ne):u.drawElements(h,ne,u.UNSIGNED_SHORT,0);else if(y.elementIndices()==null)S.drawArraysInstancedANGLE(h,0,g,ne);else{var Ne=y.elementIndices().data().length;if(g!==Ne)throw new Error("Expected elementIndices length ".concat(Ne)+" to match subInstanceCount ".concat(g,"."));S.drawElementsInstancedANGLE(h,g,u.UNSIGNED_SHORT,0,ne)}}};return O.extInstancedArrays=function(){return S},O.context=function(){for(var J=arguments.length,ne=new Array(J),re=0;re<J;re++)ne[re]=arguments[re];return ne.length?((ne[0]==null||ne[0]!==u)&&(y.flush(),k=!0),ne[0]!=null&&ne[0]!==u&&(S=ne[0].getExtension("ANGLE_instanced_arrays")),u=ne[0],O):u},O.buffers=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],O):y},O.vertexShader=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],O):d},O.fragmentShader=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],O):p},O.mode=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],O):h},O.subInstanceCount=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],O):g},O.debug=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],O):_},O.pixelRatio=function(){return arguments.length?(N=arguments.length<=0?void 0:arguments[0],O):N},O;function B(J,ne,re){return!J||k?!0:ne!==b||re!==x}function F(J,ne){var re=U(J,u.VERTEX_SHADER),fe=U(ne,u.FRAGMENT_SHADER),Ne=u.createProgram();if(u.attachShader(Ne,re),u.attachShader(Ne,fe),u.linkProgram(Ne),_&&!u.getProgramParameter(Ne,u.LINK_STATUS)){var Ge=u.getProgramInfoLog(Ne);throw u.deleteProgram(Ne),new Error("Failed to link program : ".concat(Ge,`
            Vertex Shader : `).concat(J,`
            Fragment Shader : `).concat(ne))}return Ne}function U(J,ne){var re=u.createShader(ne);if(u.shaderSource(re,J),u.compileShader(re),_&&!u.getShaderParameter(re,u.COMPILE_STATUS)){var fe=u.getShaderInfoLog(re);throw u.deleteShader(re),new Error("Failed to compile shader : ".concat(fe,`
            Shader : `).concat(J))}return re}},Ct=function(u){var c=[],d=[],p=function(){return u(c.join(`
`),d.join(`
`))};function b(g,y){g.push(y)}function x(g,y,_){var S=g.indexOf(_);g.splice(S>=0?S:g.length,0,y)}function h(g,y){var _=g.indexOf(y);_===-1&&g.push(y)}return p.appendHeader=function(g){return b(c,g),p},p.insertHeader=function(g,y){return x(c,g,y),p},p.appendHeaderIfNotExists=function(g){return h(c,g),p},p.appendBody=function(g){return b(d,g),p},p.insertBody=function(g,y){return x(d,g,y),p},p.appendBodyIfNotExists=function(g){return h(d,g),p},p},Nn=function(c,d){return`
precision mediump float;
float inf = 1.0 / 0.0;
`.concat(c,`
void main() {
    `).concat(d,`
}`)},En=function(c,d){return`
precision mediump float;
`.concat(c,`
void main() {
    gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    `).concat(d,`
}`)},kg={header:`attribute vec4 aFillColor;
             varying vec4 vFillColor;`,body:"vFillColor = aFillColor;"},Vg={header:`attribute vec4 aStrokeColor;
             varying vec4 vStrokeColor;`,body:"vStrokeColor = aStrokeColor;"},Dg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 2.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Ng={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 4.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Eg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 3.14159);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Pg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Lg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt(aSize);
        gl_PointSize = 2.0 * (vSize + uStrokeWidth + 1.0);
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Og={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = sqrt((16.0 * aSize) / (3.0 * sqrt(3.0)));
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},zg={header:`
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aSize;
        attribute float aDefined;

        uniform float uStrokeWidth;

        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vSize = 3.0 * sqrt(aSize / 5.0);
        vStrokeWidthRatio = uStrokeWidth / (vSize + uStrokeWidth + 1.0);
        gl_PointSize = vSize + uStrokeWidth + 1.0;
        gl_Position = vec4(aCrossValue, aMainValue, 0, 1);`},Ig={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
         (isPositiveY * isExtremeY * aLowValue) +
         (isPositiveY * isNotExtremeY * aCloseValue) +
         (isNotPositiveY * isNotExtremeY * aOpenValue) +
         (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = (isNotExtremeY * aCorner.x) + (isExtremeY * aCorner.z);
        float lineWidthYDirection = isNotExtremeY * sign(aCloseValue - aOpenValue) * aCorner.y;

        float bandwidthModifier = aBandwidth * aCorner.x / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Rg={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aOpenValue;
        attribute float aCloseValue;
        attribute float aLowValue;
        attribute vec3 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vColorIndicator;
        varying float vDefined;`,body:`
        vDefined = aDefined;
        vColorIndicator = sign(aCloseValue - aOpenValue);

        float isPositiveY = (sign(aCorner.y) + 1.0) / 2.0;
        float isNotPositiveY = 1.0 - isPositiveY;
        float isExtremeY = abs(aCorner.y) - 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;
        float yValue =
            (isPositiveY * isExtremeY * aLowValue) +
            (isPositiveY * isNotExtremeY * aCloseValue) +
            (isNotPositiveY * isNotExtremeY * aOpenValue) +
            (isNotPositiveY * isExtremeY * aHighValue);

        float lineWidthXDirection = isExtremeY * aCorner.z;
        float lineWidthYDirection = isNotExtremeY * aCorner.z;

        float bandwidthModifier = isNotExtremeY * aCorner.x * aBandwidth / 2.0;

        float xModifier = (uStrokeWidth * lineWidthXDirection / 2.0) + bandwidthModifier;
        float yModifier = uStrokeWidth * lineWidthYDirection / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Fg={header:`
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aMainValue;
        attribute float aBaseValue;
        attribute vec2 aCorner;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isBaseline = (1.0 - aCorner.y) / 2.0;
        float yValue = (isBaseline * aBaseValue) + ((1.0 - isBaseline) * aMainValue);

        float xModifier = aCorner.x * (aBandwidth) / 2.0;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);`},Bg={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aHighValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;`,body:`
        vDefined = aDefined;
        float isLow = (aCorner.y + 1.0) / 2.0;
        float yValue = isLow * aLowValue + (1.0 - isLow) * aHighValue;

        float isEdgeCorner = abs(aCorner.x);
        float lineWidthXDirection = (1.0 - isEdgeCorner) * aCorner.z;
        float lineWidthYDirection = isEdgeCorner * aCorner.z;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float xModifier = (uStrokeWidth * lineWidthXDirection) + (aBandwidth * aCorner.x / 2.0);
        float yModifier = (uStrokeWidth * lineWidthYDirection);`},Hg={header:`
        attribute vec3 aCorner;
        attribute float aCrossValue;
        attribute float aMainValue;
        attribute float aCrossNextValue;
        attribute float aMainNextValue;
        attribute float aBaseValue;
        attribute float aBaseNextValue;
        attribute float aDefined;
        attribute float aDefinedNext;

        varying float vDefined;

        float when_lt(float a, float b) {
            return max(sign(b - a), 0.0);
        }

        float and(float a, float b) {
            return a * b;
        }`,body:`
        vDefined = aDefined * aDefinedNext;
        gl_Position = vec4(0, 0, 0, 1);

        float hasIntercepted = when_lt((aMainNextValue - aBaseNextValue) * (aMainValue - aBaseValue), 0.0);
        float useIntercept = and(aCorner.z, hasIntercepted);

        float yGradient = (aMainNextValue - aMainValue) / (aCrossNextValue - aCrossValue);
        float yConstant = aMainNextValue - (yGradient * aCrossNextValue);

        float y0Gradient = (aBaseNextValue - aBaseValue) / (aCrossNextValue - aCrossValue);
        float y0Constant = aBaseNextValue - (y0Gradient * aCrossNextValue);

        float denominator = (yGradient - y0Gradient) + step(abs(yGradient - y0Gradient), 0.0);
        float interceptXValue = (y0Constant - yConstant) / denominator;
        float interceptYValue = (yGradient * interceptXValue) + yConstant;

        gl_Position = vec4(interceptXValue * useIntercept, interceptYValue * useIntercept, 0, 1);

        gl_Position.x += (1.0 - useIntercept) * ((aCorner.x * aCrossNextValue) + ((1.0 - aCorner.x) * aCrossValue));
        gl_Position.y += (1.0 - useIntercept) * (1.0 - aCorner.y) * ((aCorner.x * aMainNextValue) + ((1.0 - aCorner.x) * aMainValue));
        gl_Position.y += (1.0 - useIntercept) * aCorner.y * ((aCorner.x * aBaseNextValue) + ((1.0 - aCorner.x) * aBaseValue));`},Yg={header:`
        attribute vec4 aCorner;
        attribute float aCrossValue;
        attribute float aBandwidth;
        attribute float aCapWidth;
        attribute float aHighValue;
        attribute float aUpperQuartileValue;
        attribute float aMedianValue;
        attribute float aLowerQuartileValue;
        attribute float aLowValue;
        attribute float aDefined;

        uniform vec2 uScreen;
        uniform float uStrokeWidth;

        varying float vDefined;
    `,body:`
        vDefined = aDefined;
        float isExtremeY = sign(abs(aCorner.y) - 2.0) + 1.0;
        float isNotExtremeY = 1.0 - isExtremeY;

        float isNonZeroY = abs(sign(aCorner.y));
        float isZeroY = 1.0 - isNonZeroY;

        float isQuartileY = isNotExtremeY * isNonZeroY;

        float isPositiveY = (sign(aCorner.y + 0.5) + 1.0) / 2.0;
        float isNegativeY = 1.0 - isPositiveY;

        float yValue =
          (isExtremeY * isNegativeY) * aHighValue +
          (isQuartileY * isNegativeY) * aUpperQuartileValue +
          isZeroY * aMedianValue +
          (isQuartileY * isPositiveY) * aLowerQuartileValue +
          (isExtremeY * isPositiveY) * aLowValue;

        gl_Position = vec4(aCrossValue, yValue, 0, 1);

        float isHorizontal = aCorner.w;
        float isVertical = 1.0 - isHorizontal;

        float xDisplacement = aCorner.x * (isExtremeY * aCapWidth + isNotExtremeY * aBandwidth) / 2.0;

        float xModifier = (isVertical * uStrokeWidth * aCorner.z / 2.0) + xDisplacement;
        float yModifier = isHorizontal * uStrokeWidth * aCorner.z / 2.0;`},Wg={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float distance = length(2.0 * gl_PointCoord - 1.0);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},$g={header:`
        varying float vSize;
        varying float vDefined;

        // anterior, exterior angles
        float an = 0.628319;
        vec2 acs = vec2(0.809017, 0.587786); // (cos, sin)
        float en = 0.952000;
        vec2 ecs = vec2(0.580055, 0.814577);
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        p -= acs;
        p += ecs * clamp(-dot(p, ecs), 0.0, acs.y / ecs.y);
        float d = length(p) * sign(p.x);

        float distance = 1.0 + d;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},Ug={header:`
        varying float vSize;
        varying float vDefined;
    `,body:`
        float canFill = 1.0;

        vec2 p = 2.0 * gl_PointCoord - 1.0;
        p.y *= -1.0;

        // sector
        float an = 3.141593 / 3.0;
        float bn = mod(atan(p.x, p.y), 2.0 * an) - an;
        p = length(p) * vec2(cos(bn), abs(sin(bn)));

        // box
        vec2 d = abs(p) - vec2(0.9, 0.35);
        float sdf = length(max(d, 0.0)) + min(max(d.x, d.y), 0.0);

        float distance = 1.0 + sdf;
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
            return;
        }`},qg={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float distance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);`},Gg={header:`
        varying float vSize;
        varying float vDefined;
        float a = 0.6;
        float b = 1.0;
    `,body:`
        if (vDefined < 0.5) {
            discard;
        }

        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;

        float x = abs(pointCoordTransform.x);
        float y = abs(pointCoordTransform.y);

        float X = (a * b * x) / (a * y + b * x);
        float Y = (a * b * y) / (a * y + b * x);

        float distance = length(vec2(x, y)) / length(vec2(X, Y));

        if (distance > 1.0) {
            discard;
        }
    `},Xg={header:`
        varying float vSize;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float topEdgesDistance = abs(pointCoordTransform.x) - ((pointCoordTransform.y - 0.6) / sqrt(3.0));
        float bottomEdgeDistance = pointCoordTransform.y + 0.5;
        float distance = max(topEdgesDistance, bottomEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},jg={header:`
        varying float vSize;
        varying float vStrokeWidthRatio;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        vec2 pointCoordTransform = 2.0 * gl_PointCoord - 1.0;
        float innerCornerDistance = min(abs(pointCoordTransform.x), abs(pointCoordTransform.y)) + 0.66 - vStrokeWidthRatio;
        float outerEdgeDistance = max(abs(pointCoordTransform.x), abs(pointCoordTransform.y));
        float distance = max(innerCornerDistance, outerEdgeDistance);
        float canStroke = smoothstep(vSize - 2.0, vSize, distance * vSize);
        if (distance > 1.0 || vDefined < 0.5) {
            discard;
        }`},Qg={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Zg={header:`
        varying float vColorIndicator;
        varying float vDefined;`,body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.4, 0.8, 0, 1);
        if (vColorIndicator < 0.0) {
            gl_FragColor = vec4(0.8, 0.4, 0, 1);
        }`},Kg={header:`
        varying float vDefined;`,body:`
        float canFill = 1.0;
        float canStroke = 0.0;
        if (vDefined < 0.5) {
            discard;
        }
        gl_FragColor = vec4(0.86, 0.86, 0.86, 1);`},Jg={header:`
        varying float vDefined;
    `,body:`
        float canFill = 0.0;
        float canStroke = 1.0;

        if (vDefined < 0.5) {
            discard;
        }`},e0={header:"varying float vDefined;",body:`
        float canFill = 0.0;
        float canStroke = 1.0;
        if (vDefined < 0.5) {
            discard;
        }`},t0={header:"varying float vDefined;",body:`
        float canFill = 1.0;
        float canStroke = 0.0;

        gl_FragColor = vec4(0.60, 0.60, 0.60, 1.0);

        if (vDefined < 0.5) {
            discard;
        }`},n0={header:"varying vec4 vFillColor;",body:"gl_FragColor = (canFill * vFillColor) + ((1.0 - canFill) * gl_FragColor);"},r0={header:"varying vec4 vStrokeColor;",body:"gl_FragColor = (canStroke * vStrokeColor) + ((1.0 - canStroke) * gl_FragColor);"},W4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Hg.header).appendBody(Hg.body),c.appendHeader(Kg.header).appendBody(Kg.body),{vertex:function(){return u},fragment:function(){return c}}},yt={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,FLOAT:5126};function bf(u){switch(u){case yt.BYTE:case yt.UNSIGNED_BYTE:return 1;case yt.SHORT:case yt.UNSIGNED_SHORT:return 2;case yt.FLOAT:return 4;default:throw new Error("Unknown type ".concat(u))}}function a0(u){switch(u){case yt.BYTE:return Int8Array;case yt.UNSIGNED_BYTE:return Uint8Array;case yt.SHORT:return Int16Array;case yt.UNSIGNED_SHORT:return Uint16Array;case yt.FLOAT:return Float32Array;default:throw new Error("Unknown type ".concat(u))}}var Tl=function(){var u=-1,c=null,d=1,p=yt.FLOAT,b=!1,x=0,h=0,g=null,y=function(S){var k=S.context();c==null&&(c=k.createBuffer()),k.bindBuffer(k.ARRAY_BUFFER,c),k.vertexAttribPointer(u,d,p,b,x,h),k.enableVertexAttribArray(u);var N=S.extInstancedArrays();N.vertexAttribDivisorANGLE(u,g??(S.subInstanceCount()>0?1:0))};return y.location=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.buffer=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.size=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},y.normalized=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],y):b},y.stride=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],y):x},y.offset=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],y):h},y.divisor=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],y):g},y},$4=function(){var u=yt.FLOAT,c=new Float32Array(0),d=function(b){var x=a0(u);return c.length>b?c=new x(c.buffer,0,b):c.length!==b&&(c=new x(b)),c};return d.type=function(){if(!arguments.length)return u;if(u!==(arguments.length<=0?void 0:arguments[0])){u=arguments.length<=0?void 0:arguments[0];var p=a0(u);c=new p(0)}return d},d},i0=function(){var u=!0,c=1,d=yt.FLOAT,p=$4(),b=function(y,_){return y},x=null,h=function(){var y=x.length,_=p.type(d)(y*c);if(c>1)for(var S=0;S<y;S++){var k=b(x[S],S);if(k.length!==c)throw new Error("Expected components array of size ".concat(c,", recieved array with length ").concat(k.length,"."));for(var N=0;N<c;N++)_[S*c+N]=k[N]}else for(var O=0;O<y;O++){var B=b(x[O],O);if(Array.isArray(B))throw new Error("Expected a single component value, recieved array with length ".concat(B.length,"."));_[O]=B}return u=!1,_};return h.dirty=function(){return u},h.clear=function(){u=!0},h.size=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u=!0,h):c},h.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],u=!0,h):d},h.arrayViewFactory=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],u=!0,h):p},h.value=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],u=!0,h):b},h.data=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],u=!0,h):x},h},ut=function(){var u=Tl(),c=i0(),d=function p(b){if(u.size(p.size()).type(p.type()),u(b),!!c.dirty()){var x=c(),h=b.context();h.bindBuffer(h.ARRAY_BUFFER,u.buffer()),h.bufferData(h.ARRAY_BUFFER,x,h.DYNAMIC_DRAW)}};return d.clear=function(){u.buffer(null),c.clear()},C(d,u,"normalized","location","divisor"),C(d,c,"data","value","size","type"),d},Ke=function(u,c,d,p){for(var b=arguments.length,x=new Array(b>4?b-4:0),h=4;h<b;h++)x[h-4]=arguments[h];u[c]=function(){for(var g=arguments.length,y=new Array(g),_=0;_<g;_++)y[_]=arguments[_];var S=d[p].apply(d,x.concat(y));return S===d?u:S}},o0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(6),c=nt(),d=nt(),p=function(){},b=ut().divisor(0).size(3).type(yt.UNSIGNED_BYTE).data([[0,0,0],[0,1,0],[1,1,1],[0,0,1],[1,0,0],[1,1,0]]);u.buffers().attribute("aCorner",b);var x=function(g){var y=W4();u.vertexShader(y.vertex()).fragmentShader(y.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),p(u),u(g-1)};return x.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],x):p},x.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},C(x,u,"context","pixelRatio"),Ke(x,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(x,"crossNextValueAttribute",u.buffers(),"attribute","aCrossNextValue"),Ke(x,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),Ke(x,"mainNextValueAttribute",u.buffers(),"attribute","aMainNextValue"),Ke(x,"baseValueAttribute",u.buffers(),"attribute","aBaseValue"),Ke(x,"baseNextValueAttribute",u.buffers(),"attribute","aBaseNextValue"),Ke(x,"definedAttribute",u.buffers(),"attribute","aDefined"),Ke(x,"definedNextAttribute",u.buffers(),"attribute","aDefinedNext"),x},u0=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Dg.header).appendBody(Dg.body),c.appendHeader(Wg.header).appendBody(Wg.body),{vertex:function(){return u},fragment:function(){return c}}},l0=function(){var u=$n().mode(rn.POINTS),c=nt(),d=nt(),p=u0(),b=function(){},x=function(g){u.vertexShader(p.vertex()).fragmentShader(p.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),b(u),u(g)};return x.type=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],x):p},x.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],x):b},x.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},C(x,u,"context","pixelRatio"),Ke(x,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(x,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),Ke(x,"sizeAttribute",u.buffers(),"attribute","aSize"),Ke(x,"definedAttribute",u.buffers(),"attribute","aDefined"),x},Go=function(){var u=1,c=function(p){p.buffers().uniform("uStrokeWidth",Dt(u))};return c.lineWidth=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],c):u},c},Qa=function(u){var c=null,d=u,p=!0,b=function(h){var g=h.context();c==null&&(c=g.createBuffer()),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,c),p&&(g.bufferData(g.ELEMENT_ARRAY_BUFFER,new Uint16Array(d),g.STATIC_DRAW),p=!1)};return b.clear=function(){c=null,p=!0},b.data=function(){return arguments.length?(p=!0,d=arguments.length<=0?void 0:arguments[0],b):d},b},c0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(6),c=nt(),d=nt(),p=function(){},b=Go(),x=ut().divisor(0).size(4).type(yt.BYTE).data([[-1,1,1,0],[1,1,0,1],[1,-1,0,1],[-1,-1,1,0]]);u.buffers().elementIndices(Qa([0,1,2,2,3,0])).attribute("aCorner",x);var h=function(y){var _=Ct(Nn),S=Ct(En);u.vertexShader(_).fragmentShader(S),_.appendHeader(`
            attribute vec4 aCorner;
            attribute float aCrossValue;
            attribute float aCrossNextValue;
            attribute float aMainValue;
            attribute float aMainNextValue;
            attribute float aDefined;
            attribute float aDefinedNext;

            uniform float uStrokeWidth;
            uniform vec2 uScreen;

            varying float vLength;
            varying vec2 vPosition;
        `),_.appendBody(`
            vec4 value = vec4(aCrossValue, aMainValue, 0.0, 1.0);
            vec4 nextValue = vec4(aCrossNextValue, aMainNextValue, 0.0, 1.0);
        `),c(u,"value",0),c(u,"nextValue",0),d(u,"value",1),d(u,"nextValue",1),_.appendBody(`
            vec2 position = aCorner[2] * value.xy + aCorner[3] * nextValue.xy;

            vec2 direction = normalize((nextValue.xy - value.xy) * uScreen);
            vec2 normal = vec2(direction.y, -direction.x);
            vec2 padding = ((uStrokeWidth / 2.0) / (uScreen / 2.0));
            
            padding *= aDefined * aDefinedNext;
            position += (aCorner[0] * direction + aCorner[1] * normal) * padding;

            gl_Position = vec4(position.x, position.y, 0.0, 1.0);

            vLength = length((nextValue.xy - value.xy) * (uScreen / 2.0));
            vPosition = aCorner.xy * (uStrokeWidth / 2.0);
            vPosition.x += aCorner[3] * vLength;
        `),S.appendHeader(`
            uniform float uStrokeWidth;
            varying float vLength;
            varying vec2 vPosition;

            float canFill = 0.0;
            float canStroke = 1.0;
        `),S.appendBody(`
            vec2 position = vPosition;
            position.x -= clamp(position.x, 0.0, vLength);
            float sdf = length(position) - uStrokeWidth / 2.0;
            if (sdf > 0.5) {
                discard;
            }
        `),b(u),p(u),u(y-1)};return h.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},C(h,u,"context","pixelRatio"),C(h,b,"lineWidth"),Ke(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(h,"crossNextValueAttribute",u.buffers(),"attribute","aCrossNextValue"),Ke(h,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),Ke(h,"mainNextValueAttribute",u.buffers(),"attribute","aMainNextValue"),Ke(h,"definedAttribute",u.buffers(),"attribute","aDefined"),Ke(h,"definedNextAttribute",u.buffers(),"attribute","aDefinedNext"),h},U4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Rg.header).appendBody(Rg.body),c.appendHeader(Zg.header).appendBody(Zg.body),{vertex:function(){return u},fragment:function(){return c}}},s0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(18),c=nt(),d=nt(),p=Go(),b=function(){},x=ut().divisor(0).size(3).type(yt.BYTE).data([[0,-2,-1],[0,-2,1],[0,2,1],[0,2,-1],[-1,-1,-1],[-1,-1,1],[0,-1,1],[0,-1,-1],[1,1,1],[0,1,1],[0,1,-1],[1,1,-1]]);u.buffers().elementIndices(Qa([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,10,11,8])).attribute("aCorner",x);var h=function(y){var _=U4();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),p(u),u.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),b(u),u(y)};return h.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},C(h,u,"context","pixelRatio"),C(h,p,"lineWidth"),Ke(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(h,"openValueAttribute",u.buffers(),"attribute","aOpenValue"),Ke(h,"highValueAttribute",u.buffers(),"attribute","aHighValue"),Ke(h,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),Ke(h,"closeValueAttribute",u.buffers(),"attribute","aCloseValue"),Ke(h,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(h,"definedAttribute",u.buffers(),"attribute","aDefined"),h},q4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Fg.header).appendBody(Fg.body),c.appendHeader(t0.header).appendBody(t0.body),{vertex:function(){return u},fragment:function(){return c}}},f0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(6),c=nt(),d=nt(),p=function(){},b=ut().divisor(0).size(2).type(yt.BYTE).data([[-1,-1],[1,1],[-1,1],[1,-1]]);u.buffers().elementIndices(Qa([0,1,2,0,1,3])).attribute("aCorner",b);var x=function(g){var y=q4();u.vertexShader(y.vertex()).fragmentShader(y.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),u.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
        `),p(u),u(g)};return x.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],x):p},x.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},C(x,u,"context","pixelRatio"),Ke(x,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(x,"mainValueAttribute",u.buffers(),"attribute","aMainValue"),Ke(x,"baseValueAttribute",u.buffers(),"attribute","aBaseValue"),Ke(x,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(x,"definedAttribute",u.buffers(),"attribute","aDefined"),x},G4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Bg.header).appendBody(Bg.body),c.appendHeader(e0.header).appendBody(e0.body),{vertex:function(){return u},fragment:function(){return c}}},d0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(18),c=nt(),d=nt(),p=function(){},b=Go(),x=ut().divisor(0).size(3).type(yt.BYTE).data([[0,1,1],[0,1,-1],[0,-1,-1],[0,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1],[-1,-1,1],[-1,1,-1],[-1,1,1],[1,1,1],[1,1,-1]]);u.buffers().elementIndices(Qa([0,1,2,0,3,2,4,5,6,4,7,6,8,9,10,8,11,10])).attribute("aCorner",x);var h=function(y){var _=G4();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),b(u),u.vertexShader().appendBody(`
                gl_Position.x += xModifier / uScreen.x * 2.0;
                gl_Position.y += yModifier / uScreen.y * 2.0;
            `),p(u),u(y)};return h.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},C(h,u,"context","pixelRatio"),C(h,b,"lineWidth"),Ke(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(h,"highValueAttribute",u.buffers(),"attribute","aHighValue"),Ke(h,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),Ke(h,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(h,"definedAttribute",u.buffers(),"attribute","aDefined"),h},X4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Ig.header).appendBody(Ig.body),c.appendHeader(Qg.header).appendBody(Qg.body),{vertex:function(){return u},fragment:function(){return c}}},m0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(12),c=nt(),d=nt(),p=Go(),b=function(){},x=ut().divisor(0).size(3).type(yt.BYTE).data([[0,2,1],[0,2,-1],[0,-2,-1],[0,-2,1],[1,-1,0],[-1,-1,0],[-1,1,0],[1,1,0]]);u.buffers().elementIndices(Qa([0,1,2,0,3,2,4,5,6,4,7,6])).attribute("aCorner",x);var h=function(y){var _=X4();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),p(u),u.vertexShader().appendBody(`
          gl_Position.x += xModifier / uScreen.x * 2.0;
          gl_Position.y += yModifier / uScreen.y * 2.0;
        `),b(u),u(y)};return h.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},C(h,u,"context","pixelRatio"),C(h,p,"lineWidth"),Ke(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(h,"openValueAttribute",u.buffers(),"attribute","aOpenValue"),Ke(h,"highValueAttribute",u.buffers(),"attribute","aHighValue"),Ke(h,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),Ke(h,"closeValueAttribute",u.buffers(),"attribute","aCloseValue"),Ke(h,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(h,"definedAttribute",u.buffers(),"attribute","aDefined"),h},j4=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Yg.header).appendBody(Yg.body),c.appendHeader(Jg.header).appendBody(Jg.body),{vertex:function(){return u},fragment:function(){return c}}},h0=function(){var u=$n().mode(rn.TRIANGLES).subInstanceCount(54),c=nt(),d=nt(),p=function(){},b=Go(),x=ut().divisor(0).size(4).type(yt.BYTE).data([[-1,-2,-1,1],[1,-2,-1,1],[1,-2,1,1],[-1,-2,1,1],[0,-2,-1,0],[0,-2,1,0],[0,-1,1,0],[0,-1,-1,0],[-1,-1,-1,1],[1,-1,-1,1],[1,-1,1,1],[-1,-1,1,1],[-1,0,-1,1],[1,0,-1,1],[1,0,1,1],[-1,0,1,1],[-1,1,-1,1],[1,1,-1,1],[1,1,1,1],[-1,1,1,1],[-1,-1,-1,0],[-1,-1,1,0],[-1,1,1,0],[-1,1,-1,0],[1,-1,-1,0],[1,-1,1,0],[1,1,1,0],[1,1,-1,0],[0,2,-1,0],[0,2,1,0],[0,1,1,0],[0,1,-1,0],[-1,2,-1,1],[1,2,-1,1],[1,2,1,1],[-1,2,1,1]]);u.buffers().elementIndices(Qa([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23,24,25,26,24,26,27,28,29,30,28,30,31,32,33,34,32,34,35])).attribute("aCorner",x);var h=function(y){var _=j4();u.vertexShader(_.vertex()).fragmentShader(_.fragment()),c(u,"gl_Position",0),d(u,"gl_Position",1),b(u),u.vertexShader().appendBody(`
            gl_Position.x += xModifier / uScreen.x * 2.0;
            gl_Position.y += yModifier / uScreen.y * 2.0;
        `),p(u),u(y)};return h.decorate=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.xScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.yScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},C(h,u,"context","pixelRatio"),C(h,b,"lineWidth"),Ke(h,"crossValueAttribute",u.buffers(),"attribute","aCrossValue"),Ke(h,"highValueAttribute",u.buffers(),"attribute","aHighValue"),Ke(h,"upperQuartileValueAttribute",u.buffers(),"attribute","aUpperQuartileValue"),Ke(h,"medianValueAttribute",u.buffers(),"attribute","aMedianValue"),Ke(h,"lowerQuartileValueAttribute",u.buffers(),"attribute","aLowerQuartileValue"),Ke(h,"lowValueAttribute",u.buffers(),"attribute","aLowValue"),Ke(h,"bandwidthAttribute",u.buffers(),"attribute","aBandwidth"),Ke(h,"capAttribute",u.buffers(),"attribute","aCapWidth"),Ke(h,"definedAttribute",u.buffers(),"attribute","aDefined"),h},fa=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(u>0||c<0)throw new Error("Offset values (".concat(u," & ").concat(c,") must straddle 0 "));var d=Tl(),p=i0(),b=function x(h){var g=x.size()*bf(x.type()),y=Math.abs(u)*g;if(d.offset(y).size(x.size()).type(x.type()),d(h),!!p.dirty()){var _=p(),S=c*g,k=y+_.length*bf(x.type())+S,N=h.context();N.bindBuffer(N.ARRAY_BUFFER,d.buffer()),N.bufferData(N.ARRAY_BUFFER,k,N.DYNAMIC_DRAW),N.bufferSubData(N.ARRAY_BUFFER,y,_)}};return b.offset=function(x){if(u>x||x>c)throw new Error("Requested offset ".concat(x," exceeds bounds (").concat(u," & ").concat(c,") "));var h=function(y){d.offset((x-u)*b.size()*bf(b.type())),d(y)};return C(h,b,"clear","location"),h},b.clear=function(){d.buffer(null),p.clear()},C(b,d,"normalized","location","divisor"),C(b,p,"data","value","size","type"),b},Cl=function(){var u=nt(),c=function(b){return"linear".concat(b)},d=function(b,x,h){b.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(c(h),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(c(h),"Scale;")).appendBody("".concat(x," = ").concat(x," + ").concat(c(h),"Offset;")).appendBody("".concat(x," = ").concat(x," * ").concat(c(h),"Scale;"));var g=u.domain()[1]-u.domain()[0],y=u.range()[1]-u.range()[0],_=u.range()[0]*(g/y)-u.domain()[0],S=y/g,k=[0,0,0,0],N=[1,1,1,1];k[h]=_,N[h]=S,b.buffers().uniform("".concat(c(h),"Offset"),Dt(k)).uniform("".concat(c(h),"Scale"),Dt(N))};return T(d,u),d},p0=function(){var u=nt(),c=10;function d(x,h){return Math.log10(x)/Math.log10(h)}var p=function(h){return"log".concat(h)},b=function(h,g,y){var _="".concat(p(y),"Offset + (").concat(p(y),"Scale * clamp(log(").concat(g,") / log(").concat(p(y),"Base), -inf, inf))");h.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(y),"Base;")).appendBody("".concat(g," = (").concat(p(y),"Include * (").concat(_,")) + ((1.0 - ").concat(p(y),"Include) * ").concat(g,");"));var S=d(u.domain()[1],c)-d(u.domain()[0],c),k=u.range()[1]-u.range()[0],N=k/S,O=u.range()[0]-N*d(u.domain()[0],c),B=[0,0,0,0],F=[0,0,0,0],U=[0,0,0,0];B[y]=O,F[y]=N,U[y]=1,h.buffers().uniform("".concat(p(y),"Offset"),Dt(B)).uniform("".concat(p(y),"Scale"),Dt(F)).uniform("".concat(p(y),"Include"),Dt(U)).uniform("".concat(p(y),"Base"),Dt(c))};return b.base=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},T(b,u),b},g0=function(){var u=nt(),c=1;function d(x,h){return Math.sign(x)*Math.pow(Math.abs(x),h)}var p=function(h){return"pow".concat(h)},b=function(h,g,y){var _="".concat(p(y),"Offset + (").concat(p(y),"Scale * sign(").concat(g,") * pow(abs(").concat(g,"), vec4(").concat(p(y),"Exp)))");h.vertexShader().appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Offset;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Scale;")).appendHeaderIfNotExists("uniform vec4 ".concat(p(y),"Include;")).appendHeaderIfNotExists("uniform float ".concat(p(y),"Exp;")).appendBody("".concat(g," = (").concat(p(y),"Include * (").concat(_,")) + ((1.0 - ").concat(p(y),"Include) * ").concat(g,");"));var S=d(u.domain()[1],c)-d(u.domain()[0],c),k=u.range()[1]-u.range()[0],N=k/S,O=u.range()[0]-N*d(u.domain()[0],c),B=[0,0,0,0],F=[0,0,0,0],U=[0,0,0,0];B[y]=O,F[y]=N,U[y]=1,h.buffers().uniform("".concat(p(y),"Offset"),Dt(B)).uniform("".concat(p(y),"Scale"),Dt(F)).uniform("".concat(p(y),"Include"),Dt(U)).uniform("".concat(p(y),"Exp"),Dt(c))};return b.exponent=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},T(b,u),b},Q4=n.scaleLinear().copy.toString(),Z4=n.scaleLog().copy.toString(),K4=n.scalePow().copy.toString(),J4=n.scaleTime().copy.toString(),xf=n.scaleIdentity(),e7=Date.now(),v0=function(c){return c-e7},da=function(u){switch(u.copy.toString()){case Q4:return{scale:xf,webglScale:Cl().domain(u.domain())};case J4:return{scale:v0,webglScale:Cl().domain(u.domain().map(v0))};case Z4:return{scale:xf,webglScale:p0().domain(u.domain()).base(u.base())};case K4:return{scale:xf,webglScale:g0().domain(u.domain()).exponent(u.exponent())};default:return{scale:u.copy(),webglScale:Cl().domain(u.range())}}},t7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Pg.header).appendBody(Pg.body),c.appendHeader(qg.header).appendBody(qg.body),{vertex:function(){return u},fragment:function(){return c}}},n7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Og.header).appendBody(Og.body),c.appendHeader(Xg.header).appendBody(Xg.body),{vertex:function(){return u},fragment:function(){return c}}},r7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(zg.header).appendBody(zg.body),c.appendHeader(jg.header).appendBody(jg.body),{vertex:function(){return u},fragment:function(){return c}}},a7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Lg.header).appendBody(Lg.body),c.appendHeader(Gg.header).appendBody(Gg.body),{vertex:function(){return u},fragment:function(){return c}}},i7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Ng.header).appendBody(Ng.body),c.appendHeader($g.header).appendBody($g.body),{vertex:function(){return u},fragment:function(){return c}}},o7=function(){var u=Ct(Nn),c=Ct(En);return u.appendHeader(Eg.header).appendBody(Eg.body),c.appendHeader(Ug.header).appendBody(Ug.body),{vertex:function(){return u},fragment:function(){return c}}},y0=function(u){switch(u){case s.symbolCircle:return u0();case s.symbolSquare:return t7();case s.symbolTriangle:return n7();case s.symbolCross:return r7();case s.symbolDiamond:return a7();case s.symbolStar:return i7();case s.symbolWye:return o7();default:throw new Error("Unrecognised symbol: ".concat(u))}},b0=function(u){var c=Tl().divisor(1),d=u,p=!0,b=function(h){if(c(h),!!p){if(!Array.isArray(d))throw new Error("Expected an array, received: ".concat(d));if(d.length!==c.size())throw new Error("Expected array of length: ".concat(c.size(),", recieved array of length: ").concat(d.length));var g=h.context();g["vertexAttrib".concat(d.length,"fv")](c.location(),d),g.disableVertexAttribArray(c.location()),p=!1}};return b.clear=function(){p=!0},b.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p=!0,b):d},C(b,c,"normalized","size","location"),b},u7=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],c=ut().size(4),d=u,p=!0,b=function(h){if(h.vertexShader().appendHeaderIfNotExists(kg.header).appendBodyIfNotExists(kg.body),h.fragmentShader().appendHeaderIfNotExists(n0.header).appendBodyIfNotExists(n0.body),Array.isArray(d))h.buffers().attribute("aFillColor",b0(d).size(4));else if(typeof d=="function"){if(!p)return;c.value(d),h.buffers().attribute("aFillColor",c)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return b.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),b):d},C(b,c,"data"),b},l7=function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[0,0,0,1],c=ut().size(4),d=u,p=!0,b=function(h){if(h.vertexShader().appendHeaderIfNotExists(Vg.header).appendBodyIfNotExists(Vg.body),h.fragmentShader().appendHeaderIfNotExists(r0.header).appendBodyIfNotExists(r0.body),Array.isArray(d))h.buffers().attribute("aStrokeColor",b0(d).size(4));else if(typeof d=="function"){if(!p)return;c.value(d),h.buffers().attribute("aStrokeColor",c)}else throw new Error("Expected value to be an array or function, received ".concat(d));p=!1};return b.value=function(){return arguments.length?(d!==(arguments.length<=0?void 0:arguments[0])&&(d=arguments.length<=0?void 0:arguments[0],p=!0),b):d},C(b,c,"data"),b},x0=function(){var u=Dn(),c=fa(0,1),d=c.offset(1),p=fa(0,1),b=p.offset(1),x=fa(0,1).type(yt.UNSIGNED_BYTE),h=x.offset(1),g=c0().crossValueAttribute(c).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(b).definedAttribute(x).definedNextAttribute(h),y=function(F,U){return!1},_=da,S=[],k=null,N=null,O=function(F){var U=_(u.xScale()),J=_(u.yScale()),ne=!y(S,F);ne&&(S=F,x.value(function(re,fe){return u.defined()(re,fe)}).data(F)),(ne||U.scale!==k)&&(k=U.scale,u.orient()==="vertical"?c.value(function(re,fe){return U.scale(u.crossValue()(re,fe))}).data(F):c.value(function(re,fe){return U.scale(u.mainValue()(re,fe))}).data(F)),(ne||J.scale!==N)&&(N=J.scale,u.orient()==="vertical"?p.value(function(re,fe){return J.scale(u.mainValue()(re,fe))}).data(F):p.value(function(re,fe){return J.scale(u.crossValue()(re,fe))}).data(F)),g.xScale(U.webglScale).yScale(J.webglScale).decorate(function(re){return u.decorate()(re,F,0)}),g(F.length)};return O.equals=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],O):y},O.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],O):_},T(O,u,R("baseValue","bandwidth","align")),C(O,g,"context","lineWidth","pixelRatio"),O},w0=function(){var u=s.symbol(),c=Dn(),d=ot("g","point"),p=function(h){return"translate("+h[0]+", "+h[1]+")"},b=function(h){It(h)&&d.transition(h),h.each(function(g,y,_){var S=g.filter(c.defined()),k=d(l.select(_[y]),S);k.enter().attr("transform",function(N,O){return p(c.values(N,O).origin)}).attr("fill",Qe.gray).attr("stroke",Qe.black).append("path"),k.attr("transform",function(N,O){return p(c.values(N,O).origin)}).select("path").attr("d",u),c.decorate()(k,g,y)})};return T(b,c,R("baseValue","bandwidth","align")),C(b,d,"key"),C(b,u,"type","size"),b},_0=function(){var u=s.symbol(),c=Dn(),d=function(b){var x=b.filter(c.defined()),h=u.context();x.forEach(function(g,y){h.save();var _=c.values(g,y);h.translate(_.origin[0],_.origin[1]),h.beginPath(),h.strokeStyle=Qe.black,h.fillStyle=Qe.gray,c.decorate()(h,g,y),u(g,y),h.fill(),h.stroke(),h.closePath(),h.restore()})};return T(d,c,R("baseValue","bandwidth","align")),C(d,u,"size","type","context"),d},c7=function(){var u=Dn(),c=kt(64),d=s.symbolCircle,p=ut(),b=ut(),x=ut().type(yt.UNSIGNED_SHORT),h=ut().type(yt.UNSIGNED_BYTE),g=l0().crossValueAttribute(p).mainValueAttribute(b).sizeAttribute(x).definedAttribute(h),y=function(F,U){return!1},_=da,S=[],k=null,N=null,O=function(F){var U=_(u.xScale()),J=_(u.yScale()),ne=!y(S,F);ne&&(S=F,x.value(function(re,fe){return c(re,fe)}).data(F),h.value(function(re,fe){return u.defined()(re,fe)}).data(F)),(ne||U.scale!==k)&&(k=U.scale,u.orient()==="vertical"?p.value(function(re,fe){return U.scale(u.crossValue()(re,fe))}).data(F):p.value(function(re,fe){return U.scale(u.mainValue()(re,fe))}).data(F)),(ne||J.scale!==N)&&(N=J.scale,u.orient()==="vertical"?b.value(function(re,fe){return J.scale(u.mainValue()(re,fe))}).data(F):b.value(function(re,fe){return J.scale(u.crossValue()(re,fe))}).data(F)),g.xScale(U.webglScale).yScale(J.webglScale).type(y0(d)).decorate(function(re){return u.decorate()(re,F,0)}),g(F.length)};return O.size=function(){return arguments.length?(c=kt(arguments.length<=0?void 0:arguments[0]),O):c},O.type=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],O):d},O.equals=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],O):y},O.scaleMapper=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],O):_},T(O,u,R("baseValue","bandwidth","align")),C(O,g,"context","pixelRatio"),O},s7=function(){var u=Ft().x(0).y(0),c=Dn(),d=ot("g","bar"),p=function(y){return c.orient()==="vertical"?y.height:y.width},b=function(y){return c.orient()==="vertical"?y.width:y.height},x=function(y){return"translate("+y[0]+", "+y[1]+")"},h=function(y){It(y)&&d.transition(y),y.each(function(_,S,k){var N=c.orient();if(N!=="vertical"&&N!=="horizontal")throw new Error("The bar series does not support an orientation of "+N);var O=_.filter(c.defined()),B=O.map(c.values);u.width(0).height(0),c.orient()==="vertical"?(u.verticalAlign("top"),u.horizontalAlign("center")):(u.horizontalAlign("right"),u.verticalAlign("center"));var F=d(l.select(k[S]),O);F.enter().attr("transform",function(U,J){return x(B[J].baseOrigin)}).attr("class","bar "+c.orient()).attr("fill",Qe.darkGray).append("path").attr("d",function(U,J){return b(u)(B[J].width),u([U])}),F.attr("transform",function(U,J){return x(B[J].origin)}).select("path").attr("d",function(U,J){return b(u)(B[J].width),p(u)(-B[J].height),u([U])}),c.decorate()(F,O,S)})};return T(h,c),C(h,d,"key"),h},f7=function(){var u=Dn(),c=Ft().x(0).y(0),d=function(h){return u.orient()==="vertical"?h.height:h.width},p=function(h){return u.orient()==="vertical"?h.width:h.height},b=function(h){var g=c.context(),y=h.filter(u.defined()),_=y.map(u.values);u.orient()==="vertical"?(c.verticalAlign("top"),c.horizontalAlign("center")):(c.horizontalAlign("right"),c.verticalAlign("center")),_.forEach(function(S,k){g.save(),g.beginPath(),g.translate(S.origin[0],S.origin[1]),g.fillStyle=Qe.darkGray,g.strokeStyle="transparent",u.decorate()(g,S.d,k),d(c)(-S.height),p(c)(S.width),c([S]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return T(b,u),C(b,c,"context"),b},d7=function(){var u=Dn(),c=ut(),d=ut(),p=ut(),b=ut().type(yt.UNSIGNED_SHORT),x=ut().type(yt.UNSIGNED_BYTE),h=f0().crossValueAttribute(c).mainValueAttribute(d).baseValueAttribute(p).bandwidthAttribute(b).definedAttribute(x),g=function(B,F){return!1},y=da,_=[],S=null,k=null,N=function(B){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var F=y(u.xScale()),U=y(u.yScale()),J=!g(_,B);J&&(_=B,b.value(function(ne,re){return u.bandwidth()(ne,re)}).data(B),x.value(function(ne,re){return u.defined()(ne,re)}).data(B)),(J||F.scale!==S)&&(S=F.scale,c.value(function(ne,re){return F.scale(u.crossValue()(ne,re))}).data(B)),(J||U.scale!==k)&&(k=U.scale,p.value(function(ne,re){return U.scale(u.baseValue()(ne,re))}).data(B),d.value(function(ne,re){return U.scale(u.mainValue()(ne,re))}).data(B)),h.xScale(F.webglScale).yScale(U.webglScale).decorate(function(ne){return u.decorate()(ne,B,0)}),h(B.length)};return N.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],N):g},N.scaleMapper=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],N):y},T(N,u,R("align")),C(N,h,"context","pixelRatio"),N},wf=function(){var u=function(y){return y.high},c=function(y){return y.low},d=function(y){return y.cross},p="vertical",b="center",x=function(){return 5},h=$r({decorate:function(){},defined:function(y,_){return Xa(c,u,d)(y,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return h.values=function(g,y){var _=x(g,y),S=ja(b,_),k=h.xScale(),N=h.yScale();if(p==="vertical"){var O=N(u(g,y));return{origin:[k(d(g,y))+S,O],high:0,low:N(c(g,y))-O,width:_}}else{var B=k(c(g,y));return{origin:[B,N(d(g,y))+S],high:k(u(g,y))-B,low:0,width:_}}},h.xValues=function(){return p==="vertical"?[d]:[u,c]},h.yValues=function(){return p!=="vertical"?[d]:[u,c]},h.orient=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.lowValue=function(){return arguments.length?(c=kt(arguments.length<=0?void 0:arguments[0]),h):c},h.highValue=function(){return arguments.length?(u=kt(arguments.length<=0?void 0:arguments[0]),h):u},h.crossValue=function(){return arguments.length?(d=kt(arguments.length<=0?void 0:arguments[0]),h):d},h.bandwidth=function(){return arguments.length?(x=kt(arguments.length<=0?void 0:arguments[0]),h):x},h.align=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h},m7=function(){var u=wf(),c=ot("g","error-bar"),d=Tn().value(0),p=function(g){return function(y){return It(g)?y.transition(g):y}},b=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},x=function(g){It(g)&&c.transition(g);var y=p(g);g.each(function(_,S,k){var N=_.filter(u.defined()),O=N.map(u.values),B=c(l.select(k[S]),N);B.enter().attr("stroke",Qe.black).attr("fill",Qe.gray).attr("transform",function(F,U){return b(u.values(F,U))+" scale(1e-6, 1)"}).append("path"),d.orient(u.orient()),B.each(function(F,U,J){var ne=O[U];d.high(ne.high).low(ne.low).width(ne.width),y(l.select(J[U])).attr("transform",b(ne)+" scale(1)").select("path").attr("d",d([F]))}),u.decorate()(B,_,S)})};return T(x,u),C(x,c,"key"),x},h7=function(){var u=wf(),c=Tn().value(0),d=function(b){var x=b.filter(u.defined()),h=c.context();c.orient(u.orient()),x.forEach(function(g,y){h.save();var _=u.values(g,y);h.translate(_.origin[0],_.origin[1]),h.beginPath(),h.strokeStyle=Qe.black,h.fillStyle=Qe.gray,u.decorate()(h,g,y),c.high(_.high).width(_.width).low(_.low)([g]),h.fill(),h.stroke(),h.closePath(),h.restore()})};return T(d,u),C(d,c,"context"),d},p7=function(){var u=wf(),c=ut(),d=ut(),p=ut(),b=ut().type(yt.UNSIGNED_SHORT),x=ut().type(yt.UNSIGNED_BYTE),h=d0().crossValueAttribute(c).highValueAttribute(d).lowValueAttribute(p).bandwidthAttribute(b).definedAttribute(x),g=function(B,F){return!1},y=da,_=[],S=null,k=null,N=function(B){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var F=y(u.xScale()),U=y(u.yScale()),J=!g(_,B);J&&(_=B,b.value(function(ne,re){return u.bandwidth()(ne,re)}).data(B),x.value(function(ne,re){return u.defined()(ne,re)}).data(B)),(J||F.scale!==S)&&(S=F.scale,c.value(function(ne,re){return F.scale(u.crossValue()(ne,re))}).data(B)),(J||U.scale!==k)&&(k=U.scale,d.value(function(ne,re){return U.scale(u.highValue()(ne,re))}).data(B),p.value(function(ne,re){return U.scale(u.lowValue()(ne,re))}).data(B)),h.xScale(F.webglScale).yScale(U.webglScale).decorate(function(ne){return u.decorate()(ne,B,0)}),h(B.length)};return N.equals=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],N):g},N.scaleMapper=function(){return arguments.length?(y=arguments.length<=0?void 0:arguments[0],N):y},T(N,u,R("align")),C(N,h,"context","lineWidth","pixelRatio"),N},g7=function(){var u=Dn(),c=s.area(),d=ot("path","area"),p=function(x){It(x)&&d.transition(x),c.defined(u.defined()),x.each(function(h,g,y){var _=h.map(u.values);c.x(function(N,O){return _[O].transposedX}).y(function(N,O){return _[O].transposedY});var S=u.orient()==="vertical"?"y":"x";c[S+"0"](function(N,O){return _[O].y0}),c[S+"1"](function(N,O){return _[O].y});var k=d(l.select(y[g]),[h]);k.enter().attr("fill",Qe.gray),k.attr("d",c),u.decorate()(k,h,g)})};return T(p,u,R("bandwidth","align")),C(p,d,"key"),C(p,c,"curve"),p},v7=function(){var u=Dn(),c=s.area(),d=function(b){var x=c.context();c.defined(u.defined());var h=b.map(u.values);c.x(function(y,_){return h[_].transposedX}).y(function(y,_){return h[_].transposedY});var g=u.orient()==="vertical"?"y":"x";c[g+"0"](function(y,_){return h[_].y0}),c[g+"1"](function(y,_){return h[_].y}),x.beginPath(),x.fillStyle=Qe.gray,x.strokeStyle="transparent",u.decorate()(x,b),c(b),x.fill(),x.stroke(),x.closePath()};return T(d,u,R("bandwidth","align")),C(d,c,"curve","context"),d},y7=function(){var u=Dn(),c=fa(0,1),d=c.offset(1),p=fa(0,1),b=p.offset(1),x=fa(0,1),h=x.offset(1),g=fa(0,1).type(yt.UNSIGNED_BYTE),y=g.offset(1),_=o0().crossValueAttribute(c).crossNextValueAttribute(d).mainValueAttribute(p).mainNextValueAttribute(b).baseValueAttribute(x).baseNextValueAttribute(h).definedAttribute(g).definedNextAttribute(y),S=function(J,ne){return!1},k=da,N=[],O=null,B=null,F=function(J){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var ne=k(u.xScale()),re=k(u.yScale()),fe=!S(N,J);fe&&(N=J,g.value(function(Ne,Ge){return u.defined()(Ne,Ge)}).data(J)),(fe||ne.scale!==O)&&(O=ne.scale,c.value(function(Ne,Ge){return ne.scale(u.crossValue()(Ne,Ge))}).data(J)),(fe||re.scale!==B)&&(B=re.scale,x.value(function(Ne,Ge){return re.scale(u.baseValue()(Ne,Ge))}).data(J),p.value(function(Ne,Ge){return re.scale(u.mainValue()(Ne,Ge))}).data(J)),_.xScale(ne.webglScale).yScale(re.webglScale).decorate(function(Ne){return u.decorate()(Ne,J,0)}),_(J.length)};return F.equals=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],F):S},F.scaleMapper=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],F):k},T(F,u,R("bandwidth","align")),C(F,_,"context","pixelRatio"),F},_f=function(){var u,c=function(S){return S.date},d=function(S){return S.open},p=function(S){return S.high},b=function(S){return S.low},x=function(S){return S.close},h=function(){return 5},g="center",y=function(S,k){return u.xScale()(c(S,k))};return u=$r({decorate:function(){},defined:function(S,k){return Xa(c,d,b,p,x)(S,k)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()}),u.values=function(_,S){var k=x(_,S),N=d(_,S),O=h(_,S),B=ja(g,O),F="";return k>N?F="up":k<N&&(F="down"),{cross:y(_,S)+B,open:u.yScale()(N),high:u.yScale()(p(_,S)),low:u.yScale()(b(_,S)),close:u.yScale()(k),width:O,direction:F}},u.xValues=function(){return[c]},u.yValues=function(){return[d,p,b,x]},u.crossValue=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],u):c},u.openValue=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],u):d},u.highValue=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],u):p},u.lowValue=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],u):b},u.yValue=u.closeValue=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],u):x},u.bandwidth=function(){return arguments.length?(h=kt(arguments.length<=0?void 0:arguments[0]),u):h},u.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],u):g},u},S0=function(u,c){var d=_f(),p=ot("g",c),b=function(y){return"translate("+y.cross+", "+y.high+")"},x=function(y){return function(_){return It(y)?_.transition(y):_}},h=function(y){It(y)&&p.transition(y);var _=x(y);y.each(function(S,k,N){var O=S.filter(d.defined()),B=p(l.select(N[k]),O);B.enter().attr("transform",function(F,U){return b(d.values(F,U))+" scale(1e-6, 1)"}).append("path"),B.each(function(F,U,J){var ne=d.values(F,U),re=ne.direction==="up"?Qe.green:Qe.red,fe=_(l.select(J[U])).attr("class",c+" "+ne.direction).attr("stroke",re).attr("fill",re).attr("transform",function(){return b(ne)+" scale(1)"});u.x(0).width(ne.width).open(function(){return ne.open-ne.high}).high(0).low(function(){return ne.low-ne.high}).close(function(){return ne.close-ne.high}),fe.select("path").attr("d",u([F]))}),d.decorate()(B,S,k)})};return C(h,p,"key"),T(h,d),h},b7=function(){return S0(Yt(),"candlestick")},M0=function(u){var c=_f(),d=function(b){var x=b.filter(c.defined()),h=u.context();x.forEach(function(g,y){h.save();var _=c.values(g,y);h.translate(_.cross,_.high),h.beginPath(),u.x(0).open(function(){return _.open-_.high}).width(_.width).high(0).low(function(){return _.low-_.high}).close(function(){return _.close-_.high})([g]);var S=_.direction==="up"?Qe.green:Qe.red;h.strokeStyle=S,h.fillStyle=S,c.decorate()(h,g,y),h.fill(),h.stroke(),h.closePath(),h.restore()})};return C(d,u,"context"),T(d,c),d},x7=function(){return M0(Yt())},T0=function(u){var c=_f(),d=ut(),p=ut(),b=ut(),x=ut(),h=ut(),g=ut().type(yt.UNSIGNED_SHORT),y=ut().type(yt.UNSIGNED_BYTE);u.crossValueAttribute(d).openValueAttribute(p).highValueAttribute(b).lowValueAttribute(x).closeValueAttribute(h).bandwidthAttribute(g).definedAttribute(y);var _=function(U,J){return!1},S=da,k=[],N=null,O=null,B=function(U){var J=S(c.xScale()),ne=S(c.yScale()),re=!_(k,U);re&&(k=U,g.value(function(fe,Ne){return c.bandwidth()(fe,Ne)}).data(U),y.value(function(fe,Ne){return c.defined()(fe,Ne)}).data(U)),(re||J.scale!==N)&&(N=J.scale,d.value(function(fe,Ne){return J.scale(c.crossValue()(fe,Ne))}).data(U)),(re||ne.scale!==O)&&(O=ne.scale,p.value(function(fe,Ne){return ne.scale(c.openValue()(fe,Ne))}).data(U),b.value(function(fe,Ne){return ne.scale(c.highValue()(fe,Ne))}).data(U),x.value(function(fe,Ne){return ne.scale(c.lowValue()(fe,Ne))}).data(U),h.value(function(fe,Ne){return ne.scale(c.closeValue()(fe,Ne))}).data(U)),u.xScale(J.webglScale).yScale(ne.webglScale).decorate(function(fe){return c.decorate()(fe,U,0)}),u(U.length)};return B.equals=function(){return arguments.length?(_=arguments.length<=0?void 0:arguments[0],B):_},B.scaleMapper=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],B):S},T(B,c,R("align")),C(B,u,"context","lineWidth","pixelRatio"),B},w7=function(){return T0(m0())},Sf=function(){var u=function(k){return k.upperQuartile},c=function(k){return k.lowerQuartile},d=function(k){return k.high},p=function(k){return k.low},b=function(k){return k.value},x=function(k){return k.median},h="vertical",g="center",y=function(){return 5},_=$r({decorate:function(){},defined:function(k,N){return Xa(p,d,c,u,b,x)(k,N)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return _.values=function(S,k){var N=y(S,k),O=ja(g,N),B=_.xScale(),F=_.yScale();if(h==="vertical"){var U=F(d(S,k));return{origin:[B(b(S,k))+O,U],high:0,upperQuartile:F(u(S,k))-U,median:F(x(S,k))-U,lowerQuartile:F(c(S,k))-U,low:F(p(S,k))-U,width:N}}else{var J=B(p(S,k));return{origin:[J,F(b(S,k))+O],high:B(d(S,k))-J,upperQuartile:B(u(S,k))-J,median:B(x(S,k))-J,lowerQuartile:B(c(S,k))-J,low:0,width:N}}},_.xValues=function(){return h==="vertical"?[b]:[u,c,d,p,x]},_.yValues=function(){return h!=="vertical"?[b]:[u,c,d,p,x]},_.orient=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],_):h},_.lowerQuartileValue=function(){return arguments.length?(c=kt(arguments.length<=0?void 0:arguments[0]),_):c},_.upperQuartileValue=function(){return arguments.length?(u=kt(arguments.length<=0?void 0:arguments[0]),_):u},_.lowValue=function(){return arguments.length?(p=kt(arguments.length<=0?void 0:arguments[0]),_):p},_.highValue=function(){return arguments.length?(d=kt(arguments.length<=0?void 0:arguments[0]),_):d},_.crossValue=function(){return arguments.length?(b=kt(arguments.length<=0?void 0:arguments[0]),_):b},_.medianValue=function(){return arguments.length?(x=kt(arguments.length<=0?void 0:arguments[0]),_):x},_.bandwidth=function(){return arguments.length?(y=kt(arguments.length<=0?void 0:arguments[0]),_):y},_.align=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],_):g},_},_7=function(){var u=Sf(),c=ot("g","box-plot"),d=nn().value(0),p=function(g){return function(y){return It(g)?y.transition(g):y}},b=function(g){return"translate("+g.origin[0]+", "+g.origin[1]+")"},x=function(g){It(g)&&c.transition(g);var y=p(g);g.each(function(_,S,k){var N=_.filter(u.defined()),O=c(l.select(k[S]),N);O.enter().attr("stroke",Qe.black).attr("fill",Qe.gray).attr("transform",function(B,F){return b(u.values(B,F))+" scale(1e-6, 1)"}).append("path"),d.orient(u.orient()),O.each(function(B,F,U){var J=u.values(B,F);d.median(J.median).upperQuartile(J.upperQuartile).lowerQuartile(J.lowerQuartile).width(J.width).high(J.high).low(J.low),y(l.select(U[F])).attr("transform",b(J)).select("path").attr("d",d([B]))}),u.decorate()(O,_,S)})};return T(x,u),C(x,c,"key"),C(x,d,"cap"),x},S7=function(){var u=Sf(),c=nn().value(0),d=function(b){var x=b.filter(u.defined()),h=c.context();c.orient(u.orient()),x.forEach(function(g,y){h.save();var _=u.values(g,y);h.translate(_.origin[0],_.origin[1]),h.beginPath(),h.fillStyle=Qe.gray,h.strokeStyle=Qe.black,u.decorate()(h,g,y),c.median(_.median).upperQuartile(_.upperQuartile).lowerQuartile(_.lowerQuartile).high(_.high).width(_.width).low(_.low)([g]),h.fill(),h.stroke(),h.closePath(),h.restore()})};return T(d,u),C(d,c,"cap","context"),d},M7=function(){var u=Sf(),c=ut(),d=ut(),p=ut(),b=ut(),x=ut(),h=ut(),g=ut().type(yt.UNSIGNED_SHORT),y=ut().type(yt.UNSIGNED_SHORT),_=ut().type(yt.UNSIGNED_BYTE),S=h0().crossValueAttribute(c).highValueAttribute(d).upperQuartileValueAttribute(p).medianValueAttribute(b).lowerQuartileValueAttribute(x).lowValueAttribute(h).bandwidthAttribute(g).capAttribute(y).definedAttribute(_),k=function(re,fe){return!1},N=da,O=[],B=null,F=null,U=kt(20),J=function(re){if(u.orient()!=="vertical")throw new Error("Unsupported orientation ".concat(u.orient()));var fe=N(u.xScale()),Ne=N(u.yScale()),Ge=!k(O,re);Ge&&(O=re,g.value(function(je,qe){return u.bandwidth()(je,qe)}).data(re),y.value(function(je,qe){return U(je,qe)}).data(re),_.value(function(je,qe){return u.defined()(je,qe)}).data(re)),(Ge||fe.scale!==B)&&(B=fe.scale,c.value(function(je,qe){return fe.scale(u.crossValue()(je,qe))}).data(re)),(Ge||Ne.scale!==F)&&(F=Ne.scale,d.value(function(je,qe){return Ne.scale(u.highValue()(je,qe))}).data(re),p.value(function(je,qe){return Ne.scale(u.upperQuartileValue()(je,qe))}).data(re),b.value(function(je,qe){return Ne.scale(u.medianValue()(je,qe))}).data(re),x.value(function(je,qe){return Ne.scale(u.lowerQuartileValue()(je,qe))}).data(re),h.value(function(je,qe){return Ne.scale(u.lowValue()(je,qe))}).data(re)),S.xScale(fe.webglScale).yScale(Ne.webglScale).decorate(function(je){return u.decorate()(je,re,0)}),S(re.length)};return J.cap=function(){return arguments.length?(U=kt(arguments.length<=0?void 0:arguments[0]),J):U},J.equals=function(){return arguments.length?(k=arguments.length<=0?void 0:arguments[0],J):k},J.scaleMapper=function(){return arguments.length?(N=arguments.length<=0?void 0:arguments[0],J):N},T(J,u,R("align")),C(J,S,"context","lineWidth","pixelRatio"),J},T7=function(){return S0(at(),"ohlc")},C7=function(){return M0(at())},A7=function(){return T0(s0())},Mf=function(){var u=[],c=function(x){return x},d=function(x,h){return h},p=$r({decorate:function(){},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return p.xValues=function(){return u.map(function(b){return b.xValues()}).reduce(function(b,x){return b.concat(x)})},p.yValues=function(){return u.map(function(b){return b.yValues()}).reduce(function(b,x){return b.concat(x)})},p.mapping=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.key=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p.series=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p},Tf=function(){var u=Mf(),c=ot("g"),d=ot("g","multi"),p=function(x){It(x)&&(d.transition(x),c.transition(x));var h=u.mapping(),g=u.series(),y=u.xScale(),_=u.yScale();x.each(function(S,k,N){var O=d(l.select(N[k]),g);O.each(function(B,F,U){B.xScale(y).yScale(_);var J=h(S,F,g),ne=c(l.select(U[F]),[J]);ne.call(B)}),O.selection().order(),u.decorate()(O,S,k)})};return T(p,u),C(p,d,"key"),p},Cf=function(){var u=null,c=Mf(),d=function(b){var x=c.mapping(),h=c.series(),g=c.xScale(),y=c.yScale();h.forEach(function(_,S){var k=x(b,S,h);_.context(u).xScale(g).yScale(y);var N;_.decorate?(N=_.decorate(),_.decorate(function(O,B,F){c.decorate()(O,b,S),N(O,B,F)})):c.decorate()(u,b,S),_(k),N&&_.decorate(N)})};return d.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],d):u},T(d,c),d},C0=function(){var u=null,c=1,d=Mf(),p=function(x){var h=d.mapping(),g=d.series(),y=d.xScale(),_=d.yScale();g.forEach(function(S,k){var N=h(x,k,g);S.context(u).pixelRatio(c).xScale(y).yScale(_);var O;S.decorate?(O=S.decorate(),S.decorate(function(B,F,U){d.decorate()(B,x,k),O(B,F,U)})):d.decorate()(u,x,k),S(N),O&&S.decorate(O)})};return p.context=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.pixelRatio=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},T(p,d),p},A0=function(u){var c=function(){return 50},d="center",p=n.scaleBand(),b=$r({decorate:function(){},xScale:n.scaleLinear(),yScale:n.scaleLinear()});return b.offsetScaleForDatum=function(x,h,g){var y=c(h,g),_=ja(d,y),S=y/2;return p.domain(t.range(0,x.length)).range([-S+_,S+_])},b.bandwidth=function(){return arguments.length?(c=kt(arguments.length<=0?void 0:arguments[0]),b):c},b.align=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],b):d},T(b,p,V({paddingInner:"paddingOuter"})),b},k7=function(u){var c=A0(),d=ot("g","grouped"),p=function(x){It(x)&&d.transition(x),x.each(function(h,g,y){var _=d(l.select(y[g]),h);_.enter().append("g"),_.select("g").each(function(S,k,N){var O=l.select(N[k]),B=u.orient()!=="horizontal",F=function(J,ne){var re=c.offsetScaleForDatum(h,J,ne),fe=B?c.xScale():c.yScale();return fe(J)+re(k)+re.bandwidth()/2};B?(u.xScale(F),u.yScale(c.yScale())):(u.yScale(F),u.xScale(c.xScale())),u.bandwidth&&u.bandwidth(function(U,J){return c.offsetScaleForDatum(h,U,J).bandwidth()}),u.decorate(function(U,J){return c.decorate()(U,J,k)}),O.call(u)})})};return T(p,u,R("decorate","xScale","yScale")),T(p,c,R("offsetScaleForDatum")),p};function V7(u){var c=A0(),d=function(b){b.forEach(function(x,h){var g=u.orient()!=="horizontal",y=function(S,k){var N=c.offsetScaleForDatum(b,S,k),O=g?c.xScale():c.yScale();return O(S)+N(h)+N.bandwidth()/2};g?(u.xScale(y),u.yScale(c.yScale())):(u.yScale(y),u.xScale(c.xScale())),u.bandwidth&&u.bandwidth(function(_,S){return c.offsetScaleForDatum(b,_,S).bandwidth()}),u.decorate(function(_,S){return c.decorate()(_,S,h)}),u(x)})};return T(d,u,R("decorate","xScale","yScale")),T(d,c,R("offsetScaleForDatum")),d}var D7=function(){var u="vertical",c=ze(),d=Tf(),p=function(x){return x.each(function(h,g,y){u==="vertical"?d.series(h[0].map(function(_){return c})).mapping(function(_,S){return _.map(function(k){return k[S]})}):d.series(h.map(function(_){return c})).mapping(function(_,S){return _[S]}),l.select(y[g]).call(d)})};return p.series=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},T(p,d,R("series","mapping")),p},N7=function(){var u="vertical",c=$t(),d=Cf(),p=function(x){u==="vertical"?d.series(x[0].map(function(h){return c})).mapping(function(h,g){return h.map(function(y){return y[g]})}):d.series(x.map(function(h){return c})).mapping(function(h,g){return h[g]}),d(x)};return p.series=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},T(p,d,R("series","mapping")),p},E7=function(){var u="vertical",c=function(){return x0()},d=C0(),p=[],b=function(h){if(u==="vertical"){var g=p;p=h[0].map(function(_,S){return S<g.length?g[S]:c()}),d.series(p).mapping(function(_,S){return _.map(function(k){return k[S]})})}else{var y=p;p=h.map(function(_,S){return S<y.length?y[S]:c()}),d.series(p).mapping(function(_,S){return _[S]})}d(h)};return b.series=function(){for(var x=arguments.length,h=new Array(x),g=0;g<x;g++)h[g]=arguments[g];return h.length?(typeof h[0].xScale=="function"&&typeof h[0].yScale=="function"?c=function(){return h[0]}:c=h[0],p=[],b):c},b.orient=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p=[],b):u},T(b,d,R("series","mapping")),b},P7=function(c){return c.sort(t.ascending).filter(function(d,p,b){return b.indexOf(d,p+1)===-1})},L7=function(u){var c=.75,d=function(h){if(h.length<=1)return 10;h=P7(h);var g=t.pairs(h).map(function(_){return Math.abs(_[0]-_[1])}),y=t.min(g);return c*y},p=function(h,g,y){if(h.bandwidth)return h.bandwidth();var _,S=Array.isArray(g)?(_=[]).concat.apply(_,Ce(g)):g,k=S.filter(u.defined()).map(y()).map(h),N=d(k);return N},b=function(h){var g=function(_){if(u.xBandwidth&&u.yBandwidth)u.xBandwidth(p(u.xScale(),_,u.xValue)),u.yBandwidth(p(u.yScale(),_,u.yValue));else{var S=u.orient&&u.orient()==="horizontal"?u.yScale():u.xScale();u.bandwidth(p(S,_,u.crossValue))}};h instanceof l.selection?h.each(function(y,_,S){g(y),u(l.select(S[_]))}):(g(h),u(h))};return T(b,u),b.widthFraction=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],b):c},b},k0=function(){var u=function(y){return y.x},c=function(y){return y.y},d=function(y){return y.color},p=function(){return 5},b=function(){return 5},x=f.interpolateViridis,h=$r({decorate:function(){},defined:function(y,_){return Xa(u,c,d)(y,_)},xScale:n.scaleIdentity(),yScale:n.scaleIdentity()});return h.pathGenerator=Ft().x(0).y(0),h.colorScale=function(g){var y=g.map(d);return n.scaleLinear().domain([t.min(y),t.max(y)])},h.values=function(g,y){return{x:h.xScale()(u(g,y)),y:h.yScale()(c(g,y)),colorValue:d(g,y),width:b(g,y),height:p(g,y)}},h.xValues=function(){return[u]},h.yValues=function(){return[c]},h.xValue=function(){return arguments.length?(u=kt(arguments.length<=0?void 0:arguments[0]),h):u},h.yValue=function(){return arguments.length?(c=kt(arguments.length<=0?void 0:arguments[0]),h):c},h.colorValue=function(){return arguments.length?(d=kt(arguments.length<=0?void 0:arguments[0]),h):d},h.colorInterpolate=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],h):x},h.xBandwidth=function(){return arguments.length?(b=kt(arguments.length<=0?void 0:arguments[0]),h):b},h.yBandwidth=function(){return arguments.length?(p=kt(arguments.length<=0?void 0:arguments[0]),h):p},T(h,h.pathGenerator,V({horizontalAlign:"xAlign",verticalAlign:"yAlign"})),h},O7=function(){var u=k0(),c=ot("g","box"),d=function(x){return"translate("+x.x+", "+x.y+")"},p=function(x){x.each(function(h,g,y){var _=h.filter(u.defined()),S=u.colorValue(),k=u.colorInterpolate(),N=u.colorScale(_),O=c(l.select(y[g]),_);O.enter().append("path").attr("stroke","transparent"),O.attr("transform",function(B,F){return d(u.values(B,F))}).select("path").attr("d",function(B,F){return u.pathGenerator.width(u.values(B,F).width).height(u.values(B,F).height)([B])}).attr("fill",function(B,F){return k(N(S(B,F)))}),u.decorate()(O,h,g)})};return T(p,u),p},z7=function(){var u=k0(),c=function(p){var b=p.filter(u.defined()),x=u.colorInterpolate(),h=u.colorScale(b),g=u.pathGenerator.context();b.forEach(function(y,_){g.save(),g.beginPath();var S=u.values(y,_);g.translate(S.x,S.y),g.fillStyle=x(h(S.colorValue)),g.strokeStyle="transparent",u.decorate()(g,y,_),u.pathGenerator.height(S.height).width(S.width)([y]),g.fill(),g.stroke(),g.closePath(),g.restore()})};return C(c,u.pathGenerator,"context"),T(c,u),c},ma=function(u){return typeof u=="function"?u:function(){return u}},I7=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d="horizontal",p=function(S){return S.from},b=function(S){return S.to},x=function(){},h=ot("g","annotation-band"),g=Ft().horizontalAlign("center").verticalAlign("center").x(0).y(0),y=function(S){if(It(S)&&h.transition(S),d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var k=d==="horizontal",N=k?function(fe,Ne){return"translate(".concat(fe,", ").concat(Ne,")")}:function(fe,Ne){return"translate(".concat(Ne,", ").concat(fe,")")},O=k?u:c,B=k?c:u,F=O.range(),U=F[1]-F[0],J=k?"height":"width",ne=k?"width":"height",re=function(){return N((F[1]+F[0])/2,(B(b.apply(void 0,arguments))+B(p.apply(void 0,arguments)))/2)};g[ne](U),g[J](function(){return B(b.apply(void 0,arguments))-B(p.apply(void 0,arguments))}),S.each(function(fe,Ne,Ge){var je=h(l.select(Ge[Ne]),fe);je.enter().attr("transform",re).append("path").classed("band",!0),je.attr("class","annotation-band ".concat(d)).attr("transform",re).select("path").attr("d",function(qe,gt){return g([qe],gt)}),x(je,fe,Ne)})};return y.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],y):u},y.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},y.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.decorate=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],y):x},y.fromValue=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),y):p},y.toValue=function(){return arguments.length?(b=ma(arguments.length<=0?void 0:arguments[0]),y):b},y},R7=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d="horizontal",p=function(_){return _.from},b=function(_){return _.to},x=function(){},h=Ft().horizontalAlign("right").verticalAlign("top"),g=function(_){if(d!=="horizontal"&&d!=="vertical")throw new Error("Invalid orientation");var S=h.context(),k=d==="horizontal",N=k?u:c,O=k?c:u,B=N.range(),F=B[1]-B[0],U=k?"x":"y",J=k?"y":"x",ne=k?"height":"width",re=k?"width":"height";_.forEach(function(fe,Ne){S.save(),S.beginPath(),S.strokeStyle="transparent",h[J](O(p(fe))),h[U](B[0]),h[re](F),h[ne](O(b(fe))-O(p(fe))),x(S,fe,Ne),h.context(S)([fe],Ne),S.fill(),S.stroke(),S.closePath(),S.restore()})};return g.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.orient=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],g):d},g.decorate=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],g):x},g.fromValue=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),g):p},g.toValue=function(){return arguments.length?(b=ma(arguments.length<=0?void 0:arguments[0]),g):b},C(g,h,"context"),g},Af=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d=function(_){return _},p=d,b=function(){},x="horizontal",h=ot("g","annotation-line"),g=function(_){if(It(_)&&h.transition(_),x!=="horizontal"&&x!=="vertical")throw new Error("Invalid orientation");var S=x==="horizontal",k=S?function(qe,gt){return"translate(".concat(qe,", ").concat(gt,")")}:function(qe,gt){return"translate(".concat(gt,", ").concat(qe,")")},N=S?"x2":"y2",O=S?u:c,B=S?c:u,F=S?"left-handle":"bottom-handle",U=S?"right-handle":"top-handle",J=S?"9":"0",ne=S?"0":"9",re=S?"0.32em":"0.71em",fe=S?"start":"middle",Ne=O.range(),Ge=function(){return k(Ne[0],B(d.apply(void 0,arguments)))},je=Ne[1]-Ne[0];_.each(function(qe,gt,an){var Bn=h(l.select(an[gt]),qe),xr=Bn.enter().attr("transform",Ge).style("stroke","#bbb");xr.append("line").attr(N,je),xr.append("g").classed(F,!0).style("stroke","none"),xr.append("g").classed(U,!0).style("stroke","none").attr("transform",k(je,0)).append("text").attr("text-anchor",fe).attr("x",J).attr("y",ne).attr("dy",re),Bn.attr("class","annotation-line ".concat(x)),Bn.attr("transform",Ge),Bn.select("line").attr(N,je),Bn.select("g."+U).attr("transform",k(je,0)),Bn.select("text").text(p),b(Bn,qe,gt)})};return g.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.value=function(){return arguments.length?(d=ma(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.orient=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],g):x},g};function F7(){var u=function(F){return F.x},c=function(F){return F.y},d=n.scaleIdentity(),p=n.scaleIdentity(),b=function(){},x=ot("g","annotation-crosshair"),h=w0(),g=Af(),y=Af().orient("vertical"),_=n.scaleIdentity(),S=n.scaleIdentity(),k=Tf().series([g,y,h]).xScale(_).yScale(S).mapping(function(B){return[B]}),N=function(F){It(F)&&x.transition(F),F.each(function(U,J,ne){var re=x(l.select(ne[J]),U);re.enter().style("pointer-events","none"),_.range(d.range()),S.range(p.range()),h.crossValue(u).mainValue(c),g.value(c),y.value(u),re.call(k),b(re,U,J)})};N.x=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],N):u},N.y=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],N):c},N.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],N):d},N.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],N):p},N.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],N):b};var O=H("label");return T(N,g,O,z("y")),T(N,y,O,z("x")),N}var kf=function(){var u=n.scaleIdentity(),c=n.scaleIdentity(),d=function(_){return _},p=d,b=function(){},x="horizontal",h=s.line(),g=function(_){if(x!=="horizontal"&&x!=="vertical")throw new Error("Invalid orientation");var S=x==="horizontal",k=h.context(),N=S?u:c,O=S?c:u,B=N.domain(),F=S?9:0,U=S?0:9,J=S?"left":"center",ne=S?"middle":"hanging";_.forEach(function(re,fe){k.save(),k.beginPath(),k.strokeStyle="#bbb",k.fillStyle="#000",k.textAlign=J,k.textBaseline=ne,b(k,re,fe),h.context(k)(B.map(function(je){var qe=[N(je),O(d(re))];return S?qe:qe.reverse()}));var Ne=S?N(B[1]):O(d(re)),Ge=S?O(d(re)):N(B[1]);k.fillText(p(re),Ne+F,Ge+U),k.fill(),k.stroke(),k.closePath(),k.restore()})};return g.xScale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],g):u},g.yScale=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],g):c},g.value=function(){return arguments.length?(d=ma(arguments.length<=0?void 0:arguments[0]),g):d},g.label=function(){return arguments.length?(p=ma(arguments.length<=0?void 0:arguments[0]),g):p},g.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],g):b},g.orient=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],g):x},C(g,h,"context"),g},B7=function(){var u=function(O){return O.x},c=function(O){return O.y},d=n.scaleIdentity(),p=n.scaleIdentity(),b=_0(),x=kf(),h=kf().orient("vertical"),g=n.scaleIdentity(),y=n.scaleIdentity(),_=Cf().series([x,h,b]).xScale(g).yScale(y).mapping(function(N){return[N]}),S=function(O){O.forEach(function(B){g.range(d.range()),y.range(p.range()),b.crossValue(u).mainValue(c),x.value(c),h.value(u),_(B)})};S.x=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],S):u},S.y=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],S):c},S.xScale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],S):d},S.yScale=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],S):p};var k=H("label","decorate");return T(S,x,k,z("y")),T(S,h,k,z("x")),C(S,b,"decorate"),C(S,_,"context"),S},Al=function(){var u=n.scaleIdentity(),c=[10],d=null,p=function(){var x;return d??(u.ticks?(x=u).ticks.apply(x,Ce(c)):u.domain())};return p.scale=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],p):u},p.ticks=function(){for(var b=arguments.length,x=new Array(b),h=0;h<b;h++)x[h]=arguments[h];return c=x,p},p.tickArguments=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],p):c},p.tickValues=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],p):d},p},V0=function(c){return c},H7=function(){var u=function(){},c=function(){},d=Al(),p=Al(),b=ot("line","gridline-y").key(V0),x=ot("line","gridline-x").key(V0),h=function(y){It(y)&&(b.transition(y),x.transition(y)),y.each(function(_,S,k){var N=k[S],O=l.select(k[S]),B=d.scale(),F=p.scale(),U=N.__x_scale__||B;N.__x_scale__=B.copy();var J=d(),ne=b(O,J);ne.enter().attr("x1",U).attr("x2",U).attr("y1",F.range()[0]).attr("y2",F.range()[1]).attr("stroke","#bbb"),ne.attr("x1",B).attr("x2",B).attr("y1",F.range()[0]).attr("y2",F.range()[1]),ne.exit().attr("x1",B).attr("x2",B),u(ne,J,S);var re=N.__y_scale__||F;N.__y_scale__=F.copy();var fe=p(),Ne=x(O,fe);Ne.enter().attr("y1",re).attr("y2",re).attr("x1",B.range()[0]).attr("x2",B.range()[1]).attr("stroke","#bbb"),Ne.attr("y1",F).attr("y2",F).attr("x1",B.range()[0]).attr("x2",B.range()[1]),Ne.exit().attr("y1",F).attr("y2",F),c(Ne,fe,S)})};return h.yDecorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},h.xDecorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],h):u},T(h,b,V({key:"xKey"})),T(h,x,V({key:"yKey"})),T(h,d,z("x")),T(h,p,z("y")),h},Y7=function(){var u=function(){},c=function(){},d=Al(),p=Al(),b=s.line(),x=function(){var g=b.context(),y=d.scale(),_=p.scale();d().forEach(function(S,k){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",u(g,S,k),b.context(g)(_.domain().map(function(N){return[y(S),_(N)]})),g.fill(),g.stroke(),g.closePath(),g.restore()}),p().forEach(function(S,k){g.save(),g.beginPath(),g.strokeStyle="#bbb",g.fillStyle="transparent",c(g,S,k),b.context(g)(y.domain().map(function(N){return[y(N),_(S)]})),g.fill(),g.stroke(),g.closePath(),g.restore()})};return x.yDecorate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x.xDecorate=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],x):u},T(x,d,z("x")),T(x,p,z("y")),C(x,b,"context"),x},W7=function(c){return c},D0=function(c,d,p,b){return c[d]?c[d].apply(c,p):b},N0=function(c){var d;return(d=c.tickValues())!==null&&d!==void 0?d:D0(c.scale(),"ticks",c.tickArguments(),c.scale().domain())},E0=function(c){var d;return(d=c.tickFormat())!==null&&d!==void 0?d:D0(c.scale(),"tickFormat",c.tickArguments(),W7)},$7=function(c){return c},P0=function(c,d){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},b=[10],x=null,h=function(){},g=null,y=6,_=6,S=3,k=s.line(),N=ot("g","tick").key($7),O=ot("path","domain"),B=function(){return{offset:[0,_+S]}},F=function(){return{path:[[0,0],[0,_]]}},U=p.labelOffset||B,J=p.tickPath||F,ne=function(qe,gt){var an=0;return qe.bandwidth&&(an=qe.bandwidth()/2,qe.round()&&(an=Math.round(an))),function(Bn){return gt(qe(Bn)+an,0)}},re=function(qe,gt){return Ne()?"translate(".concat(gt,", ").concat(qe,")"):"translate(".concat(qe,", ").concat(gt,")")},fe=function(qe){return Ne()?qe.map(function(gt){return[gt[1],gt[0]]}):qe},Ne=function(){return c==="left"||c==="right"},Ge=function je(qe){It(qe)&&(N.transition(qe),O.transition(qe)),qe.each(function(gt,an,Bn){var xr=Bn[an],Zo=l.select(xr);xr.__scale__||Zo.attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",c==="right"?"start":c==="left"?"end":"middle");var zf=xr.__scale__||d;xr.__scale__=d.copy();var Za=N0(je),vt=E0(je),Qi=c==="bottom"||c==="right"?1:-1,gn=function(wt){var Lt=Q(wt,2),un=Lt[0],Un=Lt[1];return[un,Qi*Un]},wr=d.range(),ha=fe([[wr[0],Qi*y],[wr[0],0],[wr[1],0],[wr[1],Qi*y]]),Ut=O(Zo,[gt]);Ut.enter().attr("stroke","#000"),Ut.attr("d",k(ha));var _r=N(Zo,Za),Ko=Za.map(function(it,wt){return U(it,wt,Za)}),on=Za.map(function(it,wt){return J(it,wt,Za)});_r.enter().attr("transform",ne(zf,re)).append("path").attr("stroke","#000"),_r.enter().append("text").attr("transform",function(it,wt){return re.apply(void 0,Ce(gn(Ko[wt].offset)))}).attr("fill","#000"),_r.exit().attr("transform",ne(d,re)),_r.select("path").attr("visibility",function(it,wt){return on[wt].hidden&&"hidden"}).attr("d",function(it,wt){return k(fe(on[wt].path.map(gn)))}),_r.select("text").attr("visibility",function(it,wt){return Ko[wt].hidden&&"hidden"}).attr("transform",function(it,wt){return re.apply(void 0,Ce(gn(Ko[wt].offset)))}).attr("dy",function(){var it="0em";return Ne()?it="0.32em":c==="bottom"&&(it="0.71em"),it}).text(vt),_r.attr("transform",ne(d,re)),h(_r,gt,an)})};return Ge.tickFormat=function(){return arguments.length?(g=arguments.length<=0?void 0:arguments[0],Ge):g},Ge.tickSize=function(){return arguments.length?(_=y=Number(arguments.length<=0?void 0:arguments[0]),Ge):_},Ge.tickSizeInner=function(){return arguments.length?(_=Number(arguments.length<=0?void 0:arguments[0]),Ge):_},Ge.tickSizeOuter=function(){return arguments.length?(y=Number(arguments.length<=0?void 0:arguments[0]),Ge):y},Ge.tickPadding=function(){return arguments.length?(S=arguments.length<=0?void 0:arguments[0],Ge):S},Ge.decorate=function(){return arguments.length?(h=arguments.length<=0?void 0:arguments[0],Ge):h},Ge.scale=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],Ge):d},Ge.ticks=function(){for(var je=arguments.length,qe=new Array(je),gt=0;gt<je;gt++)qe[gt]=arguments[gt];return b=[].concat(qe),Ge},Ge.tickArguments=function(){return arguments.length?(b=(arguments.length<=0?void 0:arguments[0])==null?[]:Ce(arguments.length<=0?void 0:arguments[0]),Ge):b!==null?b.slice():null},Ge.tickValues=function(){return arguments.length?(x=(arguments.length<=0?void 0:arguments[0])==null?[]:Ce(arguments.length<=0?void 0:arguments[0]),Ge):x!==null?x.slice():null},Ge.orient=function(){return c},Ge},kl=function(c,d){var p=!1,b=function(y,_,S){var k=0,N=x.tickSizeInner()+x.tickPadding(),O=!1;if(p){var B=d(y),F=_<S.length-1?d(S[_+1]):d.range()[1];k=(F-B)/2,N=x.tickPadding(),O=_===S.length-1&&B===F}return{offset:[k,N],hidden:O}},x=P0(c,d,{labelOffset:b}),h=function(y){return x(y)};return h.tickCenterLabel=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},T(h,x),h},L0=function(c){return kl("top",c)},O0=function(c){return kl("bottom",c)},z0=function(c){return kl("left",c)},I0=function(c){return kl("right",c)},Vl=function(c,d){var p=null,b=function(S,k,N){if(d.step)return d.step();var O=d(S);return k<N.length-1?d(N[k+1])/O:(d.range()[1]-O)*2},x=function(S,k,N){var O=0;return p?O=p(S,k):O=b(S,k,N)/2,{path:[[O,0],[O,g.tickSizeInner()]],hidden:k===N.length-1}},h=function(){return{offset:[0,g.tickPadding()]}},g=P0(c,d,{labelOffset:h,tickPath:x}),y=function(S){g(S)};return y.tickOffset=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],y):p},T(y,g),y},U7=function(c){return Vl("top",c)},q7=function(c){return Vl("bottom",c)},G7=function(c){return Vl("left",c)},X7=function(c){return Vl("right",c)},R0=function(u){var c=function(p){var b=N0(u),x=E0(u),h=b.map(x),g=p.append("text"),y=h.map(function(k){return g.text(k).node().getBBox()}),_=Math.max.apply(Math,Ce(y.map(function(k){return k.height}))),S=Math.max.apply(Math,Ce(y.map(function(k){return k.width})));return g.remove(),{maxHeight:_,maxWidth:S,labelCount:h.length}};return c},j7=function(u){var c="auto",d=function(){},p=function(){return u.orient()==="left"||u.orient()==="right"},b=function(){return u.orient()==="top"||u.orient()==="left"?-1:1},x=function(){switch(u.orient()){case"top":case"right":return"start";default:return"end"}},h=function(S){var k=R0(u)(S),N=k.maxHeight,O=k.maxWidth,B=k.labelCount,F=B*O,U;if(c==="auto"){var J=u.scale().range()[1];U=J<F?90*Math.min(1,(F/J-.8)/2):0}else U=c;return{rotate:p()?Math.floor(b()*(90-U)):Math.floor(-U),maxHeight:N,maxWidth:O,anchor:U?x():"middle"}},g=function(S){var k=h(S),N=k.rotate,O=k.maxHeight,B=k.anchor,F=S.select("text"),U=F.attr("transform"),J=b()*Math.floor(O/2),ne=p()?"translate(".concat(J,", 0)"):"translate(0, ".concat(J,")");F.style("text-anchor",B).attr("transform","".concat(U," ").concat(ne," rotate(").concat(N," 0 0)"))},y=function(S){u(S)};return u.decorate(function(_){g(_),d(_)}),y.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],y):d},y.labelRotate=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],y):c},T(y,u,R("decorate")),y},Q7=function(u){var c="auto",d=function(){},p=function(){return u.orient()==="left"||u.orient()==="right"},b=function(){return u.orient()==="top"||u.orient()==="left"?-1:1},x=function(y){var _=R0(u)(y),S=_.maxHeight,k=_.maxWidth,N=_.labelCount,O=u.scale().range()[1],B=c==="auto"?Math.floor((p()?S:k)*N/O)+1:c,F=y.select("text"),U=F.attr("transform"),J=function(re){return p()?"translate(".concat(re%B*k*b(),", 0)"):"translate(0, ".concat(re%B*S*b(),")")};F.attr("transform",function(ne,re){return"".concat(U," ").concat(J(re))})},h=function(y){return u(y)};return u.decorate(function(g){x(g),d(g)}),h.decorate=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],h):d},h.labelOffsetDepth=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],h):c},T(h,u,R("decorate")),h},Vf="__d3fc-elements__",Xo=function(c){return c[Vf]||{}},F0=function(c,d){return void(c[Vf]=d)},Z7=function(c){return delete c[Vf]},K7=function(c){return c.tagName==="D3FC-GROUP"?[c].concat(Ce(c.querySelectorAll("d3fc-canvas, d3fc-group, d3fc-svg"))):[c]},J7=function(c){var d=Xo(c),p=d.width,b=d.height,x=c.useDevicePixelRatio&&window.devicePixelRatio!=null?window.devicePixelRatio:1,h=c.clientWidth*x,g=c.clientHeight*x,y=h!==p||g!==b,_=c.children[0];F0(c,{pixelRatio:x,width:h,height:g,resized:y,child:_})};if(typeof CustomEvent!="function")throw new Error("d3fc-element depends on CustomEvent. Make sure that you load a polyfill in older browsers. See README.");var e9=function(c){var d=Xo(c),p=new CustomEvent("measure",{detail:d});c.dispatchEvent(p)},t9=function(c){var d=Xo(c),p=new CustomEvent("draw",{detail:d});c.dispatchEvent(p)},n9=function(u){var c=u.map(K7).reduce(function(d,p){return d.concat(p)});c.forEach(J7),c.forEach(e9),c.forEach(t9)},B0=function(c){return Xo(c.ownerDocument).queue||[]},r9=function(c,d){var p=Xo(c.ownerDocument),b=p.requestId;b==null&&(b=requestAnimationFrame(function(){var x=B0(c);n9(x),a9(c)})),F0(c.ownerDocument,{queue:d,requestId:b})},a9=function(c){return Z7(c.ownerDocument)},H0=function(c,d){var p=c;do if(p.parentNode===d)return!0;while(p=p.parentNode);return!1},Df=function(u){var c=B0(u),d=c.indexOf(u)>-1;if(!d){var p=c.some(function(x){return H0(u,x)});if(!p){var b=c.filter(function(x){return!H0(x,u)});b.push(u),r9(u,b)}}};if(typeof HTMLElement!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var i9=function(c){c.__measureListener__==null&&(c.__measureListener__=function(d){return c.setMeasurements(d.detail)},c.addEventListener("measure",c.__measureListener__))},o9=function(c){c.__measureListener__!=null&&(c.removeEventListener("measure",c.__measureListener__),c.__measureListener__=null)},Y0=function(u,c){return function(d){ie(b,d);var p=me(b);function b(){return te(this,b),p.apply(this,arguments)}return pe(b,[{key:"attributeChangedCallback",value:function(h){switch(h){case"use-device-pixel-ratio":this.requestRedraw();break}}},{key:"connectedCallback",value:function(){this.childNodes.length===0&&this.appendChild(u()),i9(this)}},{key:"disconnectedCallback",value:function(){o9(this)}},{key:"setMeasurements",value:function(h){var g=h.width,y=h.height,_=K(this.childNodes),S=_[0],k=_.slice(1);if(k.length>0)throw new Error("A d3fc-svg/canvas element must only contain a single svg/canvas element.");c(this,S,{width:g,height:y})}},{key:"requestRedraw",value:function(){Df(this)}},{key:"useDevicePixelRatio",get:function(){return this.hasAttribute("use-device-pixel-ratio")&&this.getAttribute("use-device-pixel-ratio")!=="false"},set:function(h){h&&!this.useDevicePixelRatio?this.setAttribute("use-device-pixel-ratio",""):!h&&this.useDevicePixelRatio&&this.removeAttribute("use-device-pixel-ratio"),this.requestRedraw()}}],[{key:"observedAttributes",get:function(){return["use-device-pixel-ratio"]}}]),b}(X(HTMLElement))},u9=function(u){ie(d,u);var c=me(d);function d(){return te(this,d),c.apply(this,arguments)}return pe(d,[{key:"setWebglViewport",get:function(){return this.hasAttribute("set-webgl-viewport")&&this.getAttribute("set-webgl-viewport")!=="false"},set:function(b){b&&!this.setWebglViewport?this.setAttribute("set-webgl-viewport",""):!b&&this.setWebglViewport&&this.removeAttribute("set-webgl-viewport"),this.requestRedraw()}}]),d}(Y0(function(){return document.createElement("canvas")},function(u,c,d){var p=d.width,b=d.height;if(c.setAttribute("width",p),c.setAttribute("height",b),u.setWebglViewport){var x=c.getContext("webgl");x.viewport(0,0,p,b)}})),Nf=function(c){c.autoResize?l9(c):W0(c)},l9=function(c){c.__autoResizeListener__==null&&(c.__autoResizeListener__=function(){return Df(c)},addEventListener("resize",c.__autoResizeListener__))},W0=function(c){c.__autoResizeListener__!=null&&(removeEventListener("resize",c.__autoResizeListener__),c.__autoResizeListener__=null)},c9=function(u){ie(d,u);var c=me(d);function d(){return te(this,d),c.apply(this,arguments)}return pe(d,[{key:"connectedCallback",value:function(){Nf(this)}},{key:"disconnectedCallback",value:function(){W0(this)}},{key:"requestRedraw",value:function(){Df(this)}},{key:"attributeChangedCallback",value:function(b){switch(b){case"auto-resize":Nf(this);break}}},{key:"autoResize",get:function(){return this.hasAttribute("auto-resize")&&this.getAttribute("auto-resize")!=="false"},set:function(b){b&&!this.autoResize?this.setAttribute("auto-resize",""):!b&&this.autoResize&&this.removeAttribute("auto-resize"),Nf(this)}}],[{key:"observedAttributes",get:function(){return["auto-resize"]}}]),d}(X(HTMLElement)),s9=Y0(function(){return document.createElementNS("http://www.w3.org/2000/svg","svg")},function(u,c,d){var p=d.width,b=d.height;c.setAttribute("viewBox","0 0 ".concat(p," ").concat(b))}),$0="d3fc-canvas,d3fc-svg{position:relative;display:block}d3fc-canvas>canvas,d3fc-svg>svg{position:absolute;height:100%;width:100%}d3fc-svg>svg{overflow:visible}",jo=document.createElement("style");if(jo.setAttribute("type","text/css"),document.querySelector("head").appendChild(jo),jo.styleSheet?jo.styleSheet.cssText+=$0:jo.textContent+=$0,(typeof customElements>"u"?"undefined":we(customElements))!=="object"||typeof customElements.define!="function")throw new Error("d3fc-element depends on Custom Elements (v1). Make sure that you load a polyfill in older browsers. See README.");var Ef=[],Pf=function(c,d){customElements.get(c)?Ef.push(c):customElements.define(c,d)};Pf("d3fc-canvas",u9),Pf("d3fc-group",c9),Pf("d3fc-svg",s9),Ef.length>0&&console.warn('The d3fc components "'.concat(Ef.join(", "),'" is/are already registered on window. Be aware that this can create compatibility issues if different versions are used.'));var f9=function(){var u=m.dispatch("point");function c(b){var x=l.pointer(b);u.call("point",this,[{x:x[0],y:x[1]}])}function d(){u.call("point",this,[])}var p=function(x){x.on("mouseenter.pointer",c).on("mousemove.pointer",c).on("mouseleave.pointer",d)};return C(p,u,"on"),p},d9=function(){var u="",c="vertical",d=function(g,y){return Number(g[y])},p=function(g){return Object.keys(g[0]).filter(function(y){return y!==u}).map(function(y){var _=g.filter(function(S){return S[y]}).map(function(S){var k=[S[u],d(S,y)];return k.data=S,k});return _.key=y,_})},b=function(g){return g.map(function(y){var _=Object.keys(y).filter(function(S){return S!==u}).map(function(S){var k=[S,d(y,S)];return k.data=y,k});return _.key=y[u],_})},x=function(g){return c==="vertical"?p(g):b(g)};return x.key=function(){return arguments.length?(u=arguments.length<=0?void 0:arguments[0],x):u},x.value=function(){return arguments.length?(d=arguments.length<=0?void 0:arguments[0],x):d},x.orient=function(){return arguments.length?(c=arguments.length<=0?void 0:arguments[0],x):c},x},U0=function(){for(var u={},c=function(_){for(var S=0,k=Object.keys(u);S<k.length;S++){var N=k[S];_[N].apply(null,u[N])}return _},d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];for(var x=function(){var _=g[h];c[_]=function(){for(var S=arguments.length,k=new Array(S),N=0;N<S;N++)k[N]=arguments[N];return k.length?(u[_]=k,c):u[_]}},h=0,g=p;h<g.length;h++)x();return c},q0=`d3fc-group.cartesian-chart{width:100%;height:100%;overflow:hidden;display:grid;display:-ms-grid;grid-template-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-columns:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);grid-template-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);-ms-grid-rows:minmax(1em,max-content) auto 1fr auto minmax(1em,max-content);}
d3fc-group.cartesian-chart>.top-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:1;-ms-grid-row:1;}
d3fc-group.cartesian-chart>.top-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:2;-ms-grid-row:2;}
d3fc-group.cartesian-chart>.left-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:1;-ms-grid-column:1;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.left-axis{width:3em;grid-column:2;-ms-grid-column:2;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.plot-area{overflow:hidden;grid-column:3;-ms-grid-column:3;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-axis{width:3em;grid-column:4;-ms-grid-column:4;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.right-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:5;-ms-grid-column:5;grid-row:3;-ms-grid-row:3;}
d3fc-group.cartesian-chart>.bottom-axis{height:2em;grid-column:3;-ms-grid-column:3;grid-row:4;-ms-grid-row:4;}
d3fc-group.cartesian-chart>.bottom-label{align-self:center;-ms-grid-column-align:center;justify-self:center;-ms-grid-row-align:center;grid-column:3;-ms-grid-column:3;grid-row:5;-ms-grid-row:5;}
d3fc-group.cartesian-chart>.y-label{display:flex;transform:rotate(-90deg);width:1em;white-space:nowrap;justify-content:center;}`,Qo=document.createElement("style");Qo.setAttribute("type","text/css"),document.querySelector("head").appendChild(Qo),Qo.styleSheet?Qo.styleSheet.cssText+=q0:Qo.textContent+=q0;var Pn=function(c){return typeof c=="function"?c:function(){return c}},G0=function(){var u=m9.apply(void 0,arguments),c=u.xScale,d=u.yScale,p=u.xAxis,b=u.yAxis,x=Pn(""),h=Pn(""),g=Pn(""),y=Pn(null),_=Pn(null),S=Pn("right"),k=Pn("bottom"),N=null,O=null,B=null,F=!1,U=!0,J=U0("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),ne=function(){},re=U0("tickFormat","ticks","tickArguments","tickSize","tickSizeInner","tickSizeOuter","tickValues","tickPadding","tickCenterLabel"),fe=function(){},Ne=function(){},Ge=ot("d3fc-group","cartesian-chart"),je=ot("d3fc-canvas","webgl-plot-area"),qe=ot("d3fc-canvas","canvas-plot-area"),gt=ot("d3fc-svg","svg-plot-area"),an=ot("d3fc-svg","x-axis").key(function(gn){return gn}),Bn=ot("d3fc-svg","y-axis").key(function(gn){return gn}),xr=ot("div","chart-label"),Zo=ot("div","x-label").key(function(gn){return gn}),zf=ot("div","y-label").key(function(gn){return gn}),Za=function(wr){return function(ha){return It(wr)?ha.transition(wr):ha}},vt=function(wr){var ha=Za(wr);wr.each(function(Ut,_r,Ko){var on=Ge(l.select(Ko[_r]),[Ut]);on.enter().attr("auto-resize",""),xr(on,[k(Ut)]).attr("class",function(it){return it==="top"?"chart-label bottom-label":"chart-label top-label"}).style("margin-bottom",function(it){return it==="top"?0:"1em"}).style("margin-top",function(it){return it==="top"?"1em":0}).text(x(Ut)),Zo(on,[k(Ut)]).attr("class",function(it){return"x-label ".concat(it,"-label")}).text(h(Ut)),zf(on,[S(Ut)]).attr("class",function(it){return"y-label ".concat(it,"-label")}).text(g(Ut)),je(on,N?[Ut]:[]).attr("set-webgl-viewport","").classed("plot-area",!0).attr("use-device-pixel-ratio",U).on("draw",function(it,wt){var Lt=it.detail,un=Lt.child,Un=Lt.pixelRatio;N.context(F?null:un.getContext("webgl")).pixelRatio(Un).xScale(c).yScale(d),N(wt)}),on.select(".webgl-plot-area>canvas").on("webglcontextlost",function(it){console.warn("WebGLRenderingContext lost"),it.preventDefault(),F=!0,on.node().requestRedraw()}).on("webglcontextrestored",function(){console.info("WebGLRenderingContext restored"),F=!1,on.node().requestRedraw()}),qe(on,O?[Ut]:[]).classed("plot-area",!0).attr("use-device-pixel-ratio",U).on("draw",function(it,wt){var Lt=it.detail,un=Lt.child,Un=Lt.pixelRatio,pa=un.getContext("2d");pa.save(),U&&pa.scale(Un,Un),O.context(pa).xScale(c).yScale(d),O(wt),pa.restore()}),gt(on,B?[Ut]:[]).classed("plot-area",!0).on("draw",function(it,wt){var Lt=it.detail.child;B.xScale(c).yScale(d),ha(l.select(Lt).datum(wt)).call(B)}),an(on,[k(Ut)]).attr("class",function(it){return"x-axis ".concat(it,"-axis")}).style("height",y(Ut)).on("measure",function(it,wt){var Lt=it.detail,un=Lt.width,Un=Lt.height,pa=Lt.child;wt==="top"&&l.select(pa).attr("viewBox","0 ".concat(-Un," ").concat(un," ").concat(Un)),c.range([0,un])}).on("draw",function(it,wt){var Lt=it.detail.child,un=wt==="top"?p.top(c):p.bottom(c);un.decorate(ne),ha(l.select(Lt).datum(wt)).call(J(un))}),Bn(on,[S(Ut)]).attr("class",function(it){return"y-axis ".concat(it,"-axis")}).style("width",_(Ut)).on("measure",function(it,wt){var Lt=it.detail,un=Lt.width,Un=Lt.height,pa=Lt.child;wt==="left"&&l.select(pa).attr("viewBox","".concat(-un," 0 ").concat(un," ").concat(Un)),d.range([Un,0])}).on("draw",function(it,wt){var Lt=it.detail.child,un=wt==="left"?b.left(d):b.right(d);un.decorate(fe),ha(l.select(Lt).datum(wt)).call(re(un))}),on.each(function(it,wt,Lt){return Lt[wt].requestRedraw()}),Ne(on,Ut,_r)})},Qi=R(/range\w*/,/tickFormat/);return T(vt,c,Qi,z("x")),T(vt,d,Qi,z("y")),T(vt,J,z("x")),T(vt,re,z("y")),vt.xOrient=function(){return arguments.length?(k=Pn(arguments.length<=0?void 0:arguments[0]),vt):k},vt.yOrient=function(){return arguments.length?(S=Pn(arguments.length<=0?void 0:arguments[0]),vt):S},vt.xDecorate=function(){return arguments.length?(ne=arguments.length<=0?void 0:arguments[0],vt):ne},vt.yDecorate=function(){return arguments.length?(fe=arguments.length<=0?void 0:arguments[0],vt):fe},vt.chartLabel=function(){return arguments.length?(x=Pn(arguments.length<=0?void 0:arguments[0]),vt):x},vt.xLabel=function(){return arguments.length?(h=Pn(arguments.length<=0?void 0:arguments[0]),vt):h},vt.yLabel=function(){return arguments.length?(g=Pn(arguments.length<=0?void 0:arguments[0]),vt):g},vt.xAxisHeight=function(){return arguments.length?(y=Pn(arguments.length<=0?void 0:arguments[0]),vt):y},vt.yAxisWidth=function(){return arguments.length?(_=Pn(arguments.length<=0?void 0:arguments[0]),vt):_},vt.webglPlotArea=function(){return arguments.length?(N=arguments.length<=0?void 0:arguments[0],vt):N},vt.canvasPlotArea=function(){return arguments.length?(O=arguments.length<=0?void 0:arguments[0],vt):O},vt.svgPlotArea=function(){return arguments.length?(B=arguments.length<=0?void 0:arguments[0],vt):B},vt.decorate=function(){return arguments.length?(Ne=arguments.length<=0?void 0:arguments[0],vt):Ne},vt.useDevicePixelRatio=function(){return arguments.length?(U=arguments.length<=0?void 0:arguments[0],vt):U},vt},m9=function(){for(var c={xScale:n.scaleIdentity(),yScale:n.scaleIdentity(),xAxis:{bottom:O0,top:L0},yAxis:{right:I0,left:z0}},d=arguments.length,p=new Array(d),b=0;b<d;b++)p[b]=arguments[b];return p.length===1&&!p[0].domain&&!p[0].range?Object.assign(c,p[0]):Object.assign(c,{xScale:p[0]||c.xScale,yScale:p[1]||c.yScale})},X0=function(c){return typeof c=="function"?c:function(){return c}},j0=function(u,c){return function(){var d=X0(""),p=c,b=function(){},x=G0.apply(void 0,arguments),h=function(y){u(x,p),x.decorate(function(_,S,k){_.enter().select(".x-label").style("height","1em").style("line-height","1em");var N=x.yOrient()(S);_.enter().append("div").attr("class","y-label-container").style("grid-column",N==="left"?1:5).style("-ms-grid-column",N==="left"?1:5).style("grid-row",3).style("-ms-grid-row",3).style("width","1em").style("display","flex").style("align-items","center").style("justify-content","center").style("white-space","nowrap").append("div").attr("class","y-label").style("transform","rotate(-90deg)"),_.select(".y-label-container>.y-label").text(d),b(_,S,k)}),y.call(x)};return T(h,x,H(/^x/,/^y/,"chartLabel")),h.yLabel=function(){return arguments.length?(d=X0(arguments.length<=0?void 0:arguments[0]),h):d},h.plotArea=function(){return arguments.length?(p=arguments.length<=0?void 0:arguments[0],h):p},h.decorate=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],h):b},h}},h9=j0(function(u,c){return u.svgPlotArea(c)},ze),p9=j0(function(u,c){return u.canvasPlotArea(c)},$t),g9=function(c){switch(c){case"x":return w.brushX();case"y":return w.brushY();case"xy":return w.brush()}},Lf=function(c){return[c[1],c[0]]},Of=function(c){var d=g9(c),p=m.dispatch("brush","start","end"),b=n.scaleIdentity(),x=n.scaleIdentity(),h=ot("g","brush"),g=function(F,U,J){switch(c){case"x":return F.map(U);case"y":return F.map(J);case"xy":return[[U(F[0][0]),J(F[0][1])],[U(F[1][0]),J(F[1][1])]]}},y=function(F){return g(F,n.scaleLinear().domain(b.range()).invert,n.scaleLinear().domain(Lf(x.range())).invert)},_=function(F){return g(F,n.scaleLinear().domain(b.range()),n.scaleLinear().domain(Lf(x.range())))},S=function(F){var U=n.scaleLinear().domain(b.domain());if(c==="x")return F.map(U.invert);if(c==="xy")return[U.invert(F[0][0]),U.invert(F[1][0])]},k=function(F){var U=n.scaleLinear().domain(Lf(x.domain()));if(c==="y")return[F[1],F[0]].map(U.invert);if(c==="xy")return[U.invert(F[1][1]),U.invert(F[0][1])]},N=function(F){if(!(F.sourceEvent&&F.sourceEvent.type==="draw"))if(F.selection){var U=_(F.selection);p.call(F.type,{},{selection:U,xDomain:S(U),yDomain:k(U)})}else p.call(F.type,{},{})},O=function(F){F.each(function(U,J,ne){d.extent([[b.range()[0],x.range()[1]],[b.range()[1],x.range()[0]]]),d.on("end",function(fe){return N(fe)}).on("brush",function(fe){return N(fe)}).on("start",function(fe){return N(fe)});var re=h(l.select(ne[J]),[U]);re.call(d).call(d.move,U?y(U):null)})};return O.xScale=function(){return arguments.length?(b=arguments.length<=0?void 0:arguments[0],O):b},O.yScale=function(){return arguments.length?(x=arguments.length<=0?void 0:arguments[0],O):x},C(O,p,"on"),C(O,d,"filter","handleSize"),O},v9=function(){return Of("x")},y9=function(){return Of("y")},b9=function(){return Of("xy")},Q0=function(c,d){if(c==null&&d==null)return!0;var p=c.domain(),b=d.domain();return p.length===b.length&&p.every(function(x,h){var g;return x?.valueOf()===((g=b[h])===null||g===void 0?void 0:g.valueOf())})},x9=function(c,d){return v.zoomIdentity.scale(c.k/d.k).translate(c.x-d.x,c.y-d.y)},Dl=Symbol("d3fc-domain-zoom"),w9=function(){var u=m.dispatch("zoom"),c=v.zoom().on("zoom",function(p){var b=p.transform,x=this,h=b,g=x[Dl],y=g.originalXScale,_=g.previousXScale,S=g.xScale,k=g.originalYScale,N=g.previousYScale,O=g.yScale,B=g.previousTransform;(!Q0(_,S)||!Q0(N,O))&&(y=S?.copy(),k=O?.copy(),h=x9(b,B)),S!=null&&(_=h.rescaleX(y.range(S.range())),S.domain(_.domain())),O!=null&&(N=h.rescaleY(k.range(O.range())),O.domain(N.domain())),B=h,x[Dl]={originalXScale:y,previousXScale:_,xScale:S,originalYScale:k,previousYScale:N,yScale:O,previousTransform:B},h!==b&&c.transform(l.select(x),h),u.call("zoom")}),d=function(b){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;x==null&&h==null&&console.warn("Without an xScale and/or yScale specified, this component won't do anything. Perhaps you forgot to specify them e.g. selection.call(zoom, x, y)?"),b.each(function(g,y,_){var S=_[y][Dl];S!=null&&S.xScale===x&&S.yScale===h&&console.warn("This component should only be called on a selection once. Perhaps you're missing an .enter()?");var k=x?.copy(),N=h?.copy();_[y][Dl]={originalXScale:k,previousXScale:k,xScale:x,originalYScale:N,previousYScale:N,yScale:h,previousTransform:v.zoomIdentity}}).call(c)};return C(d,u,"on"),C(d,c,"extent","filter","wheelDelta","touchable","clickDistance","tapDistance","duration","interpolate"),d};e.annotationCanvasBand=R7,e.annotationCanvasCrosshair=B7,e.annotationCanvasGridline=Y7,e.annotationCanvasLine=kf,e.annotationSvgBand=I7,e.annotationSvgCrosshair=F7,e.annotationSvgGridline=H7,e.annotationSvgLine=Af,e.autoBandwidth=L7,e.axisBottom=O0,e.axisLabelOffset=Q7,e.axisLabelRotate=j7,e.axisLeft=z0,e.axisOrdinalBottom=q7,e.axisOrdinalLeft=G7,e.axisOrdinalRight=X7,e.axisOrdinalTop=U7,e.axisRight=I0,e.axisTop=L0,e.brush=b9,e.brushX=v9,e.brushY=y9,e.bucket=ar,e.chartCanvasCartesian=p9,e.chartCartesian=G0,e.chartSvgCartesian=h9,e.dataJoin=ot,e.discontinuityIdentity=L,e.discontinuityRange=q,e.discontinuitySkipUtcWeekends=E,e.discontinuitySkipUtcWeeklyPattern=xt,e.discontinuitySkipWeekends=Te,e.discontinuitySkipWeeklyPattern=We,e.effectivelyZero=hn,e.exclude=R,e.extentDate=G,e.extentLinear=Ue,e.extentTime=G,e.feedGdax=tn,e.group=d9,e.include=H,e.includeMap=V,e.indicatorBollingerBands=Ie,e.indicatorElderRay=Yn,e.indicatorEnvelope=Jt,e.indicatorExponentialMovingAverage=de,e.indicatorForceIndex=Vn,e.indicatorMacd=$,e.indicatorMovingAverage=mn,e.indicatorRelativeStrengthIndex=Hn,e.indicatorStochasticOscillator=kn,e.isTransition=It,e.largestTriangleOneBucket=ca,e.largestTriangleThreeBucket=Wn,e.layoutAnnealing=df,e.layoutBoundingBox=pf,e.layoutGreedy=sf,e.layoutLabel=Wr,e.layoutRemoveOverlaps=hf,e.layoutTextLabel=lf,e.modeMedian=qo,e.pointer=f9,e.prefix=z,e.randomFinancial=Ee,e.randomGeometricBrownianMotion=se,e.randomSkipWeekends=en,e.rebind=C,e.rebindAll=T,e.scaleDiscontinuous=ge,e.seriesCanvasArea=v7,e.seriesCanvasBar=f7,e.seriesCanvasBoxPlot=S7,e.seriesCanvasCandlestick=x7,e.seriesCanvasErrorBar=h7,e.seriesCanvasGrouped=V7,e.seriesCanvasHeatmap=z7,e.seriesCanvasLine=$t,e.seriesCanvasMulti=Cf,e.seriesCanvasOhlc=C7,e.seriesCanvasPoint=_0,e.seriesCanvasRepeat=N7,e.seriesSvgArea=g7,e.seriesSvgBar=s7,e.seriesSvgBoxPlot=_7,e.seriesSvgCandlestick=b7,e.seriesSvgErrorBar=m7,e.seriesSvgGrouped=k7,e.seriesSvgHeatmap=O7,e.seriesSvgLine=ze,e.seriesSvgMulti=Tf,e.seriesSvgOhlc=T7,e.seriesSvgPoint=w0,e.seriesSvgRepeat=D7,e.seriesWebglArea=y7,e.seriesWebglBar=d7,e.seriesWebglBoxPlot=M7,e.seriesWebglCandlestick=w7,e.seriesWebglErrorBar=p7,e.seriesWebglLine=x0,e.seriesWebglMulti=C0,e.seriesWebglOhlc=A7,e.seriesWebglPoint=c7,e.seriesWebglRepeat=E7,e.shapeBar=Ft,e.shapeBoxPlot=nn,e.shapeCandlestick=Yt,e.shapeErrorBar=Tn,e.shapeOhlc=at,e.webglAdjacentAttribute=fa,e.webglAttribute=ut,e.webglBaseAttribute=Tl,e.webglBufferBuilder=pn,e.webglElementIndices=Qa,e.webglFillColor=u7,e.webglProgramBuilder=$n,e.webglScaleLinear=Cl,e.webglScaleLog=p0,e.webglScaleMapper=da,e.webglScalePow=g0,e.webglSeriesArea=o0,e.webglSeriesBar=f0,e.webglSeriesBoxPlot=h0,e.webglSeriesCandlestick=m0,e.webglSeriesErrorBar=d0,e.webglSeriesLine=c0,e.webglSeriesOhlc=s0,e.webglSeriesPoint=l0,e.webglShaderBuilder=Ct,e.webglStrokeColor=l7,e.webglSymbolMapper=y0,e.webglTypes=yt,e.webglUniform=Dt,e.zoom=w9,Object.defineProperty(e,"__esModule",{value:!0})})});var R4=ir(Tg=>{var Xi=Xi||{};Xi.stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var n=e.visit(t.orientation);return n&&(n+=", "),t.type+"("+n+e.visit(t.colorStops)+")"},visit_shape:function(t){var n=t.value,r=e.visit(t.at),a=e.visit(t.style);return a&&(n+=" "+a),r&&(n+=" at "+r),n},"visit_default-radial":function(t){var n="",r=e.visit(t.at);return r&&(n+=r),n},"visit_extent-keyword":function(t){var n=t.value,r=e.visit(t.at);return r&&(n+=" at "+r),n},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,n){var r=t,a=e.visit(n.length);return a&&(r+=" "+a),r},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var n="",r=t.length;return t.forEach(function(a,i){n+=e.visit(a),i<r-1&&(n+=", ")}),n},visit:function(t){if(!t)return"";var n="";if(t instanceof Array)return e.visit_array(t,n);if(t.type){var r=e["visit_"+t.type];if(r)return r(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return e.visit(t)}}();var Xi=Xi||{};Xi.parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function n(ae){var pe=new Error(t+": "+ae);throw pe.source=t,pe}function r(){var ae=a();return t.length>0&&n("Invalid input not EOF"),ae}function a(){return H(i)}function i(){return o("linear-gradient",e.linearGradient,s)||o("repeating-linear-gradient",e.repeatingLinearGradient,s)||o("radial-gradient",e.radialGradient,w)||o("repeating-radial-gradient",e.repeatingRadialGradient,w)}function o(ae,pe,ie){return l(pe,function(be){var Le=ie();return Le&&(we(e.comma)||n("Missing comma before color stops")),{type:ae,orientation:Le,colorStops:H(V)}})}function l(ae,pe){var ie=we(ae);if(ie){we(e.startCall)||n("Missing (");var be=pe(ie);return we(e.endCall)||n("Missing )"),be}}function s(){return f()||m()}function f(){return $("directional",e.sideOrCorner,1)}function m(){return $("angular",e.angleValue,1)}function w(){var ae,pe=v(),ie;return pe&&(ae=[],ae.push(pe),ie=t,we(e.comma)&&(pe=v(),pe?ae.push(pe):t=ie)),ae}function v(){var ae=M()||C();if(ae)ae.at=T();else{var pe=A();if(pe){ae=pe;var ie=T();ie&&(ae.at=ie)}else{var be=D();be&&(ae={type:"default-radial",at:be})}}return ae}function M(){var ae=$("shape",/^(circle)/i,0);return ae&&(ae.style=de()||A()),ae}function C(){var ae=$("shape",/^(ellipse)/i,0);return ae&&(ae.style=ue()||A()),ae}function A(){return $("extent-keyword",e.extentKeywords,1)}function T(){if($("position",/^at/,0)){var ae=D();return ae||n("Missing positioning value"),ae}}function D(){var ae=R();if(ae.x||ae.y)return{type:"position",value:ae}}function R(){return{x:ue(),y:ue()}}function H(ae){var pe=ae(),ie=[];if(pe)for(ie.push(pe);we(e.comma);)pe=ae(),pe?ie.push(pe):n("One extra comma");return ie}function V(){var ae=I();return ae||n("Expected color definition"),ae.length=ue(),ae}function I(){return j()||ve()||Z()||z()}function z(){return $("literal",e.literalColor,0)}function j(){return $("hex",e.hexColor,1)}function Z(){return l(e.rgbColor,function(){return{type:"rgb",value:H(ye)}})}function ve(){return l(e.rgbaColor,function(){return{type:"rgba",value:H(ye)}})}function ye(){return we(e.number)[1]}function ue(){return $("%",e.percentageValue,1)||Ie()||de()}function Ie(){return $("position-keyword",e.positionKeywords,1)}function de(){return $("px",e.pixelValue,1)||$("em",e.emValue,1)}function $(ae,pe,ie){var be=we(pe);if(be)return{type:ae,value:be[ie]}}function we(ae){var pe,ie;return ie=/^[\n\r\t\s]+/.exec(t),ie&&te(ie[0].length),pe=ae.exec(t),pe&&te(pe[0].length),pe}function te(ae){t=t.substr(ae)}return function(ae){return t=ae.toString(),r()}}();Tg.parse=Xi.parse;Tg.stringify=Xi.stringify});Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null});var p5=pt(_t(),1);var Ra=pt(_t(),1);var Nt={none:"none",ordinal:"ordinal",time:"time",linear:"linear"},Eo=e=>{let t="crossValues",n=null,r=null,a=()=>{let i=o=>{let l=n?e[t].filter(s=>n==s.name):e[t];return t=="crossValues"&&l.length>1?!1:l.some(s=>o.includes(s.type))};return e[t].length===0?Nt.none:r!=Nt.time&&i(["datetime","date"])?Nt.time:r!=Nt.linear&&i(["integer","float"])||r==Nt.ordinal?Nt.linear:Nt.ordinal};return a.settingName=(...i)=>i.length?(t=i[0],a):t,a.settingValue=(...i)=>i.length?(n=i[0],a):n,a.excludeType=(...i)=>i.length?(r=i[0],a):r,a};var Gp={};Ln(Gp,{domain:()=>gk,labelFunction:()=>qp,scale:()=>pk});Tr();xp();Kr();To();Kc();bm();hp();_m();function X3(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ri(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ir(e){return e=Ri(Math.abs(e)),e?e[1]:NaN}function j3(e,t){return function(n,r){for(var a=n.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>r&&(l=Math.max(1,r-s)),i.push(n.substring(a-=l,a+l)),!((s+=l+1)>r));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function Q3(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var ZC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Na(e){if(!(t=ZC.exec(e)))throw new Error("invalid format: "+e);var t;return new ws({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Na.prototype=ws.prototype;function ws(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ws.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Z3(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var Mp;function K3(e,t){var n=Ri(e,t);if(!n)return e+"";var r=n[0],a=n[1],i=a-(Mp=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ri(e,Math.max(0,t+i-1))[0]}function Tp(e,t){var n=Ri(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}var Cp={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:X3,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Tp(e*100,t),r:Tp,s:K3,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ap(e){return e}var J3=Array.prototype.map,e8=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function t8(e){var t=e.grouping===void 0||e.thousands===void 0?Ap:j3(J3.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?Ap:Q3(J3.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"\u2212":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function f(w){w=Na(w);var v=w.fill,M=w.align,C=w.sign,A=w.symbol,T=w.zero,D=w.width,R=w.comma,H=w.precision,V=w.trim,I=w.type;I==="n"?(R=!0,I="g"):Cp[I]||(H===void 0&&(H=12),V=!0,I="g"),(T||v==="0"&&M==="=")&&(T=!0,v="0",M="=");var z=A==="$"?n:A==="#"&&/[boxX]/.test(I)?"0"+I.toLowerCase():"",j=A==="$"?r:/[%p]/.test(I)?o:"",Z=Cp[I],ve=/[defgprs%]/.test(I);H=H===void 0?6:/[gprs]/.test(I)?Math.max(1,Math.min(21,H)):Math.max(0,Math.min(20,H));function ye(ue){var Ie=z,de=j,$,we,te;if(I==="c")de=Z(ue)+de,ue="";else{ue=+ue;var ae=ue<0||1/ue<0;if(ue=isNaN(ue)?s:Z(Math.abs(ue),H),V&&(ue=Z3(ue)),ae&&+ue==0&&C!=="+"&&(ae=!1),Ie=(ae?C==="("?C:l:C==="-"||C==="("?"":C)+Ie,de=(I==="s"?e8[8+Mp/3]:"")+de+(ae&&C==="("?")":""),ve){for($=-1,we=ue.length;++$<we;)if(te=ue.charCodeAt($),48>te||te>57){de=(te===46?a+ue.slice($+1):ue.slice($))+de,ue=ue.slice(0,$);break}}}R&&!T&&(ue=t(ue,1/0));var pe=Ie.length+ue.length+de.length,ie=pe<D?new Array(D-pe+1).join(v):"";switch(R&&T&&(ue=t(ie+ue,ie.length?D-de.length:1/0),ie=""),M){case"<":ue=Ie+ue+de+ie;break;case"=":ue=Ie+ie+ue+de;break;case"^":ue=ie.slice(0,pe=ie.length>>1)+Ie+ue+de+ie.slice(pe);break;default:ue=ie+Ie+ue+de;break}return i(ue)}return ye.toString=function(){return w+""},ye}function m(w,v){var M=f((w=Na(w),w.type="f",w)),C=Math.max(-8,Math.min(8,Math.floor(Ir(v)/3)))*3,A=Math.pow(10,-C),T=e8[8+C/3];return function(D){return M(A*D)+T}}return{format:f,formatPrefix:m}}var _s,Ea,Ss;kp({thousands:",",grouping:[3],currency:["$",""]});function kp(e){return _s=t8(e),Ea=_s.format,Ss=_s.formatPrefix,_s}function Vp(e){return Math.max(0,-Ir(Math.abs(e)))}function Dp(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ir(t)/3)))*3-Ir(Math.abs(e)))}function Np(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ir(t)-Ir(e))+1}function KC(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function n8(){return this.eachAfter(KC)}function r8(e,t){let n=-1;for(let r of this)e.call(t,r,++n,this);return this}function a8(e,t){for(var n=this,r=[n],a,i,o=-1;n=r.pop();)if(e.call(t,n,++o,this),a=n.children)for(i=a.length-1;i>=0;--i)r.push(a[i]);return this}function i8(e,t){for(var n=this,r=[n],a=[],i,o,l,s=-1;n=r.pop();)if(a.push(n),i=n.children)for(o=0,l=i.length;o<l;++o)r.push(i[o]);for(;n=a.pop();)e.call(t,n,++s,this);return this}function o8(e,t){let n=-1;for(let r of this)if(e.call(t,r,++n,this))return r}function u8(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,a=r&&r.length;--a>=0;)n+=r[a].value;t.value=n})}function l8(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function c8(e){for(var t=this,n=JC(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var a=r.length;e!==n;)r.splice(a,0,e),e=e.parent;return r}function JC(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),a=null;for(e=n.pop(),t=r.pop();e===t;)a=e,e=n.pop(),t=r.pop();return a}function s8(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function f8(){return Array.from(this)}function d8(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function m8(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*h8(){var e=this,t,n=[e],r,a,i;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(a=0,i=r.length;a<i;++a)n.push(r[a]);while(n.length)}function Pa(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=nA)):t===void 0&&(t=tA);for(var n=new nl(e),r,a=[n],i,o,l,s;r=a.pop();)if((o=t(r.data))&&(s=(o=Array.from(o)).length))for(r.children=o,l=s-1;l>=0;--l)a.push(i=o[l]=new nl(o[l])),i.parent=r,i.depth=r.depth+1;return n.eachBefore(aA)}function eA(){return Pa(this).eachBefore(rA)}function tA(e){return e.children}function nA(e){return Array.isArray(e)?e[1]:null}function rA(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function aA(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function nl(e){this.data=e,this.depth=this.height=0,this.parent=null}nl.prototype=Pa.prototype={constructor:nl,count:n8,each:r8,eachAfter:i8,eachBefore:a8,find:o8,sum:u8,sort:l8,path:c8,ancestors:s8,descendants:f8,leaves:d8,links:m8,copy:eA,[Symbol.iterator]:h8};function p8(e){if(typeof e!="function")throw new Error;return e}function Po(){return 0}function Lo(e){return function(){return e}}function Ms(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Ts(e,t,n,r,a){for(var i=e.children,o,l=-1,s=i.length,f=e.value&&(r-t)/e.value;++l<s;)o=i[l],o.y0=n,o.y1=a,o.x0=t,o.x1=t+=o.value*f}function Ep(){var e=1,t=1,n=0,r=!1;function a(o){var l=o.height+1;return o.x0=o.y0=n,o.x1=e,o.y1=t/l,o.eachBefore(i(t,l)),r&&o.eachBefore(Ms),o}function i(o,l){return function(s){s.children&&Ts(s,s.x0,o*(s.depth+1)/l,s.x1,o*(s.depth+2)/l);var f=s.x0,m=s.y0,w=s.x1-n,v=s.y1-n;w<f&&(f=w=(f+w)/2),v<m&&(m=v=(m+v)/2),s.x0=f,s.y0=m,s.x1=w,s.y1=v}}return a.round=function(o){return arguments.length?(r=!!o,a):r},a.size=function(o){return arguments.length?(e=+o[0],t=+o[1],a):[e,t]},a.padding=function(o){return arguments.length?(n=+o,a):n},a}function g8(e,t,n,r,a){for(var i=e.children,o,l=-1,s=i.length,f=e.value&&(a-n)/e.value;++l<s;)o=i[l],o.x0=t,o.x1=r,o.y0=n,o.y1=n+=o.value*f}var iA=(1+Math.sqrt(5))/2;function oA(e,t,n,r,a,i){for(var o=[],l=t.children,s,f,m=0,w=0,v=l.length,M,C,A=t.value,T,D,R,H,V,I,z;m<v;){M=a-n,C=i-r;do T=l[w++].value;while(!T&&w<v);for(D=R=T,I=Math.max(C/M,M/C)/(A*e),z=T*T*I,V=Math.max(R/z,z/D);w<v;++w){if(T+=f=l[w].value,f<D&&(D=f),f>R&&(R=f),z=T*T*I,H=Math.max(R/z,z/D),H>V){T-=f;break}V=H}o.push(s={value:T,dice:M<C,children:l.slice(m,w)}),s.dice?Ts(s,n,r,a,A?r+=C*T/A:i):g8(s,n,r,A?n+=M*T/A:a,i),A-=T,m=w}return o}var v8=function e(t){function n(r,a,i,o,l){oA(t,r,a,i,o,l)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(iA);function Pp(){var e=v8,t=!1,n=1,r=1,a=[0],i=Po,o=Po,l=Po,s=Po,f=Po;function m(v){return v.x0=v.y0=0,v.x1=n,v.y1=r,v.eachBefore(w),a=[0],t&&v.eachBefore(Ms),v}function w(v){var M=a[v.depth],C=v.x0+M,A=v.y0+M,T=v.x1-M,D=v.y1-M;T<C&&(C=T=(C+T)/2),D<A&&(A=D=(A+D)/2),v.x0=C,v.y0=A,v.x1=T,v.y1=D,v.children&&(M=a[v.depth+1]=i(v)/2,C+=f(v)-M,A+=o(v)-M,T-=l(v)-M,D-=s(v)-M,T<C&&(C=T=(C+T)/2),D<A&&(A=D=(A+D)/2),e(v,C,A,T,D))}return m.round=function(v){return arguments.length?(t=!!v,m):t},m.size=function(v){return arguments.length?(n=+v[0],r=+v[1],m):[n,r]},m.tile=function(v){return arguments.length?(e=p8(v),m):e},m.padding=function(v){return arguments.length?m.paddingInner(v).paddingOuter(v):m.paddingInner()},m.paddingInner=function(v){return arguments.length?(i=typeof v=="function"?v:Lo(+v),m):i},m.paddingOuter=function(v){return arguments.length?m.paddingTop(v).paddingRight(v).paddingBottom(v).paddingLeft(v):m.paddingTop()},m.paddingTop=function(v){return arguments.length?(o=typeof v=="function"?v:Lo(+v),m):o},m.paddingRight=function(v){return arguments.length?(l=typeof v=="function"?v:Lo(+v),m):l},m.paddingBottom=function(v){return arguments.length?(s=typeof v=="function"?v:Lo(+v),m):s},m.paddingLeft=function(v){return arguments.length?(f=typeof v=="function"?v:Lo(+v),m):f},m}function Lp(e,t,n,r,a){var i=e.children,o,l=i.length,s,f=new Array(l+1);for(f[0]=s=o=0;o<l;++o)f[o+1]=s+=i[o].value;m(0,l,e.value,t,n,r,a);function m(w,v,M,C,A,T,D){if(w>=v-1){var R=i[w];R.x0=C,R.y0=A,R.x1=T,R.y1=D;return}for(var H=f[w],V=M/2+H,I=w+1,z=v-1;I<z;){var j=I+z>>>1;f[j]<V?I=j+1:z=j}V-f[I-1]<f[I]-V&&w+1<I&&--I;var Z=f[I]-H,ve=M-Z;if(T-C>D-A){var ye=M?(C*ve+T*Z)/M:T;m(w,I,Z,C,A,ye,D),m(I,v,ve,ye,A,T,D)}else{var ue=M?(A*ve+D*Z)/M:D;m(w,I,Z,C,A,T,ue),m(I,v,ve,C,ue,T,D)}}}Jn();ic();mm();Tr();function La(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function y8(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}Tr();var Op=Symbol("implicit");function gr(){var e=new ur,t=[],n=[],r=Op;function a(i){let o=e.get(i);if(o===void 0){if(r!==Op)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new ur;for(let o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return gr(t,n).unknown(r)},La.apply(a,arguments),a}function ra(){var e=gr().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,l=!1,s=0,f=0,m=.5;delete e.unknown;function w(){var v=t().length,M=a<r,C=M?a:r,A=M?r:a;i=(A-C)/Math.max(1,v-s+f*2),l&&(i=Math.floor(i)),C+=(A-C-i*(v-s))*m,o=i*(1-s),l&&(C=Math.round(C),o=Math.round(o));var T=ii(v).map(function(D){return C+i*D});return n(M?T.reverse():T)}return e.domain=function(v){return arguments.length?(t(v),w()):t()},e.range=function(v){return arguments.length?([r,a]=v,r=+r,a=+a,w()):[r,a]},e.rangeRound=function(v){return[r,a]=v,r=+r,a=+a,l=!0,w()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(v){return arguments.length?(l=!!v,w()):l},e.padding=function(v){return arguments.length?(s=Math.min(1,f=+v),w()):s},e.paddingInner=function(v){return arguments.length?(s=Math.min(1,v),w()):s},e.paddingOuter=function(v){return arguments.length?(f=+v,w()):f},e.align=function(v){return arguments.length?(m=Math.max(0,Math.min(1,v)),w()):m},e.copy=function(){return ra(t(),[r,a]).round(l).paddingInner(s).paddingOuter(f).align(m)},La.apply(w(),arguments)}Tr();Tr();Jn();function zp(e){return function(){return e}}function Ip(e){return+e}var b8=[0,1];function aa(e){return e}function Rp(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:zp(isNaN(t)?NaN:.5)}function uA(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function lA(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Rp(a,r),i=n(o,i)):(r=Rp(r,a),i=n(i,o)),function(l){return i(r(l))}}function cA(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Rp(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(l){var s=Zi(e,l,1,r)-1;return i[s](a[s](l))}}function Cs(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function sA(){var e=b8,t=b8,n=jt,r,a,i,o=aa,l,s,f;function m(){var v=Math.min(e.length,t.length);return o!==aa&&(o=uA(e[0],e[v-1])),l=v>2?cA:lA,s=f=null,w}function w(v){return v==null||isNaN(v=+v)?i:(s||(s=l(e.map(r),t,n)))(r(o(v)))}return w.invert=function(v){return o(a((f||(f=l(t,e.map(r),fn)))(v)))},w.domain=function(v){return arguments.length?(e=Array.from(v,Ip),m()):e.slice()},w.range=function(v){return arguments.length?(t=Array.from(v),m()):t.slice()},w.rangeRound=function(v){return t=Array.from(v),n=Yu,m()},w.clamp=function(v){return arguments.length?(o=v?!0:aa,m()):o!==aa},w.interpolate=function(v){return arguments.length?(n=v,m()):n},w.unknown=function(v){return arguments.length?(i=v,w):i},function(v,M){return r=v,a=M,m()}}function rl(){return sA()(aa,aa)}Tr();function Fp(e,t,n,r){var a=ti(e,t,n),i;switch(r=Na(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Dp(a,o))&&(r.precision=i),Ss(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Np(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Vp(a))&&(r.precision=i-(r.type==="%")*2);break}}return Ea(r)}function Bp(e){var t=e.domain;return e.ticks=function(n){var r=t();return ei(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return Fp(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],l=r[i],s,f,m=10;for(l<o&&(f=o,o=l,l=f,f=a,a=i,i=f);m-- >0;){if(f=lr(o,l,n),f===s)return r[a]=o,r[i]=l,t(r);if(f>0)o=Math.floor(o/f)*f,l=Math.ceil(l/f)*f;else if(f<0)o=Math.ceil(o*f)/f,l=Math.floor(l*f)/f;else break;s=f}return e},e}function ia(){var e=rl();return e.copy=function(){return Cs(e,ia())},La.apply(e,arguments),Bp(e)}function Hp(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}bu();bu();function Yp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Wp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function al(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function $p(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,f=il(a),m=ol(a),w=il(i),v=ol(i),M=il(o),C=ol(o),A=il(l),T=ol(l),D=il(s),R=ol(s),H={a:ae,A:pe,b:ie,B:be,c:null,d:T8,e:T8,f:PA,g:WA,G:UA,H:DA,I:NA,j:EA,L:D8,m:LA,M:OA,p:Le,q:Pe,Q:k8,s:V8,S:zA,u:IA,U:RA,V:FA,w:BA,W:HA,x:null,X:null,y:YA,Y:$A,Z:qA,"%":A8},V={a:Se,A:He,b:X,B:he,c:null,d:C8,e:C8,f:QA,g:ok,G:lk,H:GA,I:XA,j:jA,L:E8,m:ZA,M:KA,p:le,q:me,Q:k8,s:V8,S:JA,u:ek,U:tk,V:nk,w:rk,W:ak,x:null,X:null,y:ik,Y:uk,Z:ck,"%":A8},I={a:ye,A:ue,b:Ie,B:de,c:$,d:S8,e:S8,f:CA,g:_8,G:w8,H:M8,I:M8,j:_A,L:TA,m:wA,M:SA,p:ve,q:xA,Q:kA,s:VA,S:MA,u:pA,U:gA,V:vA,w:hA,W:yA,x:we,X:te,y:_8,Y:w8,Z:bA,"%":AA};H.x=z(n,H),H.X=z(r,H),H.c=z(t,H),V.x=z(n,V),V.X=z(r,V),V.c=z(t,V);function z(Q,K){return function(Ce){var Me=[],Xe=-1,Je=0,mt=Q.length,ft,Ye,rt;for(Ce instanceof Date||(Ce=new Date(+Ce));++Xe<mt;)Q.charCodeAt(Xe)===37&&(Me.push(Q.slice(Je,Xe)),(Ye=x8[ft=Q.charAt(++Xe)])!=null?ft=Q.charAt(++Xe):Ye=ft==="e"?" ":"0",(rt=K[ft])&&(ft=rt(Ce,Ye)),Me.push(ft),Je=Xe+1);return Me.push(Q.slice(Je,Xe)),Me.join("")}}function j(Q,K){return function(Ce){var Me=al(1900,void 0,1),Xe=Z(Me,Q,Ce+="",0),Je,mt;if(Xe!=Ce.length)return null;if("Q"in Me)return new Date(Me.Q);if("s"in Me)return new Date(Me.s*1e3+("L"in Me?Me.L:0));if(K&&!("Z"in Me)&&(Me.Z=0),"p"in Me&&(Me.H=Me.H%12+Me.p*12),Me.m===void 0&&(Me.m="q"in Me?Me.q:0),"V"in Me){if(Me.V<1||Me.V>53)return null;"w"in Me||(Me.w=1),"Z"in Me?(Je=Wp(al(Me.y,0,1)),mt=Je.getUTCDay(),Je=mt>4||mt===0?mi.ceil(Je):mi(Je),Je=ao.offset(Je,(Me.V-1)*7),Me.y=Je.getUTCFullYear(),Me.m=Je.getUTCMonth(),Me.d=Je.getUTCDate()+(Me.w+6)%7):(Je=Yp(al(Me.y,0,1)),mt=Je.getDay(),Je=mt>4||mt===0?fi.ceil(Je):fi(Je),Je=kr.offset(Je,(Me.V-1)*7),Me.y=Je.getFullYear(),Me.m=Je.getMonth(),Me.d=Je.getDate()+(Me.w+6)%7)}else("W"in Me||"U"in Me)&&("w"in Me||(Me.w="u"in Me?Me.u%7:"W"in Me?1:0),mt="Z"in Me?Wp(al(Me.y,0,1)).getUTCDay():Yp(al(Me.y,0,1)).getDay(),Me.m=0,Me.d="W"in Me?(Me.w+6)%7+Me.W*7-(mt+5)%7:Me.w+Me.U*7-(mt+6)%7);return"Z"in Me?(Me.H+=Me.Z/100|0,Me.M+=Me.Z%100,Wp(Me)):Yp(Me)}}function Z(Q,K,Ce,Me){for(var Xe=0,Je=K.length,mt=Ce.length,ft,Ye;Xe<Je;){if(Me>=mt)return-1;if(ft=K.charCodeAt(Xe++),ft===37){if(ft=K.charAt(Xe++),Ye=I[ft in x8?K.charAt(Xe++):ft],!Ye||(Me=Ye(Q,Ce,Me))<0)return-1}else if(ft!=Ce.charCodeAt(Me++))return-1}return Me}function ve(Q,K,Ce){var Me=f.exec(K.slice(Ce));return Me?(Q.p=m.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function ye(Q,K,Ce){var Me=M.exec(K.slice(Ce));return Me?(Q.w=C.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function ue(Q,K,Ce){var Me=w.exec(K.slice(Ce));return Me?(Q.w=v.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function Ie(Q,K,Ce){var Me=D.exec(K.slice(Ce));return Me?(Q.m=R.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function de(Q,K,Ce){var Me=A.exec(K.slice(Ce));return Me?(Q.m=T.get(Me[0].toLowerCase()),Ce+Me[0].length):-1}function $(Q,K,Ce){return Z(Q,t,K,Ce)}function we(Q,K,Ce){return Z(Q,n,K,Ce)}function te(Q,K,Ce){return Z(Q,r,K,Ce)}function ae(Q){return o[Q.getDay()]}function pe(Q){return i[Q.getDay()]}function ie(Q){return s[Q.getMonth()]}function be(Q){return l[Q.getMonth()]}function Le(Q){return a[+(Q.getHours()>=12)]}function Pe(Q){return 1+~~(Q.getMonth()/3)}function Se(Q){return o[Q.getUTCDay()]}function He(Q){return i[Q.getUTCDay()]}function X(Q){return s[Q.getUTCMonth()]}function he(Q){return l[Q.getUTCMonth()]}function le(Q){return a[+(Q.getUTCHours()>=12)]}function me(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var K=z(Q+="",H);return K.toString=function(){return Q},K},parse:function(Q){var K=j(Q+="",!1);return K.toString=function(){return Q},K},utcFormat:function(Q){var K=z(Q+="",V);return K.toString=function(){return Q},K},utcParse:function(Q){var K=j(Q+="",!0);return K.toString=function(){return Q},K}}}var x8={"-":"",_:" ",0:"0"},Qt=/^\s*\d+/,fA=/^%/,dA=/[\\^$*+?|[\]().{}]/g;function Tt(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function mA(e){return e.replace(dA,"\\$&")}function il(e){return new RegExp("^(?:"+e.map(mA).join("|")+")","i")}function ol(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function hA(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function pA(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function gA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function vA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function yA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function w8(e,t,n){var r=Qt.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function _8(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function bA(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function xA(e,t,n){var r=Qt.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function wA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function S8(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function _A(e,t,n){var r=Qt.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function M8(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function SA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function MA(e,t,n){var r=Qt.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function TA(e,t,n){var r=Qt.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function CA(e,t,n){var r=Qt.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function AA(e,t,n){var r=fA.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function kA(e,t,n){var r=Qt.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function VA(e,t,n){var r=Qt.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function T8(e,t){return Tt(e.getDate(),t,2)}function DA(e,t){return Tt(e.getHours(),t,2)}function NA(e,t){return Tt(e.getHours()%12||12,t,2)}function EA(e,t){return Tt(1+kr.count(zn(e),e),t,3)}function D8(e,t){return Tt(e.getMilliseconds(),t,3)}function PA(e,t){return D8(e,t)+"000"}function LA(e,t){return Tt(e.getMonth()+1,t,2)}function OA(e,t){return Tt(e.getMinutes(),t,2)}function zA(e,t){return Tt(e.getSeconds(),t,2)}function IA(e){var t=e.getDay();return t===0?7:t}function RA(e,t){return Tt(Vr.count(zn(e)-1,e),t,2)}function N8(e){var t=e.getDay();return t>=4||t===0?Xr(e):Xr.ceil(e)}function FA(e,t){return e=N8(e),Tt(Xr.count(zn(e),e)+(zn(e).getDay()===4),t,2)}function BA(e){return e.getDay()}function HA(e,t){return Tt(fi.count(zn(e)-1,e),t,2)}function YA(e,t){return Tt(e.getFullYear()%100,t,2)}function WA(e,t){return e=N8(e),Tt(e.getFullYear()%100,t,2)}function $A(e,t){return Tt(e.getFullYear()%1e4,t,4)}function UA(e,t){var n=e.getDay();return e=n>=4||n===0?Xr(e):Xr.ceil(e),Tt(e.getFullYear()%1e4,t,4)}function qA(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tt(t/60|0,"0",2)+Tt(t%60,"0",2)}function C8(e,t){return Tt(e.getUTCDate(),t,2)}function GA(e,t){return Tt(e.getUTCHours(),t,2)}function XA(e,t){return Tt(e.getUTCHours()%12||12,t,2)}function jA(e,t){return Tt(1+ao.count(Gn(e),e),t,3)}function E8(e,t){return Tt(e.getUTCMilliseconds(),t,3)}function QA(e,t){return E8(e,t)+"000"}function ZA(e,t){return Tt(e.getUTCMonth()+1,t,2)}function KA(e,t){return Tt(e.getUTCMinutes(),t,2)}function JA(e,t){return Tt(e.getUTCSeconds(),t,2)}function ek(e){var t=e.getUTCDay();return t===0?7:t}function tk(e,t){return Tt(xa.count(Gn(e)-1,e),t,2)}function P8(e){var t=e.getUTCDay();return t>=4||t===0?jr(e):jr.ceil(e)}function nk(e,t){return e=P8(e),Tt(jr.count(Gn(e),e)+(Gn(e).getUTCDay()===4),t,2)}function rk(e){return e.getUTCDay()}function ak(e,t){return Tt(mi.count(Gn(e)-1,e),t,2)}function ik(e,t){return Tt(e.getUTCFullYear()%100,t,2)}function ok(e,t){return e=P8(e),Tt(e.getUTCFullYear()%100,t,2)}function uk(e,t){return Tt(e.getUTCFullYear()%1e4,t,4)}function lk(e,t){var n=e.getUTCDay();return e=n>=4||n===0?jr(e):jr.ceil(e),Tt(e.getUTCFullYear()%1e4,t,4)}function ck(){return"+0000"}function A8(){return"%"}function k8(e){return+e}function V8(e){return Math.floor(+e/1e3)}var Oo,As,L8,O8,z8;Up({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Up(e){return Oo=$p(e),As=Oo.format,L8=Oo.parse,O8=Oo.utcFormat,z8=Oo.utcParse,Oo}function sk(e){return new Date(e)}function fk(e){return e instanceof Date?+e:+new Date(+e)}function I8(e,t,n,r,a,i,o,l,s,f){var m=rl(),w=m.invert,v=m.domain,M=f(".%L"),C=f(":%S"),A=f("%I:%M"),T=f("%I %p"),D=f("%a %d"),R=f("%b %d"),H=f("%B"),V=f("%Y");function I(z){return(s(z)<z?M:l(z)<z?C:o(z)<z?A:i(z)<z?T:r(z)<z?a(z)<z?D:R:n(z)<z?H:V)(z)}return m.invert=function(z){return new Date(w(z))},m.domain=function(z){return arguments.length?v(Array.from(z,fk)):v().map(sk)},m.ticks=function(z){var j=v();return e(j[0],j[j.length-1],z??10)},m.tickFormat=function(z,j){return j==null?I:f(j)},m.nice=function(z){var j=v();return(!z||typeof z.range!="function")&&(z=t(j[0],j[j.length-1],z??10)),z?v(Hp(j,z)):m},m.copy=function(){return Cs(m,I8(e,t,n,r,a,i,o,l,s,f))},m}function ks(){return La.apply(I8(jl,Ql,zn,hi,Vr,kr,ci,ui,cr,As).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}Jn();function dk(){var e=0,t=1,n,r,a,i,o=aa,l=!1,s;function f(w){return w==null||isNaN(w=+w)?s:o(a===0?.5:(w=(i(w)-n)*a,l?Math.max(0,Math.min(1,w)):w))}f.domain=function(w){return arguments.length?([e,t]=w,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(w){return arguments.length?(l=!!w,f):l},f.interpolator=function(w){return arguments.length?(o=w,f):o};function m(w){return function(v){var M,C;return arguments.length?([M,C]=v,o=w(M,C),f):[o(0),o(1)]}}return f.range=m(jt),f.rangeRound=m(Yu),f.unknown=function(w){return arguments.length?(s=w,f):s},function(w){return i=w,n=w(e),r=w(t),a=n===r?0:1/(r-n),f}}function mk(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function ul(){var e=Bp(dk()(aa));return e.copy=function(){return mk(e,ul())},y8.apply(e,arguments)}op();vn();mh();bu();as();ds();Sp();var R8=e=>{let t=n=>(r,a)=>r===void 0?a:a===void 0?r:n(r,a);return e.reduce((n,r)=>[t(Math.min)(n[0],r[0]),t(Math.max)(n[1],r[1])],[void 0,void 0])},Oa=e=>Array.isArray(e)?e.flat(1/0):[e];var F8=pt(_t(),1),hk=1,Vs=e=>{let t=n=>e(n);return(0,F8.rebindAll)(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(...n),t):Math.max(e.bandwidth(),hk),t};var B8=pt(_t(),1),H8=e=>{let t=n=>e(n);return(0,B8.rebindAll)(t,e),t.ticks=function(){return[]},t};var pk=()=>H8(Vs(ra())),gk=()=>{let e=["crossValue"],t="horizontal",n=a=>{let i=Oa(a);return r([...new Set(i.map(o=>o[e[0]]))])},r=a=>t=="vertical"?a.reverse():a;return n.valueName=(...a)=>a.length?(e=[a[0]],n):e[0],n.valueNames=(...a)=>a.length?(e=a[0],n):e,n.orient=(...a)=>a.length?(t=a[0],n):t,n},qp=e=>t=>t[e].join("|");var Es={};Ln(Es,{component:()=>bk,domain:()=>jp,labelFunction:()=>Qp,scale:()=>yk,tickFormatFunction:()=>Zp});var Rr=pt(_t(),1);Tr();var Ds=()=>{let e=[0,0],t="percent",n=r=>{switch(t){case"domain":{r[0]-=e[0],r[1]+=e[1];break}case"percent":{let a=r[1]-r[0];r[0]-=e[0]*a,r[1]+=e[1]*a;break}default:throw new Error("Unknown padUnit: "+t)}return r};return n.pad=function(...r){return r.length?(e=r[0],n):e},n.padUnit=function(...r){return r.length?(t=r[0],n):t},n};var Y8=function(){let e=[function(i){return i}],t=null,n=[],r=Ds(),a=function(o){let l=new Array(o.length),s=!0,f=!1,m,w=e[Symbol.iterator]();try{for(let M;!(s=(M=w.next()).done);s=!0){let C=M.value;for(let A=0;A<o.length;A++){let T=C(o[A],A);Array.isArray(T)?l.push.apply(l,Xp(T)):l.push(T)}}}catch(M){f=!0,m=M}finally{try{!s&&w.return&&w.return()}finally{if(f)throw m}}let v=[qn(l),Mr(l)];if(v[0]=v[0]==null?qn(n):qn([v[0]].concat(Xp(n))),v[1]=v[1]==null?Mr(n):Mr([v[1]].concat(Xp(n))),t!=null){let M=Math.max(Math.abs(v[1]-t),Math.abs(v[0]-t));v[0]=t-M,v[1]=t+M}return r(v)};return a.accessors=function(){return arguments.length?(e=arguments.length<=0?void 0:arguments[0],a):e},a.pad=function(...i){return i.length?(r.pad(i[0]),a):r.pad},a.padUnit=function(...i){return i.length?(r.padUnit(i[0]),a):r.padUnit},a.include=function(...i){return i.length?(n=i[0],a):n},a.symmetricalAbout=function(...i){return i.length?(t=i[0],a):t},a.paddingStrategy=function(...i){return i.length?(r=i[0],a):r},a},Xp=function(e){if(Array.isArray(e)){let t=Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n];return t}else return Array.from(e)};var vk=1e7,Ns=(e,t)=>{let n=Math.ceil(Math.abs(Math.log10(t-e)))+1;return r=>Math.abs(r)>=vk?Ea(".3s")(r):Number.isInteger(r)?Ea(",.0f")(r):Ea(`,.${n}f`)(r)};function zo(e){return e.getRootNode().host}function za(e){return e.closest("#container.chart")}var yk=()=>ia(),jp=()=>{let e=Y8().pad([0,.1]).padUnit("percent"),t=["crossValue"],n=i=>(e.accessors(t.map(o=>l=>parseFloat(l[o]))),a(Oa(i)));Rr.rebindAll(n,e);let r=i=>{let o=t.map(l=>i.map(s=>s[l]).sort((s,f)=>s-f).filter((s,f,m)=>f===0||s!==m[f-1]).reduce((s,f,m,w)=>m===0||s<=f-w[m-1]?s:Math.abs(f-w[m-1])));return Math.min(...o)},a=i=>{if(e.padUnit()=="domain"){let o=r(i);return e.pad([o/2,o/2])(i)}else return e(i)};return n.valueName=(...i)=>i.length?(t=[i[0]],n):t[0],n.valueNames=(...i)=>i.length?(t=i[0],n):t,n},Qp=e=>t=>t[e][0],Zp=Ns,bk=e=>{let t=null,n="horizontal",r=null,a=(f,m)=>{try{return za(f.node()).querySelector(".cartesian-chart").querySelector(`.${m}-axis`)}catch{return null}},i=f=>{let m=Re(f).select("text").node();m.style.fontSize="80%"},o=(f,m)=>{let w=f.getBoundingClientRect();m.each((v,M,C)=>{let A=Re(C[M]).node().getBoundingClientRect();(n=="vertical"&&w.width<A.width||n=="horizontal"&&w.height<A.height)&&i(C[M])})},l=(f,m,w)=>{let v=a(f,m);v&&o(v,f)},s=()=>({bottom:Rr.axisBottom,left:Rr.axisLeft,top:Rr.axisTop,right:Rr.axisRight,decorate:l});return s.domain=(...f)=>f.length?(t=f[0],s):t,s.orient=(...f)=>f.length?(n=f[0],s):n,s.settingName=(...f)=>f.length?(r=f[0],s):r,s};var Jp={};Ln(Jp,{domain:()=>wk,labelFunction:()=>Kp,scale:()=>xk});var Io=pt(_t(),1);var xk=()=>ks(),wk=()=>{let e=Io.extentTime(),t=["crossValue"],n=i=>(e.accessors(t.map(o=>l=>new Date(l[o]))),a(Oa(i)));Io.rebindAll(n,e,Io.exclude("include","paddingStrategy"));let r=i=>{let o=t.map(l=>i.map(s=>new Date(s[l]).getTime()).sort((s,f)=>s-f).filter((s,f,m)=>f===0||s!==m[f-1]).reduce((s,f,m,w)=>m===0||Math.abs(s)<=Math.abs(f-w[m-1])?Math.abs(s):Math.abs(f-w[m-1])));return Math.min(...o)},a=i=>{let o=Math.abs(r(i));return e.padUnit("domain").pad([o/2,o/2])(i)};return n.valueName=(...i)=>i.length?(t=[i[0]],n):t[0],n.valueNames=(...i)=>i.length?(t=i[0],n):t,n},Kp=e=>t=>new Date(t[e][0]);var tg={};Ln(tg,{component:()=>Mk,domain:()=>Sk,labelFunction:()=>eg,scale:()=>_k});var Ia=pt(_t(),1);var _n=pt(_t(),1);var W8=(...e)=>{let t={},n=r=>{for(let a of Object.keys(t))r[a](t[a]);return r};for(let r of e)n[r]=(...a)=>a.length?(t[r]=a[0],n):t[r];return n};var Ps=(e,t,n)=>{let r=6,a=6,i=W8("tickFormat","ticks","tickArguments","tickValues","tickPadding"),o=(...A)=>{},l=null,s=(0,_n.dataJoin)("g","group"),f=(0,_n.dataJoin)("path","domain"),m=(A,T)=>v()?`translate(${T}, ${A})`:`translate(${A}, ${T})`,w=A=>v()?A.map(T=>[T[1],T[0]]):A,v=()=>e==="left"||e==="right",M=A=>{if(!l){i(t(n).decorate(o))(A);return}A.each((T,D,R)=>{let H=R[D],V=Re(H),I=e==="bottom"||e==="right"?1:-1,z=n.range(),j=w([[z[0],I*r],[z[0],0],[z[1],0],[z[1],I*r]]);f(V,[T]).attr("d",Ca()(j)).attr("stroke","#000").attr("fill","none");let ve=s(V,l),ye=Ie=>Array.isArray(a)?a[Ie]:a,ue=Ie=>{let de=0;for(let $=0;$<Ie;$++)de+=ye($);return de};ve.attr("transform",(Ie,de)=>m(0,I*ue(de))).each((Ie,de,$)=>{let we=Re($[de]),te=C(n,Ie);i(t(te)).decorate((pe,ie)=>o(pe,ie,de)).tickSizeInner(ye(de)).tickOffset(pe=>te.step(pe)/2)(we),we.select("path.domain").attr("visibility","hidden")}),ve.exit().attr("transform",(Ie,de)=>m(0,I*ue(de)))})},C=(A,T)=>{function D(R){let H=R.domain;return H.reduce((V,I)=>V+A(I),0)/H.length}return D.ticks=()=>T,D.tickFormat=()=>R=>R.text,D.copy=()=>C(A,T),D.step=R=>R.domain.length*A.step(),(0,_n.rebindAll)(D,A,(0,_n.exclude)("ticks","step","copy")),D};return M.tickSize=(...A)=>A.length?(a=r=Number(A[0]),M):a,M.tickSizeInner=(...A)=>A.length?(a=Array.isArray(A[0])?A[0]:Number(A[0]),M):a,M.tickSizeOuter=(...A)=>A.length?(r=Number(A[0]),M):r,M.decorate=(...A)=>A.length?(o=A[0],M):o,M.groups=(...A)=>A.length?(l=A[0],M):l,(0,_n.rebindAll)(M,i),M},$8=e=>Ps("top",_n.axisOrdinalTop,e),U8=e=>Ps("bottom",_n.axisOrdinalBottom,e),q8=e=>Ps("left",_n.axisOrdinalLeft,e),G8=e=>Ps("right",_n.axisOrdinalRight,e);var _k=()=>Vs(ra()).padding(.5),Sk=()=>{let e=["crossValue"],t="horizontal",n=a=>{let i=Oa(a);return r([...Array.from(new Set(i.map(o=>o[e[0]])))])},r=a=>t=="vertical"?a.reverse():a;return n.valueName=(...a)=>a.length?(e=[a[0]],n):e[0],n.valueNames=(...a)=>a.length?(e=a[0],n):e,n.orient=(...a)=>a.length?(t=a[0],n):t,n},eg=e=>t=>t[e].join("|"),Mk=e=>{let t="horizontal",n="crossValues",r=null,a=()=>{let v=e[n].length>1,M=o(r),C=M.map(l),A=v?C.map(V=>V.size):C[0].size,T=C.reduce((V,I)=>V+I.size,0),D=V=>I=>{let z=V(I);return v&&z.groups(M).tickSizeInner(A).tickSizeOuter(T),t!=="horizontal"&&z.tickPadding(10),z},R=(V,I,z)=>{let j=C[z].rotation;t==="horizontal"&&w(V,j),s(V,j)},H=i(v);return{bottom:D(H.bottom),left:D(H.left),right:D(H.right),top:D(H.top),size:`${T+10}px`,decorate:R}},i=v=>v?{bottom:U8,left:q8,top:$8,right:G8}:{bottom:Ia.axisOrdinalBottom,left:Ia.axisOrdinalLeft,top:Ia.axisOrdinalTop,right:Ia.axisOrdinalRight},o=v=>{let M=[];return v.forEach(C=>{(C&&C.split?C.split("|"):[C]).forEach((T,D)=>{for(;M.length<=D;)M.push([]);let R=M[D];R.length>0&&R[R.length-1].text===T?R[R.length-1].domain.push(C):R.push({text:T,domain:[C]})})}),M.reverse()},l=v=>{let M=e.size.width,C=Math.max(...v.map(A=>A.text?A.text.length:0));return t==="horizontal"?v&&v.length*16>M-100?{size:C*5+10,rotation:90}:v&&v.length*(C*6+10)>M-100?{size:C*3+20,rotation:45}:{size:25,rotation:0}:{size:C*5+10,rotation:0}},s=(v,M)=>{let C=I=>{let z=I.indexOf(",")!==-1?",":" ",j=I.substring(I.indexOf("(")+1,I.indexOf(")")).split(z).map(Z=>parseInt(Z));for(;j.length<2;)j.push(0);return j},D=M?(I,z)=>I.x+I.width+14>z.x+z.width:(I,z)=>I.x<=z.x+z.width&&z.x<=I.x+I.width&&I.y<=z.y+z.height&&z.y<=I.y+I.height,R=(I,z)=>I.x>=z.x&&I.x+I.width<=z.x+z.width&&I.y>=z.y&&I.y+I.height<=z.y+z.height,H=t=="horizontal"?f(v):null,V=[];v.each((I,z,j)=>{let Z=Re(j[z]),ve=C(Z.attr("transform")),ye=Z.node().getBBox(),ue={x:ye.x+ve[0],y:ye.y+ve[1],width:ye.width,height:ye.height},de=V.some($=>D($,ue))||H&&!R(ue,H);Z.attr("visibility",de?"hidden":""),de||V.push(ue)})},f=v=>{let M=za(v.node());if(M===null)return;let C=M.querySelector(".cartesian-chart"),A=C.querySelector(".x-axis"),T=C.getBoundingClientRect(),D=A.getBoundingClientRect();return{x:T.left-D.left,width:T.width,y:T.top-D.top,height:T.height}},m=v=>v?v<60?`rotate(-${v} 5 5)`:`rotate(-${v} 3 7)`:"translate(0, 8)",w=(v,M)=>{let C=m(M),A=M?"end":"";v.each((T,D,R)=>{Re(R[D]).select("text").attr("transform",C).style("text-anchor",A)})};return a.orient=(...v)=>v.length?(t=v[0],a):t,a.settingName=(...v)=>v.length?(n=v[0],a):n,a.domain=(...v)=>v.length?(r=v[0],a):r,a};var Tk={none:Gp,ordinal:tg,time:Jp,linear:Es},Et=e=>{let t=null,n="horizontal",r="crossValues",a,i=["crossValue"],o=null,l=null,s=["include","paddingStrategy","pad"],f={},m=M=>{let C=Eo(e).excludeType(t).settingName(r).settingValue(a)(),A=Tk[C],T=A.domain().valueNames(i);s.forEach(V=>{f[V]&&T[V]&&T[V](f[V])}),T.orient&&T.orient(n);let D=T(M);o!==null&&(D=o(D)),l&&typeof D[0]=="number"&&(l[0]=D[0]=Math.min(D[0],l[0]),l[1]=D[1]=Math.max(D[1],l[1]));let R=A.hasOwnProperty("component")?w(A,D,M):v(),H=A==Es?Zp(D[0],D[1]):void 0;return{scale:A.scale(),domain:D,domainFunction:T,labelFunction:A.labelFunction,component:{bottom:R.bottom,left:R.left,top:R.top,right:R.right},size:R.size,decorate:R.decorate,label:e[r].map(V=>V.name).join(", "),tickFormatFunction:H}},w=(M,C,A)=>M.component(e).orient(n).settingName(r).domain(C)(A),v=()=>({bottom:Ra.axisBottom,left:Ra.axisLeft,top:Ra.axisTop,right:Ra.axisRight,decorate:()=>{}});return m.memoValue=(...M)=>M.length?(l=M[0],m):l,m.excludeType=(...M)=>M.length?(t=M[0],m):t,m.orient=(...M)=>M.length?(n=M[0],m):n,m.settingName=(...M)=>M.length?(r=M[0],m):r,m.settingValue=(...M)=>M.length?(a=M[0],m):a,m.valueName=(...M)=>M.length?(i=[M[0]],m):i[0],m.valueNames=(...M)=>M.length?(i=M[0],m):i,m.modifyDomain=M=>M?(o=M,m):o,s.forEach(M=>{m[M]=(...C)=>C.length?(f[M]=C[0],m):f[M]}),m};var Fi=pt(_t(),1),tr=(e,t)=>X8(e,t,(n,r)=>n.svgPlotArea(r),!1),Ro=(e,t)=>X8(e,t,(n,r)=>n.canvasPlotArea(r).svgPlotArea(Fi.seriesSvgPoint()),!0),X8=(e,t,n,r)=>{let a=null,i=null,o=Fi.chartCartesian({xScale:e.scale,yScale:t.scale,xAxis:e.component,yAxis:t.component}).xDomain(e.domain).xLabel(e.label).xAxisHeight(e.size).xDecorate(e.decorate).xTickFormat(e.tickFormatFunction).yDomain(t.domain).yLabel(t.label).yAxisWidth(t.size).yDecorate(t.decorate).yOrient("left").yTickFormat(t.tickFormatFunction);e.decorate&&o.xDecorate(e.decorate),t.decorate&&o.yDecorate(t.decorate),o.xPaddingInner&&o.xPaddingInner(1),o.xPaddingOuter&&o.xPaddingOuter(.5),o.yPaddingInner&&o.yPaddingInner(1),o.yPaddingOuter&&o.yPaddingOuter(.5),o.axisSplitter=(...s)=>s.length?(a=s[0],o):a,o.altAxis=(...s)=>s.length?(i=s[0],o):i,o.plotArea=function(...s){return s.length==0?r?this.canvasPlotArea():this.svgPlotArea():n(this,...s)};let l=o.decorate();return o.decorate((s,f)=>{let m=s.select("d3fc-svg.plot-area"),w=m.select("svg").node();w.setAttribute("viewBox",`0 0 ${m.node().clientWidth} ${m.node().clientHeight}`),w.setAttribute("preserveAspectRatio","none");for(let v of["x-axis","y-axis"])s.select(`d3fc-svg.${v} svg`).node().setAttribute("preserveAspectRatio","none");if(l(s,f),r){let v=s.select(".svg-plot-area").node(),M=s.select(".canvas-plot-area").node();pc([v,M]).order()}if(!!a){if(a.haveSplit()){let v=a.altData(),M=Fi.dataJoin("d3fc-svg","y2-axis").key(D=>D),C=Fi.dataJoin("g","y-series").key(D=>D);s.append("div").attr("class","y-label right-label").style("grid-column",5).style("-ms-grid-column",5).style("grid-row",3).style("-ms-grid-row",3).style("width",i.size||"1em").style("display","flex").style("align-items","center").style("justify-content","center").append("span").attr("class","y-label splitter-label").style("transform","rotate(-90deg)");let A=i.scale.domain(i.domain),T=i.component.right(A);if(T.tickFormat(i.tickFormatFunction),i.decorate&&T.decorate(i.decorate),M(s,["right"]).attr("class",D=>`y-axis ${D}-axis`).on("measure",function(D,R){let{width:H,height:V}=D.detail;R==="left"&&Re(D.currentTarget).select("svg").attr("viewBox",`${-H} 0 ${H} ${V}`).attr("preserveAspectRatio","none"),A.range([V,0])}).on("draw",function(D,R){Re(D.currentTarget).select("svg").call(T)}),r){let D=R=>{let H=o.plotArea();H.context(R.node().getContext("2d")).xScale(e.scale);let V=[t.scale,A];[f,v].forEach((I,z)=>{H.yScale(V[z]),H(I)})};s.select("d3fc-canvas.plot-area").on("draw",function(R,H){D(Re(R.currentTarget).select("canvas"))})}else{let D=function(R){let H=o.plotArea();H.xScale(e.scale);let V=[t.scale,A];C(R,[f,v]).each((I,z,j)=>{H.yScale(V[z]),Re(j[z]).datum(I).call(H)})};s.select("d3fc-svg.plot-area").on("draw",function(R,H){D(Re(R.currentTarget).select("svg"))})}}a(s)}}),o};var ua=pt(_t(),1);function Ht(e,t,n){let r=e.select(t);return r.size()>0?r:n()}function Fr(e,t,n="right"){if(n==="right"||n==="bottom")return e[n]<t[n];if(n==="left"||n==="top")return e[n]>t[n];throw`Direction being checked for overflow is invalid: ${n}`}function ng(e,t,n,r=0){let a=e==="x"?"width":"height",i=t[e],o=t[e]+t[a],l=n[e],s=n[e]+n[a],f=l+r>i&&l-r<o,m=s+r>i&&s-r<o,w=l+r<i&&s-r>o;return f||m||w}var j8=`<ul id="tooltip-values"></ul>
`;function oa(e,t){switch(e){case"date":case"datetime":return t instanceof Date?t:new Date(parseInt(t)).toLocaleString([],{dateStyle:"short",timeStyle:"medium"});case"integer":return parseInt(t,10);case"float":return parseFloat(t)}return t}function Ls(e,t){return t.crossValues.length===0?[]:e.crossValue.length===0?[]:((e.crossValue.split?e.crossValue.split("|"):Array.isArray(e.crossValue)?e.crossValue:[e.crossValue])||[e.key]).map((r,a)=>({name:t.crossValues[a].name,value:oa(t.crossValues[a].type,r)}))}function Os(e,t){if(t.splitValues.length===0)return[];let n=[e.mainValue];return e.key?n=e.key.split("|"):e.mainValue?.split&&(n=e.mainValue.split("|")),t.splitValues.map((r,a)=>({name:r.name,value:oa(r.type,n[a])}))}function zs(e,t){return t.mainValues.length>1?e.mainValues?t.mainValues.map((n,r)=>({name:n.name,value:oa(n.type,e.mainValues[r])})):t.mainValues.map(n=>({name:n.name,value:oa(n.type,e.row[n.name])})):[{name:t.mainValues[0].name,value:oa(t.mainValues[0].type,e.colorValue||e.mainValue-e.baseValue||e.mainValue||e.mainValues)}]}function Q8(e,t,n){let r=Ls(t,n).concat(Os(t,n)).concat(zs(t,n));Ak(e,r)}function Ak(e,t){e.select("#tooltip-values").selectAll("li").data(t).join("li").each(function(n){Re(this).text(`${n.name}: `).append("b").text(kk(n.value))})}var kk=e=>e==null?"-":e.toLocaleString(void 0,{style:"decimal",minimumFractionDigits:2,maximumFractionDigits:2});var Z8=e=>[e.name,"==",e.value],ll=(e,t,n)=>{let r=zs(t,n).map(l=>l.name),a=Ls(t,n).map(Z8),i=Os(t,n).map(Z8),o=n.filter.concat(a).concat(i);e.dispatchEvent(new CustomEvent("perspective-click",{bubbles:!0,composed:!0,detail:{column_names:r,config:{filter:o},row:t.row}}))},K8=()=>{let e=null,t=n=>{let r=n.node();n.on("click",(a,i)=>ll(r,i,e))};return t.settings=(...n)=>n.length?(e=n[0],t):e,t};var Fa=()=>{let e=!1,t=null,n=null,r=!1,a=i=>{let o=i.node();if(!o||!o.isConnected){J8(t);return}let l=Re(za(o));t=Vk(l);let s=function(m,w){Q8(t,w,n);let v=i.nodes(),M=v.indexOf(this);Dk(l.node(),v[M],t,r),Re(v[M]).style("opacity","0.7")},f=function(m,w){J8(t);let v=i.nodes(),M=v.indexOf(this);v&&Re(v[M]).style("opacity","1")};e?i.each(function(m){return s.call(this,void 0,m)}):(i.on("mouseover",s).on("mouseout",f),K8().settings(n)(i))};return a.alwaysShow=(...i)=>i.length?(e=i[0],a):e,a.centered=(...i)=>i.length?(r=i[0],a):r,a.settings=(...i)=>i.length?(n=i[0],a):n,a};function Vk(e){return Ht(e,"div.tooltip",()=>e.append("div").attr("class","tooltip").style("z-index",3).style("opacity",0).html(j8))}function Dk(e,t,n,r){let a=e.getBoundingClientRect(),i=t.getBoundingClientRect(),o=i.left+i.width/2-a.left,l=i.top-a.top+e.scrollTop;r&&(l=i.top+i.height/2-a.top+e.scrollTop),n.style("left",`${o}px`).style("top",`${l}px`).style("opacity",.9),r&&([o,l]=Nk(n,a)),Ek(n,a,o,l,r)}function Nk(e,t){let n=e.node().getBoundingClientRect(),r=n.width/2,a=n.left-r-t.left;e.style("left",`${a}px`);let i=n.height/2,o=n.top-i-t.top;return e.style("top",`${o}px`),[a,o]}function Ek(e,t,n,r,a=!1){let i=e.node().getBoundingClientRect();if(Fr(t,i)){let o=i.right-t.right;e.style("left",`${n-o}px`)}if(Fr(t,i,"bottom")){let o=i.bottom-t.bottom;e.style("top",`${r-o}px`)}if(!!a){if(Fr(t,i,"left")){let o=i.left-t.left;e.style("left",`${n-o}px`)}if(Fr(t,i,"top")){let o=i.top-t.top;e.style("top",`${r-o}px`)}}}function J8(e){e&&e.style("opacity",0)}function Is(e,t){let n=e.mainValues.length>1?ua.seriesSvgGrouped(ua.seriesSvgBar()):ua.seriesSvgBar();return n=n.decorate(r=>{Fa().settings(e)(r),r.style("fill",a=>t(a.key))}),ua.autoBandwidth(Pk(n)).crossValue(r=>r.crossValue).mainValue(r=>r.mainValue?r.mainValue:0).baseValue(r=>r.baseValue)}var Pk=e=>{let t=n=>e(n);return ua.rebindAll(t,e),t.bandwidth=(...n)=>n.length?(e.bandwidth(Math.max(n[0],1)),t):e.bandwidth(),t};function Ba(e){return e.split("|").slice(0,-1).join("|")}function Rs(e,t){return e.data.map(n=>Object.entries(n).filter(([r,a])=>r.split("|").at(-1)===t&&!!a).map(([r,a])=>a)).flat()}function Br(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return vr().settings(e).domain(n)()}function e6(e,t){let n=Rs(e,t),r=[...new Set(n)].sort();return vr().settings(e).domain(r)()}function Bi(e,t){let n=[...new Set(t)];return vr().settings(e).domain(n)()}function t6(e){let t=e.data[0]??{},n=Object.keys(t).filter(a=>a!=="__ROW_PATH__").map(a=>Ba(a)),r=[...new Set(n)];return vr().settings(e).domain(r)()}function vr(){let e=null,t=null,n={},r=i=>Hi(i,n.colorStyles&&n.colorStyles.opacity),a=()=>{let i=n.colorStyles,o=t||[i.series];if(o||e.length>1){let l=e.length>1?i.scheme:o;return gr(l.map(r)).domain(e)}return null};return a.domain=(...i)=>i.length===0?e:(e=i[0],a),a.defaultColors=(...i)=>i.length?(t=i[0],a):t,a.mapFunction=(...i)=>i.length?(r=i[0],a):r,a.settings=(...i)=>i.length?(n=i[0],a):n,a}function Hr(e){return Yi(1)(e)}function Hi(e,t=.5){return Yi(t)(e)}function Yi(e){return t=>{let n=bn(t);return n!=null&&(n.opacity=e),n+""}}var n6=pt(_t(),1);var Lk={none:qp,ordinal:eg,time:Kp,linear:Qp},nr=e=>{let t=Eo(e),n="__ROW_PATH__",r=(a,i)=>Lk[t()](n)(a);return(0,n6.rebindAll)(r,t),r.valueName=(...a)=>a.length?(n=a[0],r):n,r};function Wi(e,t,{stack:n=!1,excludeEmpty:r=!1}={}){let a=t||e.data;return e.splitValues.length>0?Ok(e,a,{stack:n,excludeEmpty:r}):[a]}function Ok(e,t,{stack:n=!1,excludeEmpty:r=!1}){let a={};return t.forEach(i=>{let o={},l={};Object.keys(i).filter(s=>s!=="__ROW_PATH__").filter(s=>!r||i[s]!=null&&i[s]!=null).forEach(s=>{let f=s.split("|"),m=f[f.length-1],w=i[s]||0,v=`${m}${w>=0?"+ve":"-ve"}`,M=f.slice(0,f.length-1).join("|"),C=l[M]=l[M]||{__ROW_PATH__:i.__ROW_PATH__},A=o[v]||0;C.__KEY__=M,n?(C[m]=A+w,C[`__BASE_VALUE__${m}`]=A,o[v]=C[m]):C[m]=w,C.row=i}),Object.keys(l).forEach(s=>{(a[s]=a[s]||[]).push(l[s])})}),Object.keys(a).map(i=>{let o=a[i];return o.key=i,o})}function r6(e,t){let n={stack:!1},r=Wi(e,t,n).map(a=>a6(e,a,n));return e.mainValues.length>1?r.reduce((i,o)=>i.concat(o)):r}function Fs(e,t){let n={stack:!0};return Wi(e,t,n).map(r=>a6(e,r,n))}function zk(e,t,{stack:n=!1}){let r=nr(e);return a=>{let i=l=>n&&l[`__BASE_VALUE__${a.name}`]||0,o=t.map((l,s)=>({crossValue:r(l,s),mainValue:l[a.name]?l[a.name]:null,baseValue:i(l),key:l.__KEY__?`${l.__KEY__}|${a.name}`:a.name,row:l.row||l}));return o.key=o[0].key,o}}function a6(e,t,{stack:n=!1}){let r=zk(e,t,{stack:n});return e.mainValues.length>1?e.mainValues.map(r):r(e.mainValues[0])}var Bs="http://www.w3.org/1999/xhtml",Hs={svg:"http://www.w3.org/2000/svg",xhtml:Bs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function cl(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Hs.hasOwnProperty(t)?{space:Hs[t],local:e}:e}function Ik(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Bs&&t.documentElement.namespaceURI===Bs?t.createElement(e):t.createElementNS(n,e)}}function Rk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function sl(e){var t=cl(e);return(t.local?Rk:Ik)(t)}var Fk=0;function ag(){return new rg}function rg(){this._="@"+(++Fk).toString(36)}rg.prototype=ag.prototype={constructor:rg,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var o6=function(e){return function(){return this.matches(e)}};typeof document<"u"&&(Fo=document.documentElement,Fo.matches||(i6=Fo.webkitMatchesSelector||Fo.msMatchesSelector||Fo.mozMatchesSelector||Fo.oMatchesSelector,o6=function(e){return function(){return i6.call(this,e)}}));var Fo,i6,ig=o6;var l6={},fl=null;typeof document<"u"&&(u6=document.documentElement,"onmouseenter"in u6||(l6={mouseenter:"mouseover",mouseleave:"mouseout"}));var u6;function Bk(e,t,n){return e=c6(e,t,n),function(r){var a=r.relatedTarget;(!a||a!==this&&!(a.compareDocumentPosition(this)&8))&&e.call(this,r)}}function c6(e,t,n){return function(r){var a=fl;fl=r;try{e.call(this,this.__data__,t,n)}finally{fl=a}}}function Hk(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Yk(e){return function(){var t=this.__on;if(!!t){for(var n=0,r=-1,a=t.length,i;n<a;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.capture):t[++r]=i;++r?t.length=r:delete this.__on}}}function Wk(e,t,n){var r=l6.hasOwnProperty(e.type)?Bk:c6;return function(a,i,o){var l=this.__on,s,f=r(t,i,o);if(l){for(var m=0,w=l.length;m<w;++m)if((s=l[m]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=f,s.capture=n),s.value=t;return}}this.addEventListener(e.type,f,n),s={type:e.type,name:e.name,value:t,listener:f,capture:n},l?l.push(s):this.__on=[s]}}function s6(e,t,n){var r=Hk(e+""),a,i=r.length,o;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,f=l.length,m;s<f;++s)for(a=0,m=l[s];a<i;++a)if((o=r[a]).type===m.type&&o.name===m.name)return m.value}return}for(l=t?Wk:Yk,n==null&&(n=!1),a=0;a<i;++a)this.each(l(r[a],t,n));return this}function $k(){}function dl(e){return e==null?$k:function(){return this.querySelector(e)}}function m6(e){typeof e!="function"&&(e=dl(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=new Array(o),s,f,m=0;m<o;++m)(s=i[m])&&(f=e.call(s,s.__data__,m,i))&&("__data__"in s&&(f.__data__=s.__data__),l[m]=f);return new zt(r,this._parents)}function Uk(){return[]}function og(e){return e==null?Uk:function(){return this.querySelectorAll(e)}}function h6(e){typeof e!="function"&&(e=og(e));for(var t=this._groups,n=t.length,r=[],a=[],i=0;i<n;++i)for(var o=t[i],l=o.length,s,f=0;f<l;++f)(s=o[f])&&(r.push(e.call(s,s.__data__,f,o)),a.push(s));return new zt(r,a)}function p6(e){typeof e!="function"&&(e=ig(e));for(var t=this._groups,n=t.length,r=new Array(n),a=0;a<n;++a)for(var i=t[a],o=i.length,l=r[a]=[],s,f=0;f<o;++f)(s=i[f])&&e.call(s,s.__data__,f,i)&&l.push(s);return new zt(r,this._parents)}function Ys(e){return new Array(e.length)}function g6(){return new zt(this._enter||this._groups.map(Ys),this._parents)}function ml(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ml.prototype={constructor:ml,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function v6(e){return function(){return e}}var y6="$";function qk(e,t,n,r,a,i){for(var o=0,l,s=t.length,f=i.length;o<f;++o)(l=t[o])?(l.__data__=i[o],r[o]=l):n[o]=new ml(e,i[o]);for(;o<s;++o)(l=t[o])&&(a[o]=l)}function Gk(e,t,n,r,a,i,o){var l,s,f={},m=t.length,w=i.length,v=new Array(m),M;for(l=0;l<m;++l)(s=t[l])&&(v[l]=M=y6+o.call(s,s.__data__,l,t),M in f?a[l]=s:f[M]=s);for(l=0;l<w;++l)M=y6+o.call(e,i[l],l,i),(s=f[M])?(r[l]=s,s.__data__=i[l],f[M]=null):n[l]=new ml(e,i[l]);for(l=0;l<m;++l)(s=t[l])&&f[v[l]]===s&&(a[l]=s)}function b6(e,t){if(!e)return M=new Array(this.size()),f=-1,this.each(function(z){M[++f]=z}),M;var n=t?Gk:qk,r=this._parents,a=this._groups;typeof e!="function"&&(e=v6(e));for(var i=a.length,o=new Array(i),l=new Array(i),s=new Array(i),f=0;f<i;++f){var m=r[f],w=a[f],v=w.length,M=e.call(m,m&&m.__data__,f,r),C=M.length,A=l[f]=new Array(C),T=o[f]=new Array(C),D=s[f]=new Array(v);n(m,w,A,T,D,M,t);for(var R=0,H=0,V,I;R<C;++R)if(V=A[R]){for(R>=H&&(H=R+1);!(I=T[H])&&++H<C;);V._next=I||null}}return o=new zt(o,r),o._enter=l,o._exit=s,o}function x6(){return new zt(this._exit||this._groups.map(Ys),this._parents)}function w6(e){for(var t=this._groups,n=e._groups,r=t.length,a=n.length,i=Math.min(r,a),o=new Array(r),l=0;l<i;++l)for(var s=t[l],f=n[l],m=s.length,w=o[l]=new Array(m),v,M=0;M<m;++M)(v=s[M]||f[M])&&(w[M]=v);for(;l<r;++l)o[l]=t[l];return new zt(o,this._parents)}function _6(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],a=r.length-1,i=r[a],o;--a>=0;)(o=r[a])&&(i&&i!==o.nextSibling&&i.parentNode.insertBefore(o,i),i=o);return this}function S6(e){e||(e=Xk);function t(w,v){return w&&v?e(w.__data__,v.__data__):!w-!v}for(var n=this._groups,r=n.length,a=new Array(r),i=0;i<r;++i){for(var o=n[i],l=o.length,s=a[i]=new Array(l),f,m=0;m<l;++m)(f=o[m])&&(s[m]=f);s.sort(t)}return new zt(a,this._parents).order()}function Xk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function M6(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function T6(){var e=new Array(this.size()),t=-1;return this.each(function(){e[++t]=this}),e}function C6(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],a=0,i=r.length;a<i;++a){var o=r[a];if(o)return o}return null}function A6(){var e=0;return this.each(function(){++e}),e}function k6(){return!this.node()}function V6(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var a=t[n],i=0,o=a.length,l;i<o;++i)(l=a[i])&&e.call(l,l.__data__,i,a);return this}function jk(e){return function(){this.removeAttribute(e)}}function Qk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Zk(e,t){return function(){this.setAttribute(e,t)}}function Kk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Jk(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function eV(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function D6(e,t){var n=cl(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Qk:jk:typeof t=="function"?n.local?eV:Jk:n.local?Kk:Zk)(n,t))}function hl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function tV(e){return function(){this.style.removeProperty(e)}}function nV(e,t,n){return function(){this.style.setProperty(e,t,n)}}function rV(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function N6(e,t,n){var r;return arguments.length>1?this.each((t==null?tV:typeof t=="function"?rV:nV)(e,t,n??"")):hl(r=this.node()).getComputedStyle(r,null).getPropertyValue(e)}function aV(e){return function(){delete this[e]}}function iV(e,t){return function(){this[e]=t}}function oV(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function E6(e,t){return arguments.length>1?this.each((t==null?aV:typeof t=="function"?oV:iV)(e,t)):this.node()[e]}function P6(e){return e.trim().split(/^|\s+/)}function ug(e){return e.classList||new L6(e)}function L6(e){this._node=e,this._names=P6(e.getAttribute("class")||"")}L6.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function O6(e,t){for(var n=ug(e),r=-1,a=t.length;++r<a;)n.add(t[r])}function z6(e,t){for(var n=ug(e),r=-1,a=t.length;++r<a;)n.remove(t[r])}function uV(e){return function(){O6(this,e)}}function lV(e){return function(){z6(this,e)}}function cV(e,t){return function(){(t.apply(this,arguments)?O6:z6)(this,e)}}function I6(e,t){var n=P6(e+"");if(arguments.length<2){for(var r=ug(this.node()),a=-1,i=n.length;++a<i;)if(!r.contains(n[a]))return!1;return!0}return this.each((typeof t=="function"?cV:t?uV:lV)(n,t))}function sV(){this.textContent=""}function fV(e){return function(){this.textContent=e}}function dV(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function R6(e){return arguments.length?this.each(e==null?sV:(typeof e=="function"?dV:fV)(e)):this.node().textContent}function mV(){this.innerHTML=""}function hV(e){return function(){this.innerHTML=e}}function pV(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function F6(e){return arguments.length?this.each(e==null?mV:(typeof e=="function"?pV:hV)(e)):this.node().innerHTML}function gV(){this.nextSibling&&this.parentNode.appendChild(this)}function B6(){return this.each(gV)}function vV(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function H6(){return this.each(vV)}function Y6(e){var t=typeof e=="function"?e:sl(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function yV(){return null}function W6(e,t){var n=typeof e=="function"?e:sl(e),r=t==null?yV:typeof t=="function"?t:dl(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function bV(){var e=this.parentNode;e&&e.removeChild(this)}function $6(){return this.each(bV)}function U6(e){return arguments.length?this.property("__data__",e):this.node().__data__}function q6(e,t,n){var r=hl(e),a=r.CustomEvent;a?a=new a(t,n):(a=r.document.createEvent("Event"),n?(a.initEvent(t,n.bubbles,n.cancelable),a.detail=n.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function xV(e,t){return function(){return q6(this,e,t)}}function wV(e,t){return function(){return q6(this,e,t.apply(this,arguments))}}function G6(e,t){return this.each((typeof t=="function"?wV:xV)(e,t))}var Ws=[null];function zt(e,t){this._groups=e,this._parents=t}function _V(){return new zt([[document.documentElement]],Ws)}zt.prototype=_V.prototype={constructor:zt,select:m6,selectAll:h6,filter:p6,data:b6,enter:g6,exit:x6,merge:w6,order:_6,sort:S6,call:M6,nodes:T6,node:C6,size:A6,empty:k6,each:V6,attr:D6,style:N6,property:E6,classed:I6,text:R6,html:F6,raise:B6,lower:H6,append:Y6,insert:W6,remove:$6,datum:U6,on:s6,dispatch:G6};function lg(e){return typeof e=="string"?new zt([[document.querySelector(e)]],[document.documentElement]):new zt([[e]],Ws)}var Yr=pt(Id()),cg=pt(up()),sg=pt(Fd()),Bo=pt(Od()),SV=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q6=function(t){return t},X6=function(t){for(var n=[],r=0,a=t.length;r<a;r++)n[r]=t[a-r-1];return n},j6=function(t,n){t.each(function(){for(var r=lg(this),a=r.text().split(/\s+/).reverse(),i,o=[],l=0,s=1.2,f=r.attr("y"),m=parseFloat(r.attr("dy"))||0,w=r.text(null).append("tspan").attr("x",0).attr("dy",m+"em");i=a.pop();)o.push(i),w.text(o.join(" ")),w.node().getComputedTextLength()>n&&o.length>1&&(o.pop(),w.text(o.join(" ")),o=[i],w=r.append("tspan").attr("x",0).attr("dy",s+m+"em").text(i))})},MV=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments[1],r=arguments[2],a=arguments[3],i=arguments[4];if((typeof n>"u"?"undefined":SV(n))==="object"){if(n.length===0)return t;for(var o=n.length;o<t.length;o++)n.push(t[o]);return n}else if(typeof n=="function"){for(var l=[],s=t.length,f=0;f<s;f++)l.push(n({i:f,genLength:s,generatedLabels:t,domain:r,range:a,labelDelimiter:i}));return l}return t},TV=function(t,n,r){var a=[];if(n.length>1)a=n;else for(var i=t.domain(),o=(i[i.length-1]-i[0])/(n-1),l=0;l<n;l++)a.push(i[0]+l*o);var s=a.map(r);return{data:a,labels:s,feature:function(m){return t(m)}}},CV=function(t,n,r){var a=t.range().map(function(i){var o=t.invertExtent(i);return n(o[0])+" "+r+" "+n(o[1])});return{data:t.range(),labels:a,feature:Q6}},AV=function(t){return{data:t.domain(),labels:t.domain(),feature:function(r){return t(r)}}},kV=function(t,n,r){t.call("cellover",r,n)},VV=function(t,n,r){t.call("cellout",r,n)},DV=function(t,n,r){t.call("cellclick",r,n)},Rt={d3_drawShapes:function(t,n,r,a,i,o){t==="rect"?n.attr("height",r).attr("width",a):t==="circle"?n.attr("r",i):t==="line"?n.attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0):t==="path"&&n.attr("d",o)},d3_addText:function(t,n,r,a,i){n.append("text").attr("class",a+"label");var o=t.selectAll("g."+a+"cell text."+a+"label").data(r).text(Q6);return i&&t.selectAll("g."+a+"cell text."+a+"label").call(j6,i),o},d3_calcType:function(t,n,r,a,i,o){var l=t.invertExtent?CV(t,i,o):t.ticks?TV(t,r,i):AV(t),s=t.range&&t.range()||t.domain();return l.labels=MV(l.labels,a,t.domain(),s,o),n&&(l.labels=X6(l.labels),l.data=X6(l.data)),l},d3_filterCells:function(t,n){var r=t.data.map(function(o,l){return{data:o,label:t.labels[l]}}).filter(n),a=r.map(function(o){return o.data}),i=r.map(function(o){return o.label});return t.data=t.data.filter(function(o){return a.indexOf(o)!==-1}),t.labels=t.labels.filter(function(o){return i.indexOf(o)!==-1}),t},d3_placement:function(t,n,r,a,i,o){n.attr("transform",r),a.attr("transform",i),t==="horizontal"&&a.style("text-anchor",o)},d3_addEvents:function(t,n){t.on("mouseover.legend",function(r){kV(n,r,this)}).on("mouseout.legend",function(r){VV(n,r,this)}).on("click.legend",function(r){DV(n,r,this)})},d3_title:function(t,n,r,a){if(n!==""){var i=t.selectAll("text."+r+"legendTitle");i.data([n]).enter().append("text").attr("class",r+"legendTitle"),t.selectAll("text."+r+"legendTitle").text(n),a&&t.selectAll("text."+r+"legendTitle").call(j6,a);var o=t.select("."+r+"legendCells"),l=t.select("."+r+"legendTitle").nodes().map(function(f){return f.getBBox().height})[0],s=-o.nodes().map(function(f){return f.getBBox().x})[0];o.attr("transform","translate("+s+","+l+")")}},d3_defaultLocale:{format:Yr.format,formatPrefix:Yr.formatPrefix},d3_defaultFormatSpecifier:".01f",d3_defaultDelimiter:"to"};function $s(){var e=(0,sg.scaleLinear)(),t="rect",n=15,r=15,a=10,i=2,o=[5],l=void 0,s=[],f="",m=!1,w="",v=Rt.d3_defaultLocale,M=Rt.d3_defaultFormatSpecifier,C=10,A="middle",T=Rt.d3_defaultDelimiter,D=void 0,R="vertical",H=!1,V=void 0,I=void 0,z=(0,cg.dispatch)("cellover","cellout","cellclick");function j(Z){var ve=Rt.d3_calcType(e,H,o,s,v.format(M),T),ye=Z.selectAll("g").data([e]);ye.enter().append("g").attr("class",f+"legendCells"),l&&Rt.d3_filterCells(ve,l);var ue=Z.select("."+f+"legendCells").selectAll("."+f+"cell").data(ve.data),Ie=ue.enter().append("g").attr("class",f+"cell");Ie.append(t).attr("class",f+"swatch");var de=Z.selectAll("g."+f+"cell "+t+"."+f+"swatch").data(ve.data);Rt.d3_addEvents(Ie,z),ue.exit().transition().style("opacity",0).remove(),de.exit().transition().style("opacity",0).remove(),de=de.merge(de),Rt.d3_drawShapes(t,de,r,n,a,V);var $=Rt.d3_addText(Z,Ie,ve.labels,f,D);ue=Ie.merge(ue);var we=$.nodes().map(function(be){return be.getBBox()}),te=de.nodes().map(function(be){return be.getBBox()});m?de.attr("class",function(be){return f+"swatch "+ve.feature(be)}):t=="line"?de.style("stroke",ve.feature):de.style("fill",ve.feature);var ae=void 0,pe=void 0,ie=A=="start"?0:A=="middle"?.5:1;R==="vertical"?function(){var be=we.map(function(Le,Pe){return Math.max(Le.height,te[Pe].height)});ae=function(Pe,Se){var He=(0,Bo.sum)(be.slice(0,Se));return"translate(0, "+(He+Se*i)+")"},pe=function(Pe,Se){return"translate( "+(te[Se].width+te[Se].x+C)+", "+(te[Se].y+te[Se].height/2+5)+")"}}():R==="horizontal"&&(ae=function(Le,Pe){return"translate("+Pe*(te[Pe].width+i)+",0)"},pe=function(Le,Pe){return"translate("+(te[Pe].width*ie+te[Pe].x)+`,
          `+(te[Pe].height+te[Pe].y+C+8)+")"}),Rt.d3_placement(R,ue,ae,$,pe,A),Rt.d3_title(Z,w,f,I),ue.transition().style("opacity",1)}return j.scale=function(Z){return arguments.length?(e=Z,j):e},j.cells=function(Z){return arguments.length?((Z.length>1||Z>=2)&&(o=Z),j):o},j.cellFilter=function(Z){return arguments.length?(l=Z,j):l},j.shape=function(Z,ve){return arguments.length?((Z=="rect"||Z=="circle"||Z=="line"||Z=="path"&&typeof ve=="string")&&(t=Z,V=ve),j):t},j.shapeWidth=function(Z){return arguments.length?(n=+Z,j):n},j.shapeHeight=function(Z){return arguments.length?(r=+Z,j):r},j.shapeRadius=function(Z){return arguments.length?(a=+Z,j):a},j.shapePadding=function(Z){return arguments.length?(i=+Z,j):i},j.labels=function(Z){return arguments.length?(s=Z,j):s},j.labelAlign=function(Z){return arguments.length?((Z=="start"||Z=="end"||Z=="middle")&&(A=Z),j):A},j.locale=function(Z){return arguments.length?(v=(0,Yr.formatLocale)(Z),j):v},j.labelFormat=function(Z){return arguments.length?(M=(0,Yr.formatSpecifier)(Z),j):j.locale().format(M)},j.labelOffset=function(Z){return arguments.length?(C=+Z,j):C},j.labelDelimiter=function(Z){return arguments.length?(T=Z,j):T},j.labelWrap=function(Z){return arguments.length?(D=Z,j):D},j.useClass=function(Z){return arguments.length?((Z===!0||Z===!1)&&(m=Z),j):m},j.orient=function(Z){return arguments.length?(Z=Z.toLowerCase(),(Z=="horizontal"||Z=="vertical")&&(R=Z),j):R},j.ascending=function(Z){return arguments.length?(H=!!Z,j):H},j.classPrefix=function(Z){return arguments.length?(f=Z,j):f},j.title=function(Z){return arguments.length?(w=Z,j):w},j.titleWidth=function(Z){return arguments.length?(I=Z,j):I},j.textWrap=function(Z){return arguments.length?(textWrap=Z,j):textWrap},j.on=function(){var Z=z.on.apply(z,arguments);return Z===z?j:Z},j}function Z6(){var e=(0,sg.scaleLinear)(),t="path",n=15,r=15,a=10,i=5,o=[5],l=void 0,s=[],f="",m="",w=Rt.d3_defaultLocale,v=Rt.d3_defaultFormatSpecifier,M="middle",C=10,A=Rt.d3_defaultDelimiter,T=void 0,D="vertical",R=!1,H=void 0,V=(0,cg.dispatch)("cellover","cellout","cellclick");function I(z){var j=Rt.d3_calcType(e,R,o,s,w.format(v),A),Z=z.selectAll("g").data([e]);l&&Rt.d3_filterCells(j,l),Z.enter().append("g").attr("class",f+"legendCells");var ve=z.select("."+f+"legendCells").selectAll("."+f+"cell").data(j.data),ye=ve.enter().append("g").attr("class",f+"cell");ye.append(t).attr("class",f+"swatch");var ue=z.selectAll("g."+f+"cell "+t+"."+f+"swatch");Rt.d3_addEvents(ye,V),ve.exit().transition().style("opacity",0).remove(),ue.exit().transition().style("opacity",0).remove(),ue=ue.merge(ue),Rt.d3_drawShapes(t,ue,r,n,a,j.feature);var Ie=Rt.d3_addText(z,ye,j.labels,f,T);ve=ye.merge(ve);var de=Ie.nodes().map(function(be){return be.getBBox()}),$=ue.nodes().map(function(be){return be.getBBox()}),we=(0,Bo.max)($,function(be){return be.height}),te=(0,Bo.max)($,function(be){return be.width}),ae=void 0,pe=void 0,ie=M=="start"?0:M=="middle"?.5:1;D==="vertical"?function(){var be=de.map(function(Le,Pe){return Math.max(we,Le.height)});ae=function(Pe,Se){var He=(0,Bo.sum)(be.slice(0,Se));return"translate(0, "+(He+Se*i)+" )"},pe=function(Pe,Se){return"translate( "+(te+C)+`,
              `+($[Se].y+$[Se].height/2+5)+")"}}():D==="horizontal"&&(ae=function(Le,Pe){return"translate( "+Pe*(te+i)+",0)"},pe=function(Le,Pe){return"translate( "+($[Pe].width*ie+$[Pe].x)+`,
              `+(we+C)+")"}),Rt.d3_placement(D,ve,ae,Ie,pe,M),Rt.d3_title(z,m,f,H),ve.transition().style("opacity",1)}return I.scale=function(z){return arguments.length?(e=z,I):e},I.cells=function(z){return arguments.length?((z.length>1||z>=2)&&(o=z),I):o},I.cellFilter=function(z){return arguments.length?(l=z,I):l},I.shapePadding=function(z){return arguments.length?(i=+z,I):i},I.labels=function(z){return arguments.length?(s=z,I):s},I.labelAlign=function(z){return arguments.length?((z=="start"||z=="end"||z=="middle")&&(M=z),I):M},I.locale=function(z){return arguments.length?(w=(0,Yr.formatLocale)(z),I):w},I.labelFormat=function(z){return arguments.length?(v=(0,Yr.formatSpecifier)(z),I):I.locale().format(v)},I.labelOffset=function(z){return arguments.length?(C=+z,I):C},I.labelDelimiter=function(z){return arguments.length?(A=z,I):A},I.labelWrap=function(z){return arguments.length?(T=z,I):T},I.orient=function(z){return arguments.length?(z=z.toLowerCase(),(z=="horizontal"||z=="vertical")&&(D=z),I):D},I.ascending=function(z){return arguments.length?(R=!!z,I):R},I.classPrefix=function(z){return arguments.length?(f=z,I):f},I.title=function(z){return arguments.length?(m=z,I):m},I.titleWidth=function(z){return arguments.length?(H=z,I):H},I.on=function(){var z=V.on.apply(V,arguments);return z===V?I:z},I}var c5=pt(_t(),1);var J6=`<span id="up-arrow">&#9650;</span>
<span id="page-text"></span>
<span id="down-arrow">&#9660;</span>
`;function e5(e){let t=e.select("g.legendCells"),n=e.node().getBoundingClientRect();if(!Fr(n,t.node().getBoundingClientRect()))return;let r=e.select(".legend");t.selectAll(".label").text((a,i,o)=>{let l=o[i];if(Fr(n,l.getBoundingClientRect())){let s=EV(l,r,n);return`${a.substring(0,s-3)}...`}else return a})}function EV(e,t,n){let r=e.getBoundingClientRect(),a=t.node().createSVGPoint(),i=3;return a.x=n.right-r.left-i,a.y=0,e.getCharNumAtPosition(a)}var $i=10;function Ha(e,t,n){let r=Re(zo(e).getContainer()).node().getBoundingClientRect(),a=e.getBoundingClientRect(),i={top:a.top+n-$i,right:a.right+t+$i,bottom:a.bottom+n+$i,left:a.left+t-$i},o={x:t,y:n};return[{edge:"right",dimension:"x"},{edge:"left",dimension:"x"},{edge:"top",dimension:"y"},{edge:"bottom",dimension:"y"}].forEach(s=>{if(Fr(r,i,s.edge)){let f=i[s.edge]-r[s.edge];o[s.dimension]=o[s.dimension]-f}}),o}var fg="resize.for-dragging";function t5(){let e=!0,t=null,n=r=>{let a=r.node(),i=a.getRootNode().host.closest("perspective-viewer");a.style.cursor="move",t.legend&&(a.style.left=t.legend.left,a.style.top=t.legend.top);let o=Co().on("drag",function(l){let s=Ha(this,l.dx,l.dy);this.style.left=`${this.offsetLeft+s.x}px`,this.style.top=`${this.offsetTop+s.y}px`;let f={left:this.style.left,top:this.style.top};t.legend={...t.legend,...f},e=OV(a)?LV(a):PV(a,e)});o.on("end",function(l){Re(window).on(fg,null),i?.dispatchEvent(new Event("perspective-config-update"))}),r.call(o)};return n.settings=(...r)=>r.length?(t=r[0],n):t,n}function PV(e,t){return t!==!1&&Re(window).on(fg,function(){let n=Ha(e,0,0);e.style.left=`${e.offsetLeft+n.x}px`,e.style.top=`${e.offsetTop+n.y}px`}),!1}function LV(e){return Re(window).on(fg,null),e.style.left="auto",!0}function OV(e){let t=e.getBoundingClientRect(),n=Re(za(e)).node().getBoundingClientRect(),r=5;return t.right+$i+r>=n.right&&t.top-$i-r<=n.top}var n5="horizontal-drag-handle",r5="vertical-drag-handle",zV="corner-drag-handle",i5="dragHandles",a5=0,Ya="resize";function o5(){let e=9,t=3,n=null,r={height:100,width:100},a={height:null,width:null},i=[],o=(m,w)=>i.filter(v=>v.event===m).forEach(v=>v.execute(w)),l=m=>{if(RV(m))return;let w={left:Se=>o(Ya,{horizontal:we(Se),vertical:!1}),top:Se=>o(Ya,{horizontal:!1,vertical:ae(Se)}),right:Se=>o(Ya,{horizontal:te(Se),vertical:!1}),bottom:Se=>o(Ya,{horizontal:!1,vertical:pe(Se)}),topleft:Se=>o(Ya,{horizontal:we(Se),vertical:ae(Se)}),topright:Se=>o(Ya,{horizontal:te(Se),vertical:ae(Se)}),bottomright:Se=>o(Ya,{horizontal:te(Se),vertical:pe(Se)}),bottomleft:Se=>o(Ya,{horizontal:we(Se),vertical:pe(Se)})},v=m.node();n.legend&&(v.style.height=n.legend.height,v.style.width=n.legend.width);let M=v.getBoundingClientRect(),C=m.append("svg").attr("id",i5).attr("width",M.width).attr("height",M.height),A=C.append("g"),T=Se=>Se==="left"||Se==="right",D={left:0,top:e,right:M.width-e,bottom:e},R={left:e,top:0,right:e,bottom:M.height-e},H=["left","top","right","bottom"],[V,I,z,j]=H.map(Se=>A.append("rect").attr("id",`drag${Se}`).attr("class",T(Se)?r5:n5).attr("y",R[Se]).attr("x",D[Se]).attr("height",T(Se)?M.height-e*2:e).attr("width",T(Se)?e:M.width-e*2).attr("fill",T(Se)?"lightgreen":"lightblue").attr("fill-opacity",a5).style("z-index",t).attr("cursor",T(Se)?"ew-resize":"ns-resize").call(Co().on("drag",w[Se]))),Z=Se=>`${Se[0]}${Se[1]}`,ve={topleft:"nwse",topright:"nesw",bottomright:"nwse",bottomleft:"nesw"},ye=[["top","left"],["top","right"],["bottom","right"],["bottom","left"]],[ue,Ie,de,$]=ye.map(Se=>A.append("rect").attr("id",`drag${Z(Se)}`).attr("class",`${zV} ${Se[0]} ${Se[1]}`).attr("height",e).attr("width",e).attr("fill","red").attr("fill-opacity",a5).style("z-index",t).attr("cursor",`${ve[Z(Se)]}-resize`).call(Co().on("drag",w[Z(Se)])));Pe("height","y",j),Pe("width","x",z),Le(C);function we(Se){let He=f(Ha(V.node(),Se.x,0).x,C,"width",(X,he)=>X-he);return v.style.left=`${v.offsetLeft+He}px`,v.style.width=`${v.offsetWidth-He}px`,ie(),be(z,He,"width","x")}function te(Se){let He=-f(Ha(z.node(),Se.dx,0).x,C,"width",(X,he)=>X+he);return s(He,"x",z,Se)?!1:(v.style.width=`${v.offsetWidth-He}px`,ie(),be(z,He,"width","x"))}function ae(Se){let He=f(Ha(I.node(),0,Se.y).y,C,"height",(X,he)=>X-he);return v.style.top=`${v.offsetTop+He}px`,v.style.height=`${v.offsetHeight-He}px`,ie(),be(j,He,"height","y")}function pe(Se){let He=-f(Ha(j.node(),0,Se.dy).y,C,"height",(X,he)=>X+he);return s(He,"y",j,Se)?!1:(v.style.height=`${v.offsetHeight-He}px`,ie(),be(j,He,"height","y"))}function ie(){let Se={top:v.style.top,left:v.style.left,height:v.style.height,width:v.style.width};n.legend={...n.legend,...Se}}function be(Se,He,X,he){return BV(C,X,He),FV(Se,he,He),IV(C,He,X,X==="height"?r5:n5),Le(C),He!=0}function Le(Se){ue.attr("y",0),Ie.attr("y",0).attr("x",Se.attr("width")-e),de.attr("y",Se.attr("height")-e).attr("x",Se.attr("width")-e),$.attr("y",Se.attr("height")-e).attr("x",0)}function Pe(Se,He,X){!!a[Se]&&a[Se]<M[Se]&&(v.style[Se]=`${a[Se]}px`,be(X,M[Se]-a[Se],Se,He))}};l.on=(m,w)=>(i.push({event:m,execute:w}),l),l.zIndex=m=>(t=m,l),l.settings=(...m)=>m.length?(n=m[0],l):n,l.minWidth=m=>(r.width=m,a.width&&(a.width=Math.max(r.width,a.width)),l),l.minHeight=m=>(r.height=m,a.height&&(a.height=Math.max(r.height,a.height)),l),l.handleWidth=m=>(e=m,l),l.maxWidth=m=>(a.width=m,r.width=Math.min(r.width,a.width),l),l.maxHeight=m=>(a.height=m,r.height=Math.min(r.height,a.height),l);function s(m,w,v,M){let C=(T,D,R,H)=>T<0&&H[D]<Number(R.attr(D)),A=(T,D,R,H)=>T>0&&H[D]>Number(R.attr(D));return C(m,w,v,M)||A(m,w,v,M)}function f(m,w,v,M){let C=M(Number(w.attr(v)),m);if(C<r[v]){let A=r[v]-C;return M(m,A)}if(!!a[v]&&C>a[v]){let A=a[v]-C;return M(m,A)}return m}return l}var IV=(e,t,n,r)=>{e.selectAll(`.${r}`).each((i,o,l)=>{let s=l[o];Re(s).attr(n,s.getBoundingClientRect()[n]-t)})},RV=e=>e.select(`#${i5}`).size()>0,FV=(e,t,n)=>e.attr(t,Number(e.attr(t))-n),BV=(e,t,n)=>e.attr(t,e.node().getBoundingClientRect()[t]-n);var u5=16,l5=20,dg=(e,t)=>{let n=e||$s(),r=[],a=1,i,o=t.legend&&t.legend.pageIndex?t.legend.pageIndex:0,l=()=>{},s=t5().settings(t),f,m=V=>{r=n.scale().domain(),f=o5().settings(t).maxHeight(r.length*u5+l5).on("resize",()=>w(V)),f(V),s(V),w(V)},w=V=>{T(V),v(V),M(V),e5(V)},v=V=>{let I=R(V);I.style("display",a<=1?"none":"block"),I.select("#page-text").text(`${o+1}/${a}`),I.select("#up-arrow").attr("class",o===0?"disabled":"").on("click",()=>{o>0&&(C(o-1),w(V))}),I.select("#down-arrow").attr("class",o>=a-1?"disabled":"").on("click",()=>{o<a-1&&(C(o+1),w(V))})},M=V=>{a>1&&n.cellFilter(A()),V.select("g.legendCells").remove();let I=H(V);I.call(n);let z=V.select("g.legendCells").node().getBBox();I.attr("height",z.height+l5),l(V)},C=V=>{o=V,t.legend={...t.legend,pageIndex:o}},A=()=>(V,I)=>I>=i*o&&I<i*o+i,T=V=>{let I=V.node().getBoundingClientRect(),z=Math.floor(I.height/u5)-1;i=z<r.length?z-1:z,a=D(z),o=Math.min(o,a-1)},D=V=>Math.ceil(r.length/V),R=V=>Ht(V,".legend-controls",()=>V.append("g").attr("class","legend-controls").html(J6)),H=V=>Ht(V,".legend",()=>V.append("svg").attr("class","legend"));return m.decorate=(...V)=>V.length?(l=V[0],m):l,(0,c5.rebindAll)(m,n),m};var s5=e=>dg($s().shape("circle").shapeRadius(6),e),HV=e=>dg(Z6().shapePadding(1).labelOffset(3),e),Sn=()=>mg(s5),pl=()=>mg(HV,d5),f5=()=>mg(s5,d5);function d5(e){if(!e)return null;let t=e.domain(),n=e.range().map(r=>Nu().type(r)());return gr().domain(t).range(n)}function mg(e,t=void 0){let n={},r=null,a=null,i=o=>{if(r&&r.range().length>1){let l=e(n);l.scale(r).orient("vertical").on("cellclick",function(f){let m=this.__data__;n.hideKeys=n.hideKeys||[],n.hideKeys.includes(m)?n.hideKeys=n.hideKeys.filter(w=>w!==m):n.hideKeys.push(m),zo(this)._draw()}),l.labels(f=>{let m=String(f.domain[f.i]).split("|");return n.mainValues.length<=1&&m.length>1?m.slice(0,m.length-1).join("|"):f.domain[f.i]});let s=Ht(o,"div.legend-container",()=>o.append("div"));l.decorate(f=>{let m=v=>n.hideKeys&&n.hideKeys.includes(v),w=f.select("g.legendCells").attr("transform","translate(20,20)").selectAll("g.cell");w.classed("hidden",m),w.append("title").html(v=>v),a&&w.select("circle, path").style("fill",v=>m(v)?null:a(v)).style("stroke",v=>m(v)?null:Hr(a(v)))}),s.attr("class","legend-container").attr("borderbox-on-hover",!0).style("z-index","2").call(l)}};return i.settings=(...o)=>o.length===0?n:(n=o[0],i),i.scale=(...o)=>o.length?(r=t?t(o[0]):o[0],i):r,i.color=(...o)=>o.length?(a=o[0],i):a,i}function rr(e,t=void 0){let n=t||e.data;return(e.hideKeys?.length??0)>0?n.map(a=>{let i={...a};return e.hideKeys.forEach(o=>{delete i[o]}),i}):n}function Ho(e){let t=e.data,n=e.hideKeys?.length??0,r=e.splitValues.length;return n>0?r===0?t.filter(a=>Object.values(a).reduce((i,o)=>i&&!e.hideKeys.includes(o),!0)):t.map(a=>{let i=Object.entries(a).filter(([o,l])=>!e.hideKeys.includes(Ba(o)));return Object.fromEntries(i)}):t}var Wa=pt(_t(),1),YV=e=>(t,n)=>t.style("stroke-width",r=>"1.0").style("stroke",r=>hg(r,e));function hg(e,t){return e===0?t?t.textStyles.color:"#666":t?t.colorStyles.grid.gridLineColor:"#bbb"}var WV=e=>(t,n)=>{t.strokeStyle=hg(n,e),t.lineWidth=1},$V=(e,t)=>e.style("display","none"),UV=e=>(t,n)=>{t.lineWidth=1,t.strokeStyle=hg(n,e)},Zt=(e,t)=>{let n="both",r=!1,a=null,i=null,o=null,l=Wa.seriesSvgMulti(),s=Wa.annotationSvgGridline(),f=YV(t),m=$V,w=function(...v){r&&(l=Wa.seriesCanvasMulti().context(o),s=Wa.annotationCanvasGridline(),f=WV(t),m=UV(t));let M=l.xScale(a).yScale(i),C=n==="vertical"?m:f,A=n==="horizontal"?m:f,T=s.xDecorate(C).yDecorate(A);return M.series([T,e])(...v)};return w.orient=(...v)=>v.length?(n=v[0],w):n,w.canvas=(...v)=>v.length?(r=v[0],w):r,w.xScale=(...v)=>v.length?(a=v[0],w):a,w.yScale=(...v)=>v.length?(i=v[0],w):i,w.context=(...v)=>v.length?(o=v[0],w):o,w};var m5=pt(_t(),1),Mn=()=>{let e=Ds(),t=n=>{let r=e.pad(),a=e.padUnit(),i=1;switch(a){case"domain":break;case"percent":{i=n[1]-n[0];break}default:throw new Error("Unknown padUnit: "+a)}let o=n[0]-r[0]*i,l=n[1]+r[1]*i;return n[0]=n[0]>=0&&o<0?0:o,n[1]=n[1]<=0&&l>0?0:l,n};return t.pad=function(...n){return e.pad()},t.padUnit=function(...n){return e.padUnit()},m5.rebindAll(t,e),t};var h5=`<button id="zoom-reset">Reset zoom</button>
<button id="one-year">1 Year</button>
<button id="six-months">6 Months</button>
<button id="one-month">1 Month</button>
`;var Kt=()=>{let e=null,t=null,n=null,r=null,a=null,i=null,o=!1,l=!1,s=()=>{};function f(M){let C=`d3fc-${l?"canvas":"svg"}.plot-area`;if(n||a){let A=r&&r.domain()[0]instanceof Date,T=bs().on("zoom",R=>{let{transform:H}=R;t.zoom={k:H.k,x:H.x,y:H.y},m(H),M.call(e);let V=H.k===1&&H.x===0&&H.y===0,I=w(M).style("display",V?"none":"");I.select("#zoom-reset").on("click",()=>M.select(C).call(T.transform,zr));let z=I.select("#one-year").style("display",A?"":"none"),j=I.select("#six-months").style("display",A?"":"none"),Z=I.select("#one-month").style("display",A?"":"none");if(A){let ve=ye=>()=>{let ue=new Date(n.domain()[0]),Ie=new Date(ue);ye(ue,Ie);let de=r.range(),$=(de[1]-de[0])/(r(Ie)-r(ue)),we=-r(ue)*$,te=0;if(a){let ae=a.domain().reduce((pe,ie)=>pe+ie)/2;te=-i(ae)*$+a(ae)}M.select(C).call(T.transform,zr.translate(we,te).scale($))};z.on("click",ve((ye,ue)=>ue.setYear(ye.getFullYear()+1))),j.on("click",ve((ye,ue)=>ue.setMonth(ye.getMonth()+6))),Z.on("click",ve((ye,ue)=>ue.setMonth(ye.getMonth()+1)))}}),D=e.decorate();e.decorate((R,H)=>{if(D(R,H),!o){o=!0;let V=R.select(C),I=l?window.devicePixelRatio:1;V.on("measure.zoom-range",z=>{if(r&&r.range([0,z.detail.width/I]),i&&i.range([0,z.detail.height/I]),t.zoom){let j=zr.translate(t.zoom.x,t.zoom.y).scale(t.zoom.k);V.call(T.transform,j)}}).call(T)}})}M.call(e)}f.chart=(...M)=>M.length?(e=M[0],f):e,f.settings=(...M)=>M.length?(t=M[0],f):t,f.xScale=(...M)=>M.length?(n=v(M[0]),r=n?n.copy():null,f):n,f.yScale=(...M)=>{if(!M.length)return a;if(a=v(M[0]),i=a?a.copy():null,i){let C=i.domain();i.domain([C[1],C[0]])}return f},f.canvas=(...M)=>M.length?(l=M[0],f):l,f.onChange=(...M)=>M.length?(s=M[0],f):s;let m=M=>{let C={...M};if(n&&(n.domain(M.rescaleX(r).domain()),C.xDomain=n.domain()),a){let A=M.rescaleY(i).domain();a.domain([A[1],A[0]]),C.yDomain=a.domain()}s(C)},w=M=>Ht(M,".zoom-controls",()=>M.append("div").attr("class","zoom-controls").style("display","none").html(h5)),v=M=>M&&M.nice?M:null;return f};function g5(e,t){let n=Fs(t,rr(t)),r=Br(t),a=Sn().settings(t).scale(r),i=Is(t,r).orient("horizontal"),o=p5.seriesSvgMulti().mapping((w,v)=>w[v]).series(n.map(()=>i)),l=Et(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[0]).excludeType(Nt.ordinal).include([0]).paddingStrategy(Mn())(n),s=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue").orient("vertical")(n),f=tr(l,s).plotArea(Zt(o,t).orient("horizontal"));f.yPaddingInner&&(f.yPaddingInner(.5),f.yPaddingOuter(.25),i.align("left")),f.xNice&&f.xNice();let m=Kt().chart(f).settings(t).yScale(s.scale);e.datum(n).call(m),e.call(a)}g5.plugin={name:"X Bar",category:"X Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["X Axis"]}};var v5=g5;var T5=pt(_t(),1);var w5=(e,t)=>{if(!y5(e)||!y5(t))return;let n=b5(e),r=b5(t);n>r?t[0]=x5(t,n):e[0]=x5(e,r)},y5=e=>e.length===2&&!isNaN(e[0])&&!isNaN(e[1])&&e[0]!==e[1],b5=e=>(0-e[0])/(e[1]-e[0]),x5=(e,t)=>t*e[1]/(t-1);var _5=pt(_t(),1);var S5=e=>{let t=[],n=!1,r,a=o=>{o.text("");let l=_5.dataJoin("span","splitter-label").key(m=>m),s=!n&&t.length===1,f=r&&e.splitValues.length===0;l(o,t).classed("disabled",s).text(m=>m.name).style("color",m=>f?Hr(r(m.name)):void 0).on("click",(m,w)=>{s||(n?e.splitMainValues=e.splitMainValues.filter(v=>v!=w.name):e.splitMainValues=[w.name].concat(e.splitMainValues||[]),m.target.getRootNode().host.closest("perspective-viewer")?.dispatchEvent(new Event("perspective-config-update")),i(o))})},i=o=>{let l=zo(o.node());l._container.innerHTML="",l._draw()};return a.labels=(...o)=>o.length?(t=o[0],a):t,a.alt=(...o)=>o.length?(n=o[0],a):n,a.color=(...o)=>o.length?(r=o[0],a):r,a};var $a=(e,t,n=GV)=>{let r,a,i,o=e.splitMainValues||[],l=m=>{let w=m.split("|");return o.includes(w[w.length-1])},s=e.mainValues.some(m=>l(m.name));a=s?n(t,m=>!l(m)):t,i=s?n(t,l):null;let f=m=>{if(e.mainValues.length===1)return;let w=e.mainValues.map((A,T)=>({index:T,name:A.name})),v=w.filter(A=>!l(A.name)),M=w.filter(A=>l(A.name)),C=()=>S5(e).color(r);m.select(".y-label.left-label").call(C().labels(v)),m.select(".y-label.right-label").call(C().labels(M).alt(!0))};return f.color=(...m)=>m.length?(r=m[0],f):r,f.haveSplit=()=>s,f.data=(...m)=>m.length?(a=m[0],f):a,f.altData=(...m)=>m.length?(i=m[0],f):i,f},GV=(e,t)=>e.map(n=>n.filter(r=>t(r.key))),pg=(e,t)=>e.map(n=>t(n.key)?n:n.map(r=>Object.assign({},r,{mainValue:null}))),M5=(e,t)=>e.map(n=>pg(n,t));function C5(e,t){let n=Fs(t,rr(t)),r=Br(t),a=Sn().settings(t).scale(r),i=Is(t,r).orient("vertical"),o=T5.seriesSvgMulti().mapping((A,T)=>A[T]).series(n.map(()=>i)),l=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),s=Et(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(Nt.ordinal).orient("vertical").include([0]).paddingStrategy(Mn()),f=t.mainValues.length>1?M5:pg,m=$a(t,n,f).color(r),w=s(m.data()),v=m.haveSplit()?o:Zt(o,t).orient("vertical"),M=tr(l,w).axisSplitter(m).plotArea(v);M.xPaddingInner&&(M.xPaddingInner(.5),M.xPaddingOuter(.25),i.align("left")),M.yNice&&M.yNice();let C=Kt().chart(M).settings(t).xScale(l.scale);if(m.haveSplit()){let A=s(m.altData());w5(w.domain,A.domain),M.yDomain(w.domain).altAxis(A)}e.datum(m.data()).call(C),e.call(a)}C5.plugin={name:"Y Bar",category:"Y Chart",max_cells:1e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var A5=C5;var D5=pt(_t(),1);var k5=pt(_t(),1);function Yo(e,t){let n=k5.seriesSvgLine(),r=e.data.length*(e.data?.length>0?Object.keys(e.data[0]).length-(e.crossValues?.length>0?1:0):0),a=Math.max(1,Math.min(3,Math.floor(e.size.width/r/2)));return n=n.decorate(i=>{i.style("stroke",o=>Hr(t(o[0]&&o[0].key))).style("stroke-width",a)}),n.crossValue(i=>i.crossValue).mainValue(i=>i.mainValue)}function V5(e,t){let n=nr(e);return t.map((r,a)=>Object.keys(r).filter(i=>i!=="__ROW_PATH__").map(i=>({key:i,crossValue:n(r,a),mainValue:r[i],row:r})))}var Us=function(e){let t=[];for(let n of e)for(let r=0;r<n.length;r++)n[r].mainValue!==null&&(t[r]=t[r]||[],t[r].push(n[r]));return t};var qs=pt(_t(),1);var gg=(e,t,n=Math.min)=>{let r=o=>o.reduce((l,s)=>{let f=a(s);return f&&(!l||n(l.value,f.value)===f.value)?f:l},null),a=o=>{if(Array.isArray(o))return r(o);let l=t(o);return l!==null?{item:o,value:l}:null},i=r(e);return i?i.item:null};var Fn=()=>{let e=Fa().alwaysShow(!0),t=null,n=null,r=null,a=null,i=!1,o=null,l="crossValue",s="mainValue",f=null,m=1,w=C=>{let A=`d3fc-${i?"canvas":"svg"}.plot-area`;if(t||n){let T=null,D=qs.pointer().on("point",R=>{let H=R.length?M(R[0]):null;T=H?[H.data]:[];let V=H?H.scale:n;v(C,T,V)});C.select(A).on("measure.nearbyTip",()=>v(C,[])).on("click",()=>{T.length&&ll(C.node(),T[0],e.settings())}).call(D)}},v=(C,A,T=n)=>{let D=C.select("d3fc-svg.plot-area svg").selectAll("circle.nearbyTip").data(A);D.exit().remove(),D.enter().append("circle").attr("class","nearbyTip").merge(D).attr("r",R=>a?m*Math.sqrt(a(R.size)):10).attr("transform",R=>`translate(${t(R[l])},${T(R[s])})`).style("stroke","none").style("fill",R=>r&&R.key&&Hi(r(R.key))),e(D)},M=C=>{let A=R=>H=>H[s]===void 0||H[s]===null||H[l]===void 0||H[l]===null?null:Math.sqrt(Math.pow(t(H[l])-C.x,2)+Math.pow(R(H[s])-C.y,2)),T=A(n),D=gg(o,T,Math.min);if(f){let R=A(f.yScale),H=gg(f.data,R,Math.min);return T(D)<=R(H)?{data:D,scale:n}:{data:H,scale:f.yScale}}return{data:D,scale:n}};return w.scaleFactor=(...C)=>C.length?(m=C[0],w):m,w.xScale=(...C)=>C.length?(t=C[0],w):t,w.yScale=(...C)=>C.length?(n=C[0],w):n,w.color=(...C)=>C.length?(r=C[0],w):r,w.size=(...C)=>C.length?(a=C[0]?C[0].copy().range([40,4e3]):null,w):a,w.canvas=(...C)=>C.length?(i=C[0],w):i,w.data=(...C)=>C.length?(o=C[0],w):o,w.xValueName=(...C)=>C.length?(l=C[0],w):l,w.yValueName=(...C)=>C.length?(s=C[0],w):s,w.altDataWithScale=(...C)=>C.length?(f=C[0],w):f,w.settings=(...C)=>C.length?(e.settings(C[0]),w):e.settings(),qs.rebindAll(w,e),w};function N5(e,t){let n=V5(t,rr(t)),r=Br(t),a=Sn().settings(t).scale(r),i=D5.seriesSvgRepeat().series(Yo(t,r)).orient("horizontal"),o=Mn().pad([.1,.1]).padUnit("percent"),l=$a(t,Us(n)).color(r),s=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),f=Et(t).settingName("mainValues").valueName("mainValue").memoValue(l.haveSplit()?null:t.axisMemo[0]).orient("vertical").paddingStrategy(o),m=f(l.data()),w=l.haveSplit()?i:Zt(i,t).orient("vertical"),v=tr(s,m).axisSplitter(l).plotArea(w);v.yNice&&v.yNice();let M=Kt().chart(v).settings(t).xScale(s.scale),C=Fn().settings(t).xScale(s.scale).yScale(m.scale).color(r).data(n);if(l.haveSplit()){let T=f(l.altData());v.altAxis(T),C.data(l.data()).altDataWithScale({yScale:T.scale,data:l.altData()})}let A=l.data();e.datum(A).call(M),e.call(C),e.call(a)}N5.plugin={name:"Y Line",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var E5=N5;var R5=pt(_t(),1);var P5=pt(_t(),1);var vg=Math.sqrt(3),XV={draw:function(e,t){let n=Math.sqrt(t/(vg*3));e.moveTo(0,n*2),e.lineTo(-vg*n,-n),e.lineTo(vg*n,-n),e.closePath()}},jV=[dr,wi,_i,Si,Mi,Ti,Ci],yg={circle:dr,square:Si,cross:wi,diamond:_i,star:Mi,triangle:Ti,wye:Ci,nabla:XV};function gl(e){return e.length>1?gr().domain(e).range(jV):null}var QV=8,ZV=1;function L5(e,t,n,r,a,i,o=1){let l=(0,P5.seriesCanvasPoint)().crossValue(s=>s.x).mainValue(s=>s.y);return i&&l.type(s=>i(s.row[t])),n&&l.size(s=>Math.round(o*n(s.size))),l.decorate((s,f)=>{let m=r(f.colorValue),w=e.colorStyles?.opacity;if(a){let{type:v}=e.mainValues.find(C=>C.name===a),M=oa(v,f.row[a]);if(M!==null){s.fillStyle=e.textStyles.color,s.font=e.textStyles.font;let C=0;n&&(C=Math.sqrt(o*n(f.size)/Math.PI)*ZV);let A=C+QV;s.fillText(M,A,4)}}s.strokeStyle=Hr(m),s.fillStyle=Hi(m,w)}),l}function O5(e,t){let n=[...new Set(Rs(e,t))];return gl(n)}function z5(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=[];return Object.keys(t).forEach(r=>{if(r!=="__ROW_PATH__"){let a=Ba(r);n.includes(a)||n.push(a)}}),gl(n)}function I5(e,t){let n=e.mainValues.length;return t.map(r=>{let a=Object.keys(r).filter(o=>o!=="__ROW_PATH__"),i=new Array(a.length/n);for(let o=0;o<a.length/n;o++)i[o]={key:Ba(a[o*n]),crossValue:r[a[o*n]],mainValue:r[a[o*n+1]],row:r};return i})}function F5(e,t){let n=Us(I5(t,Ho(t))),r=t6(t),a=z5(t),i=null;r.domain().length>=2&&(i=f5().settings(t).scale(a).color(r));let o=R5.seriesSvgRepeat().series(Yo(t,r)).orient("horizontal"),l=Mn().pad([.1,.1]).padUnit("percent"),s=Et(t).settingName("mainValues").settingValue(t.mainValues[0].name).valueName("crossValue").memoValue(t.axisMemo[0]).paddingStrategy(l),m=Et(t).settingName("mainValues").settingValue(t.mainValues[1].name).valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l)(n),w=s(n),v=Zt(o,t).orient("vertical"),M=tr(w,m).xLabel(t.mainValues[0].name).yLabel(t.mainValues[1].name).plotArea(v);M.xNice&&M.xNice(),M.yNice&&M.yNice();let C=Kt().chart(M).settings(t).xScale(w.scale).yScale(m.scale),A=Fn().settings(t).xScale(w.scale).yScale(m.scale).color(r).data(n);e.datum(n).call(C),e.call(A),i&&e.call(i)}F5.plugin={name:"X/Y Line",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Tooltip"]},selectMode:"toggle"};var B5=F5;var vl=pt(_t(),1);var H5=pt(_t(),1);function Y5(e,t){let n=H5.seriesSvgArea();return n=n.decorate(r=>{r.style("fill",a=>t(a[0].key)).style("opacity",.5)}),n.crossValue(r=>r.crossValue).mainValue(r=>r.mainValue).baseValue(r=>r.baseValue)}function W5(e,t){let n=nr(e);return t.map((r,a)=>{let i={};return Object.keys(r).filter(o=>o!=="__ROW_PATH__").map(o=>{let l=o.split("|"),s=l[l.length-1],f=i[s]||0,m=f+r[o];return i[s]=m,{key:o,crossValue:n(r,a),mainValue:m,baseValue:f,row:r}})})}function $5(e,t){let n=W5(t,rr(t)),r=Br(t),a=Sn().settings(t).scale(r),i=vl.seriesSvgRepeat().series(Y5(t,r).orient("vertical")),o=vl.seriesSvgRepeat().series(Yo(t,r)).orient("vertical"),l=vl.seriesSvgMulti().series([i,o]),s=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),f=Et(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).excludeType(Nt.ordinal).orient("vertical").include([0]).paddingStrategy(Mn()),m=$a(t,n).color(r),w=f(m.data()),v=m.haveSplit()?l:Zt(l,t).orient("vertical"),M=tr(s,w).axisSplitter(m).plotArea(v);M.yNice&&M.yNice();let C=Kt().chart(M).settings(t).xScale(s.scale),A=Fn().settings(t).xScale(s.scale).yScale(w.scale).color(r).data(n);if(m.haveSplit()){let T=f(m.altData());M.altAxis(T),A.data(m.data()).altDataWithScale({yScale:T.scale,data:m.altData()})}e.datum(m.data()).call(C),e.call(A),e.call(a)}$5.plugin={name:"Y Area",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var U5=$5;var j5=pt(_t(),1);var q5=pt(_t(),1);function G5(e,t,n,r){let a=q5.seriesSvgPoint().size(100),i=e.colorStyles&&e.colorStyles.opacity;return r&&a.type(r(t)),a.decorate(o=>{o.style("stroke",l=>Hr(n(l.colorValue||t))).style("fill",l=>Hi(n(l.colorValue||t),i))}),a.crossValue(o=>o.crossValue).mainValue(o=>o.mainValue)}function X5(e){let t=e.data&&e.data.length>0?e.data[0]:{},n=Object.keys(t).filter(r=>r!=="__ROW_PATH__");return gl(n)}function Q5(e,t){let n=r6(t,rr(t)),r=X5(t),a=Br(t),i=pl().settings(t).scale(r).color(a),o=j5.seriesSvgMulti().mapping((T,D)=>T[D]).series(n.map(T=>G5(t,T.key,a,r))),l=Mn().pad([.05,.05]).padUnit("percent"),s=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),f=Et(t).settingName("mainValues").valueName("mainValue").memoValue(t.axisMemo[1]).orient("vertical").paddingStrategy(l),m=$a(t,n).color(a),w=f(m.data()),v=m.haveSplit()?o:Zt(o,t).orient("vertical"),M=tr(s,w).axisSplitter(m).plotArea(v);M.yNice&&M.yNice();let C=Kt().chart(M).settings(t).xScale(s.scale),A=Fn().settings(t).xScale(s.scale).yScale(w.scale).color(a).data(n);if(m.haveSplit()){let T=f(m.altData());M.altAxis(T),A.data(m.data()).altDataWithScale({yScale:T.scale,data:m.altData()})}e.datum(m.data()).call(C),e.call(A),i&&e.call(i)}Q5.plugin={name:"Y Scatter",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{names:["Y Axis"]}};var Z5=Q5;function K5(e,t){return Wi(e,t,{excludeEmpty:!0}).map(n=>KV(e,n))}function KV(e,t){let n=nr(e),r=t.map((a,i)=>({crossValue:n(a,i),mainValues:e.mainValues.map(o=>a[o.name]),x:a[e.mainValues[0].name],y:a[e.mainValues[1].name],colorValue:e.realValues[2]?a[e.realValues[2]]:void 0,size:e.realValues[3]?a[e.realValues[3]]:void 0,key:t.key,row:a}));return r.key=t.key,r}function J5(e,t,n,r){return ia().domain(e4(t,n,r))}function Ua(e,t,n,r=null){let a=e4(t,n,r),i=e.colorStyles.gradient.full;if(a[0]>=0)i=e.colorStyles.gradient.positive;else if(a[1]<=0)i=e.colorStyles.gradient.negative;else{let l=Math.max(-a[0],a[1]);a=[-l,l]}let o=JV(i);return ul(o).domain(a)}var e4=(e,t,n)=>n||jp().valueName(t).pad([0,0])(e),JV=e=>{let t=e.slice(1).map((n,r)=>jt(e[r][1],n[1]));return n=>{let r=e.findIndex((l,s)=>s<e.length-1&&n<=e[s+1][0]&&n>l[0]);if(r===-1)return n<=e[0][0]?e[0][1]:e[e.length-1][1];let a=t[r],[i]=e[r],[o]=e[r+1];return a((n-i)/(o-i))}};var qa=pt(_t(),1);function Ga(){let e=null;function t(n){let r=Ht(n,"div.legend-container",()=>n.append("div").attr("class","legend-container legend-color").style("z-index","2")),{width:a,height:i}=r.node().getBoundingClientRect(),o=ra().domain([0,1]).range([0,a]),l=e.copy().nice().domain(),s=qa.extentLinear().pad([.1,.1]).padUnit("percent")(l),[f,m]=s,w=ii(f,m,(m-f)/i),v=ia().domain(s).range([i,0]),M=qa.autoBandwidth(qa.seriesSvgBar()).xScale(o).yScale(v).crossValue(0).baseValue((I,z)=>w[Math.max(0,z-1)]).mainValue(I=>I).decorate(I=>{I.selectAll("path").style("fill",z=>e(z))}),C=l[0]<0&&l[1]>0?0:Math.round((l[1]+l[0])/2),A=[...l,C],T=Ns(f,m),D=qa.axisRight(v).tickValues(A).tickSizeOuter(0).tickFormat(I=>T(I)),R=Ht(r,"svg",()=>r.append("svg")).style("width",a).style("height",i),H=Ht(R,"g",()=>R.append("g")).datum(w).call(M),V=Math.abs(H.node().getBBox().x);Ht(R,"#legend-axis",()=>R.append("g").attr("id","legend-axis")).attr("transform",`translate(${V})`).datum(w).call(D).select(".domain").attr("visibility","hidden")}return t.scale=(...n)=>n.length?(e=n[0],t):e,t}function Wo(){let e="element-prefix-unset",t=null,n=null,r=null,a=null,i=null,o=null,l=!0,s=null,f=m=>{let w=Ht(m,"div.outer-container",()=>m.append("div").attr("class","outer-container").style("width",`calc(100% - ${s??0})`).style("height",`calc(100% - ${s??0})`).style("padding-left",s??0)),v=Ht(w,"div.inner-container",()=>w.append("div").attr("class","inner-container")),M=w.node().getBoundingClientRect(),C=M.height,A=M.width-(i?70:0),T=300,D=m.datum(),R=Math.max(1,Math.min(D.length,Math.floor(A/T))),H=Math.ceil(D.length/R);o={width:A/Math.max(R,1),height:Math.min(C,Math.max(C/H,A/Math.max(R,1)))},C/H>o.height*.75&&(o.height=C/H),D.length>1?(v.style("grid-template-columns",`repeat(${R}, ${100/R}%)`),v.style("grid-template-rows",`repeat(${H}, ${o.height}px)`)):(v.style("grid-template-columns","repeat(1, 100%)"),v.style("grid-template-rows","repeat(1, 100%)")),r=v.selectAll(`div.${e}-container`).data(D,V=>V.split),r.exit().remove(),n=r.enter().append("div").attr("class",`${e}-container`),a=n.append("div").attr("class","title-container").style("text-align","center").attr("display","inline-block").append("text").attr("class","title").style("text-align","left"),l?t=n.append("svg").append("g").attr("class",e):t=n.append("div").attr("class",e)};return f.padding=(...m)=>m.length?(s=m[0],f):s,f.svg=(...m)=>m.length?(l=m[0],f):l,f.elementsPrefix=(...m)=>m.length?(e=m[0],f):e,f.chartContainer=()=>t,f.chartEnter=()=>n,f.chartDiv=()=>r,f.chartTitle=()=>a,f.containerSize=()=>o,f}var t4=pt(_t(),1);function eD([e,t],[n,r]){let a=(r-t)/(n-e),i=r-a*n;return function(o){let l=o.node(),s=Math.min(l.clientWidth,l.clientHeight);return Math.min(r,Math.max(t,a*s+i))}}function Gs(){let e=null,t=null,n=null,r=null,a=i=>{let l=!!e.realValues[2],s=e.realValues[4],f=e.realValues[3]?J5(e,t,"size").range([10,1e4]):null,m=e.realValues[5],w=eD([600,.1],[1600,1])(i),v=t4.seriesCanvasMulti().mapping((I,z)=>I[z]).series(t.map(()=>L5(e,s,f,n,m,r,w))),M=()=>Et(e).settingName("mainValues").paddingStrategy(Mn()).pad([.1,.1]),C=M().settingValue(e.mainValues[0].name).memoValue(e.axisMemo[0]).valueName("x")(t),A=M().orient("vertical").settingValue(e.mainValues[1].name).memoValue(e.axisMemo[1]).valueName("y")(t),[T,D]=e.splitValues.length===0?[e.mainValues[0].name,e.mainValues[1].name]:["",""],R=Ro(C,A).xLabel(T).yLabel(D).plotArea(Zt(v,e).canvas(!0));R.xNice&&R.xNice(),R.yNice&&R.yNice();let H=Kt().chart(R).settings(e).xScale(C.scale).yScale(A.scale).canvas(!0),V=Fn().scaleFactor(w).settings(e).canvas(!0).xScale(C.scale).xValueName("x").yValueName("y").yScale(A.scale).color(!l&&n).size(f).data(t);i.datum(t).call(H),i.call(V)};return a.settings=(...i)=>i.length?(e=i[0],a):e,a.data=(...i)=>i.length?(t=i[0],a):t,a.color=(...i)=>i.length?(n=i[0],a):n,a.symbols=(...i)=>i.length?(r=i[0],a):r,a}function tD(e,t){if(!t)return;let n=e.realValues[4],r=e.mainValues.find(s=>s.name===n)?.type,a=t.domain(),i=t.range(),o=i.length;for(let[s,f]of a.entries())i[s]=i[s%o];let l=e.columns_config?.[n]?.symbols??{};return Object.entries(l).forEach(([s,f])=>{let m=yg[f]??dr,w=a.findIndex(v=>{switch(r){case"date":case"datetime":return new Date(v).valueOf()===new Date(s).valueOf();default:return String(v)===String(s)}});i[w]=m}),t.range(i),t}function Xs(e,t){let n=t.realValues[2],r=!!n,a=t.mainValues.find(w=>w.name===n)?.type==="string",i=null,o=null,l=t.realValues[4],s=O5(t,l),f=tD(t,s),m=K5(t,Ho(t));if(r&&a?l?(t.splitValues.length>0?i=Bi(t,m):i=Bi(t,m[0]),o=pl().settings(t).scale(f)):(i=e6(t,n),o=Sn().settings(t).scale(i)):r?(i=Ua(t,m,"colorValue"),o=Ga().scale(i)):(i=vr().settings(t).domain([""])(),o=pl().settings(t).scale(f)),t.splitValues.length!==0){let w=Wo().svg(!1).elementsPrefix("xy-scatter");w=w.padding("2.5em"),e.append("div").attr("class","multi-xlabel").append("p").text(t.mainValues[0].name),e.append("div").attr("class","multi-ylabel").append("p").text(t.mainValues[1].name).style("transform","rotate(-90deg)").style("text-wrap","nowrap"),e=e.datum(m),e.call(w);let C=w.chartContainer(),A=w.chartEnter(),T=w.chartDiv(),D=w.chartTitle(),R=w.containerSize();D.each((H,V,I)=>Re(I[V]).text(H.key)),A.merge(T).attr("transform",`translate(${R.width/2}, ${R.height/2})`).each(function(H){let V=Re(this);Gs().settings(t).data([H]).color(i).symbols(f)(V)})}else Gs().settings(t).data(m).color(i).symbols(f)(e);o&&e.call(o)}Xs.plugin={name:"X/Y Scatter",category:"X/Y Chart",max_cells:5e4,max_columns:50,render_warning:!0,initial:{type:"number",count:2,names:["X Axis","Y Axis","Color","Size","Symbol","Label","Tooltip"]},selectMode:"toggle"};Xs.can_render_column_styles=(e,t)=>e==="string"&&t==="Symbol";Xs.column_style_controls=(e,t)=>e==="string"&&t==="Symbol"?{symbols:{keys:"row",values:Object.keys(yg)}}:null;var n4=Xs;var js=pt(_t(),1);function r4(e,t){let n=js.seriesCanvasHeatmap();return n.decorate((r,a)=>{r.fillStyle=t(a.colorValue)}),js.autoBandwidth(n).xValue(r=>r.crossValue).yValue(r=>r.mainValue).colorValue(r=>r.colorValue).colorInterpolate(t.interpolator()).widthFraction(1)}function a4(e,t){let n=nr(e),r=Eo(e).excludeType(Nt.linear).settingName("splitValues")(),a=[];return t.forEach((i,o)=>{let l=n(i,o);Object.keys(i).filter(s=>s!=="__ROW_PATH__").forEach(s=>{let f=nD(s);a.push({crossValue:l,mainValue:r===Nt.time?new Date(f):f,colorValue:i[s],row:i})})}),a}function nD(e){let t=e.split("|");return t.pop(),t.join("|")}function i4(e,t){let n=a4(t,rr(t)),r=Ua(t,n,"colorValue"),a=r4(t,r),i=Ga().scale(r),o=Et(t).excludeType(Nt.linear).settingName("crossValues").valueName("crossValue")(n),l=Et(t).excludeType(Nt.linear).settingName("splitValues").valueName("mainValue").modifyDomain(w=>!isNaN(w[0])?w.reverse():w).orient("vertical")(n),s=Ro(o,l).plotArea(Zt(a,t).canvas(!0));s.xPaddingInner&&(s.xPaddingInner(0),s.xPaddingOuter(0),a.xAlign("right")),s.yPaddingInner&&(s.yPaddingInner(0),s.yPaddingOuter(0),a.yAlign("top"));let f=Kt().chart(s).settings(t).xScale(o.scale).yScale(l.scale).canvas(!0),m=Fn().settings(t).canvas(!0).xScale(o.scale).yScale(l.scale).color(r).data(n);e.datum(n).call(f),e.call(i),e.call(m)}i4.plugin={name:"Heatmap",category:"Hierarchial Chart",max_cells:5e4,max_columns:500,render_warning:!0,initial:{names:["Color"]}};var o4=i4;var c4=pt(_t(),1);var Qs=pt(_t(),1);function u4(e,t){return Wi(e,t,{excludeEmpty:!0}).map(n=>rD(e,n))}function rD(e,t){let n=nr(e),r=i=>t[i<t.length-1?i+1:i][e.realValues[0]],a=t.map((i,o)=>{let l=e.realValues[0]?i[e.realValues[0]]:void 0,s=e.realValues[1]?i[e.realValues[1]]:r(o);return{crossValue:n(i,o),mainValues:e.mainValues.map(f=>i[f.name]),openValue:l,closeValue:s,highValue:e.realValues[2]?i[e.realValues[2]]:Math.max(l,s),lowValue:e.realValues[3]?i[e.realValues[3]]:Math.min(l,s),key:t.key,row:i}});return a.key=t.key,a}var $o=pt(_t(),1);var aD=e=>e.closeValue>=e.openValue;function l4(e,t,n){let r=n.domain(),a=vr().domain(r).settings(e).defaultColors([e.colorStyles["series-2"]]).mapFunction(Yi(.5))(),i=vr().settings(e).domain(r)(),o=t().crossValue(f=>f.crossValue).openValue(f=>f.openValue).highValue(f=>f.highValue).lowValue(f=>f.lowValue).closeValue(f=>f.closeValue).decorate((f,m)=>{let w=aD(m)?n(m.key):a(m.key);f.fillStyle=w,f.strokeStyle=w}),l=$o.seriesCanvasLine().mainValue(f=>f.bollinger.average).crossValue(f=>f.crossValue).decorate((f,m)=>{f.strokeStyle=i(m[0].key)}),s=$o.seriesCanvasArea().mainValue(f=>f.bollinger.upper).baseValue(f=>f.bollinger.lower).crossValue(f=>f.crossValue).decorate((f,m)=>{f.fillStyle=Yi(.25)(i(m[0].key))});return $o.seriesCanvasMulti().series([s,o,l])}function iD(e){return function(t,n){let r=u4(n,Ho(n)),a=Qs.indicatorBollingerBands().value(D=>D.openValue),i=r.map(D=>{let R=a(D);return D.map((H,V)=>Object.assign({bollinger:R[V]},H))}),o=r.map(D=>D.key).concat(n.hideKeys?n.hideKeys:[]).sort(),l=vr().domain(o).settings(n).mapFunction(Yi(1))(),s=Sn().settings(n).scale(o.length>1?l:null),f=l4(n,e,l),m=Qs.seriesCanvasMulti().mapping((D,R)=>D[R]).series(i.map(()=>f)),w=Mn().pad([.1,.1]).padUnit("percent"),v=Et(n).settingName("crossValues").valueName("crossValue")(i),M=Et(n).settingName("mainValues").valueNames(["lowValue","highValue"]).memoValue(n.axisMemo[1]).orient("vertical").paddingStrategy(w)(i),C=Ro(v,M).plotArea(Zt(m,n).orient("vertical").canvas(!0));C.yNice&&C.yNice();let A=Kt().chart(C).settings(n).xScale(v.scale).onChange(D=>{let R=i.map(H=>H.filter(V=>V.crossValue>=D.xDomain[0]&&V.crossValue<=D.xDomain[1]));C.yDomain(M.domainFunction(R))}).canvas(!0),T=Fn().settings(n).xScale(v.scale).yScale(M.scale).yValueName("closeValue").color(l).data(i).canvas(!0);t.datum(i).call(A),t.call(T),t.call(s)}}var Zs=iD;var s4=Zs(c4.seriesCanvasOhlc);s4.plugin={name:"OHLC",category:"Y Chart",max_cells:3500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var f4=s4;var d4=pt(_t(),1);var m4=Zs(d4.seriesCanvasCandlestick);m4.plugin={name:"Candlestick",category:"Y Chart",max_cells:4e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Open","Close","High","Low","Tooltip"]},selectMode:"toggle"};var h4=m4;function p4(e,t){if(e.realValues.length>1&&e.realValues[1]!==null){let n=e.realValues[1];if(e.mainValues.find(r=>r.name===n)?.type==="string"){let r=t.map(a=>a.data).filter(a=>a.height>0).map(a=>g4(a)).reduce((a,i)=>a.concat(i));return Bi(e,r)}else return Ua(e,null,null,R8(t.map(r=>r.extents)))}}function g4(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(g4(n,t))):e.data.color&&t.push(e.data.color),t}function Ks(e){let t={},n=e.realValues.map(a=>a===null?null:e.mainValues.find(i=>i.name===a));return e.data.forEach((a,i)=>{let o=Array.isArray(a.__ROW_PATH__)?a.__ROW_PATH__:[];uD(a).forEach(s=>{let f;t[s]||(t[s]=[]),f=t[s],o.forEach((m,w)=>{let v=f.find(M=>M.name===m);if(v||(v={name:m,children:[]},f.push(v)),e.realValues.length>1&&e.realValues[1]!==null){let M=w===o.length-1,C=Uo(M?a:e.agg_paths[i][w+1]||a,e.mainValues[1],s);C!==void 0&&(v.color=C)}if(e.realValues.length>2&&e.realValues[2]!==null){v.tooltip=[];for(let M=2;M<e.realValues.length;++M)v.tooltip.push(Uo(a,n[M],s))}if(w===o.length-1){if(v.name=o.slice(-1)[0],e.crossValues.length===0)v.size=Uo(a,e.mainValues[0],"");else if(o.length===e.crossValues.length){let M=Uo(a,e.mainValues[0],s);v.size=M>0?M:0}}f=v.children})})}),Object.entries(t).map(a=>{let i={name:"root",children:a[1]},o=Pa(i).sum(s=>s.size),l=Ep().size([2*Math.PI,o.height+1])(o);return l.each(s=>{s.current=s,s.mainValues=e.realValues.length===1||e.realValues[1]===null&&e.realValues[2]===null?s.value:[s.value,s.data.color].concat(s.data.tooltip||[]).filter(f=>f!==void 0),s.crossValue=s.ancestors().slice(0,-1).reverse().map(f=>f.data.name),s.key=a[0],s.label=oa(e.crossValues[s.depth-1<0?0:s.depth-1]?.type||e.mainValues[0].type,s.data.name)}),{split:a[0],data:l,extents:oD(e,a)}})}var Uo=(e,t,n)=>n.length?e[`${n}|${t.name}`]:e[t.name];function oD(e,[t,n]){if(e.realValues.length>1&&e.realValues[1]!==null){let r=Math.min(...e.data.map(i=>Uo(i,e.mainValues[1],t))),a=Math.max(...n.map(i=>i.color));return[r,a]}}function uD(e){let t=[];return Object.keys(e).forEach(n=>{if(n!=="__ROW_PATH__"){let r=n.split("|").slice(0,-1).join("|");t.includes(r)||t.push(r)}}),t}var Js=e=>vc().startAngle(t=>t.x0).endAngle(t=>t.x1).padAngle(t=>Math.min((t.x1-t.x0)/2,.005)).padRadius(e).innerRadius(t=>Math.max(1,(t.y0-1)*e)).outerRadius(t=>Math.max((t.y0-1)*e,(t.y1-1)*e-1)),la=e=>e.y0>=1&&e.x1>e.x0;var yl=e=>e.y1<=3&&e.y0>=1&&(e.y1-e.y0)*(e.x1-e.x0)>.06;function ef(e,t){let n=(e.x0+e.x1)/2*180/Math.PI,r=(e.y0-1+(e.y1-1))/2*t;return`rotate(${n-90}) translate(${r},0) rotate(${n<180?0:180})`}function v4(e,t){let n=this.getBBox().width;if(n>t){let r=e.label,a=Re(this);for(;n>t;)r=r.substring(0,r.length-1),a.text(()=>r),n=this.getBBox().width;a.text(()=>`${r.substring(0,r.length-3).replace(/\s+$/,"")}...`)}}var y4=(e,t,n,r,a,i,o,l,s)=>(f,m)=>{s.sunburstLevel[l]=f.data.name,f.parent?(n.datum(f.parent),n.style("cursor","pointer"),r.html(`&#8682; ${f.label}`)):(n.datum(e),n.style("cursor","default"),r.html("")),e.each(v=>v.target={x0:Math.max(0,Math.min(1,(v.x0-f.x0)/(f.x1-f.x0)))*2*Math.PI,x1:Math.max(0,Math.min(1,(v.x1-f.x0)/(f.x1-f.x0)))*2*Math.PI,y0:Math.max(0,v.y0-f.depth),y1:Math.max(0,v.y1-f.depth)});let w=t.transition().duration(m?0:750);a.transition(w).tween("data",v=>{let M=jt(v.current,v.target);return C=>v.current=M(C)}).filter(function(v){return+this.getAttribute("fill-opacity")||la(v.target)}).attr("fill-opacity",v=>la(v.target)?1:0).attr("user-select",v=>la(v.target)?"initial":"none").style("pointer-events",v=>la(v.target)?"initial":"none").attrTween("d",v=>()=>Js(o)(v.current)),i.filter(function(v){return+this.getAttribute("fill-opacity")||yl(v.target)}).transition(w).attr("fill-opacity",v=>+yl(v.target)).attrTween("transform",v=>()=>ef(v.current,o))};function b4(){let e=null,t=null,n=null,r=null,a=null,i=o=>{let l=o.selectAll("g.segment").data(n.descendants().slice(1)),s=l.enter().append("g").attr("class","segment");s.append("path"),s.append("text").attr("class","segment").attr("dy","0.35em");let f=s.merge(l),m=f.select("path").attr("fill-opacity",A=>la(A.current)?1:0).attr("user-select",A=>la(A.current)?"initial":"none").style("pointer-events",A=>la(A.current)?"initial":"none").attr("d",A=>Js(a)(A.current));r&&m.style("fill",A=>r(A.data.color));let w=f.select("text").attr("fill-opacity",A=>+yl(A.current)).attr("transform",A=>ef(A.current,a)).text(A=>A.label).each(function(A){v4.call(this,A,a)}),v=o.select("text.parent"),M=o.select("circle").attr("r",a).datum(n),C=y4(n,o,M,v,m,w,a,t,e);if(e.sunburstLevel){let A=n.descendants().find(T=>T.data.name===e.sunburstLevel[t]);A&&C(A,!0)}else e.sunburstLevel={};M.on("click",A=>C(A,!1)),m.filter(A=>A.children).style("cursor","pointer").on("click",A=>C(A,!1))};return i.settings=(...o)=>o.length?(e=o[0],i):e,i.split=(...o)=>o.length?(t=o[0],i):t,i.data=(...o)=>o.length?(n=o[0],i):n,i.color=(...o)=>o.length?(r=o[0],i):r,i.radius=(...o)=>o.length?(a=o[0],i):a,i}function x4(e,t){let n=Ks(t),r=p4(t,n),a=Wo().elementsPrefix("sunburst");if(e.datum(n).call(a),r){let m=t.realValues[1];if(t.mainValues.find(w=>w.name===m)?.type==="string"){let w=Sn().settings(t).scale(r);e.call(w)}else{let w=Ga().scale(r);e.call(w)}}let i=a.chartContainer(),o=a.chartEnter(),l=a.chartDiv(),s=a.chartTitle(),f=a.containerSize();s.each((m,w,v)=>Re(v[w]).text(m.split)),i.append("circle").attr("fill","none").style("pointer-events","all"),i.append("text").attr("class","parent"),o.merge(l).select("svg").select("g.sunburst").attr("transform",`translate(${f.width/2}, ${f.height/2})`).each(function({split:m,data:w}){let v=Re(this),M=this.parentNode,{width:C,height:A}=M.getBoundingClientRect(),T=(Math.min(C,A)-24)/Math.max(2,t.crossValues.length*2);b4().settings(t).split(m).data(w).color(r).radius(T)(v),Fa().settings(t)(v.selectAll("g.segment"))})}x4.plugin={name:"Sunburst",category:"Hierarchial Chart",max_cells:7500,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var w4=x4;function _4(e,t){if(e.realValues.length<1||e.realValues[1]===null||e.realValues[1]===void 0)return;let n=e.realValues[1],r=t.filter(a=>a.height>0).map(a=>S4(a)).reduce((a,i)=>a.concat(i));if(e.mainValues.find(a=>a.name===n)?.type==="string")return Bi(e,r);{let a=Math.min(...r),i=Math.max(...r);return Ua(e,null,null,[a,i])}}function S4(e,t=[]){return e.children&&e.children.length>0?e.children.forEach(n=>t.concat(S4(n,t))):e.data.color&&t.push(e.data.color),t}var M4=7,tf=e=>!!(e.target&&e.target.textAttributes),nf=(e,t,n)=>{e.selectAll("text").each(function(a,i){let o=fD(a,t,n);this.style=o});let r=xl(e);lD(r),bg(r)},T4=e=>{e.each((t,n,r)=>{Re(r[n]).selectAll("text").attr("dx",t.target.textAttributes.dx).attr("dy",t.target.textAttributes.dy).attr("style",t.target.textAttributes.style)})},bg=e=>{let r=i=>i.getBoundingClientRect(),a=[];e.selectAll("text").filter((i,o,l)=>Re(l[o]).attr("style")===Ui.high).each((i,o,l)=>a.push(l[o])),e.selectAll("text").filter((i,o,l)=>Re(l[o]).attr("style")===Ui.low).each((i,o,l)=>{let s=l[o];a.filter(f=>ng("x",r(f),r(s))&&ng("y",r(f),r(s),-2)).forEach(()=>Re(s).attr("dy",Number(Re(s).attr("dy"))+14))})},C4=e=>Re(e).style("opacity",bl[Re(e).attr("class")]),A4=e=>Re(e).style("opacity",null),bl={top:1,mid:.7,lower:0},xl=e=>e.filter((t,n,r)=>Re(r[n]).selectAll("text").attr("style")!==Ui.zero),rf=e=>e.selectAll("text").each((t,n,r)=>cD(r[n])),lD=e=>e.selectAll("text").each((t,n,r)=>k4(r[n])),k4=e=>{let t=Re(e),n=e.getBoundingClientRect();t.attr("dx",0-n.width/2).attr("dy",0+n.height/4)},cD=e=>{let n=e.parentNode.childNodes[0],r=e.getBBox(),a=n.getBBox();sD(e,a,r)||Re(e).attr("style",Re(e).attr("style"))},sD=(e,t,n)=>{let r=Math.min(t.height/n.height,t.width/n.width);if(r<1){let a=parseInt(Re(e).style("font-size")),i=Math.floor(a*r);return a>M4&&i>M4?(Re(e).style("font-size",`${i}px`),k4(e)):(Re(e).style("font-size",null),Re(e).style("opacity","0")),!0}return!1},fD=(e,t,n)=>{if(!n.filter(r=>r!=="").every(r=>e.crossValue.includes(r)))return Ui.zero;switch(e.depth){case t+1:return Ui.high;case t+2:return Ui.low;default:return Ui.zero}},Ui={high:"font-size:14px;z-index:5;pointer-events: none;",low:"font-size:8px;opacity:0.7;z-index:4;",zero:"font-size:0px;opacity:0;z-index:4;"};var af=(e,t)=>{let n=Pp().size([e,t]).paddingInner(r=>1+2*(r.height-1));return n.tile(Lp),n};var dD=(e,t)=>t.every(n=>e.crossValue.includes(n));function xg(e,t,n,r,a,i){mD(e,t,n,r,a),e.mapLevel[r].levelRoot=!0,hD(e,i.node().getBoundingClientRect().width,i.node().getBoundingClientRect().height,r),D4(n,r)}function V4(e,t){e.each(n=>{n.mapLevel=[],n.mapLevel[0]={x0:n.x0,x1:qi(n)+n.x0,y0:n.y0,y1:Gi(n)+n.y0,visible:!0,opacity:1}}),t.mapLevel[0].levelRoot=!0,D4(e,0)}var of=(e,t)=>{e.each((n,r,a)=>{let i=Re(a[r]).selectAll("text");n.mapLevel[t].textAttributes={dx:i.attr("dx"),dy:i.attr("dy"),class:i.attr("class"),"font-size":i.style("font-size")}})};function mD(e,t,n,r,a){let i={x:e.x0,y:e.y0,width:e.x1-e.x0,height:e.y1-e.y0},o={width:a.x1-a.x0,height:a.y1-a.y0},l={width:o.width/i.width,height:o.height/i.height};n.each(s=>{let f=(s.x0-i.x)*l.width,m=(s.y0-i.y)*l.height,w=qi(s)*l.width,v=Gi(s)*l.height,M=dD(s,t)&&s.data.name!==t[r-1];s.mapLevel[r]={x0:f,x1:w+f,y0:m,y1:v+m,visible:M,opacity:M?1:0}}),e.mapLevel[r].levelRoot=!0}function hD(e,t,n,r){let o=af(t,n)(Pa(e.data).sum(s=>s.size)).descendants(),l=e.descendants();o.forEach((s,f)=>{l[f].mapLevel[r].x0=o[f].x0,l[f].mapLevel[r].x1=o[f].x1,l[f].mapLevel[r].y0=o[f].y0,l[f].mapLevel[r].y1=o[f].y1})}function D4(e,t){e.selectAll("text").each((n,r,a)=>{let i=Re(a[r]),o=Re(a[r]).datum(),l=i.attr("class");o.mapLevel[t].textLockedAt={opacity:bl[l]}})}function N4(e,t,n,r,a,i,o,l,s){if(r.treemapLevel>0){let f=o.crossValue;_g(o,e,t,n,r,a,i,o,0,f,l,s,1,!1),r.treemapRoute.slice(1,r.treemapRoute.length).forEach(m=>{let w=t.filter(M=>M.crossValue===m).datum(),v=w.crossValue;xg(w,v,t,w.depth,o,a),_g(w,e,t,n,r,a,i,o,w.depth,v,l,s,1,!1)})}}function Sg(e,t,n,r,a,i,o,l,s,f){if(!e.children)return;a.treemapLevel<e.depth?a.treemapRoute.push(e.crossValue):a.treemapRoute.pop(),a.treemapLevel=e.depth;let m=e.crossValue;(!e.mapLevel[a.treemapLevel]||!e.mapLevel[a.treemapLevel].levelRoot)&&xg(e,m,n,a.treemapLevel,l,i),_g(e,t,n,r,a,i,o,l,a.treemapLevel,m,s,f)}function _g(e,t,n,r,a,i,o,l,s,f,m,w,v=500,M=!0){let C=e.parent,A=o.transition("main transition").duration(v).ease(ss);n.each(D=>D.target=D.mapLevel[s]),tf(e)||yD(n,m),n.transition(A).tween("data",D=>{let R=jt(D.current,D.target);return H=>D.current=R(H)}).styleTween("opacity",D=>()=>D.current.opacity).attrTween("pointer-events",D=>()=>D.target.visible?"all":"none"),t.transition(A).filter(D=>D.target.visible).styleTween("x",D=>()=>`${D.current.x0}px`).styleTween("y",D=>()=>`${D.current.y0}px`).styleTween("width",D=>()=>`${D.current.x1-D.current.x0}px`).styleTween("height",D=>()=>`${D.current.y1-D.current.y0}px`),r.transition(A).filter(D=>D.target.visible).attrTween("x",D=>()=>D.current.x0+qi(D.current)/2).attrTween("y",D=>()=>D.current.y0+Gi(D.current)/2).end().catch(()=>wg(n)).then(()=>{tf(e)||(bg(T),rf(T),pD(r,o,v),M&&of(n,s),wg(n,m))}).catch(D=>{console.error("Exception completing promises after main transition",D),wg(n,m)}),tf(e)?T4(n):(r.each((D,R,H)=>C4(H[R])),nf(n,s,f));let T=xl(n);C?m.hide(!1).text(e.label).onClick(()=>{Sg(C,t,n,r,a,i,o,l,m,w);let D=i.node().getRootNode().host.parentElement;ll(D,C,w)})():m.hide(!0)()}async function pD(e,t,n=400){let r=t.transition("text fade transition").duration(n).ease(ss);await e.transition(r).filter(a=>a.target.visible).tween("data",(a,i,o)=>{let l=o[i],s=jt(gD(a),vD(l));return f=>a.current.opacity=s(f)}).styleTween("opacity",a=>()=>a.current.opacity).end().catch(a=>console.error("Exception in text fade transition",a)).then(()=>e.each((a,i,o)=>A4(o[i])))}var gD=e=>e.target.textLockedAt.opacity,vD=e=>bl[Re(e).attr("class")],yD=(e,t)=>{t.deactivate(!0),e.each((n,r,a)=>{Re(a[r]).selectAll("rect").style("pointer-events","none")})},wg=(e,t=void 0)=>{t&&t.deactivate(!1),e.each((n,r,a)=>{Re(a[r]).selectAll("rect").style("pointer-events",null)})};var E4=`<button id="goto-parent">Goto parent</button>
`;function P4(e){let t=null,n=null,r=!0,a=!1,i=Ht(e,".parent-controls",()=>e.append("div").attr("class","parent-controls").style("display",r?"none":"").html(E4)),o=()=>{i.style("display",r?"none":"").select("#goto-parent").style("pointer-events",a?"none":null).html(`\u21EA ${n}`).on("click",()=>t())};return o.deactivate=(...l)=>{if(!l.length)return a;a=l[0];let s=i.select("#goto-parent");return a?s.style("pointer-events","none"):s.style("pointer-events",null),o},o.hide=(...l)=>l.length?(r=l[0],o):r,o.text=(...l)=>l.length?(n=l[0],o):n,o.onClick=(...l)=>l.length?(t=l[0],o):t,o}var uf={leaf:"leafnode",branch:"branchnode",root:"rootnode"},qi=e=>e.x1-e.x0,Gi=e=>e.y1-e.y0,xD=(e,t)=>t.depth===e,L4=(e,t)=>t.depth===0?uf.root:xD(e,t)?uf.leaf:uf.branch;function O4(){let e=null,t=null,n=null,r=null,a=null,i=null,o=l=>{i=P4(a),i();let s=n.height;e.treemapLevel||(e.treemapLevel=0),e.treemapRoute||(e.treemapRoute=[]),af(a.node().getBoundingClientRect().width,a.node().getBoundingClientRect().height)(n);let m=l.selectAll("g").data(n.descendants()),w=m.enter().append("g");w.append("rect"),w.append("text");let v=w.merge(m).sort((T,D)=>D.depth-T.depth),M=v.select("rect").attr("class",T=>`treerect ${L4(s,T)}`).style("x",T=>T.x0).style("y",T=>T.y0).style("width",T=>qi(T)).style("height",T=>Gi(T));M.style("fill",T=>L4(s,T)===uf.leaf?T.data.color?r(T.data.color):t.colorStyles.series:"transparent");let C=v.filter(T=>T.value!==0).select("text").attr("x",T=>T.x0+qi(T)/2).attr("y",T=>T.y0+Gi(T)/2).text(T=>T.label),A=M.filter(T=>T.crossValue.length===0).datum();V4(v,A),nf(v,0,[]),rf(xl(v)),of(v,0),e.treemapRoute.length===0&&e.treemapRoute.push(A.crossValue),M.filter(T=>T.children).on("click",(T,D)=>Sg(D,M,v,C,e,a,l,A,i,t)),N4(M,v,C,e,a,l,A,i,t)};return o.settings=(...l)=>l.length?(e=l[0],t=l[1],o):e,o.data=(...l)=>l.length?(n=l[0],o):n,o.color=(...l)=>l.length?(r=l[0],o):r,o.container=(...l)=>l.length?(a=l[0],o):a,o}function z4(e,t){t.treemaps||(t.treemaps={});let n=Ks(t),r=_4(t,n.map(s=>s.data));r&&this._container.classList.add("has-legend");let a=Wo().elementsPrefix("treemap");if(e.datum(n).call(a),r){let s=t.realValues[1];if(t.mainValues.find(f=>f.name===s)?.type==="string"){let f=Sn().settings(t).scale(r);e.call(f)}else{let f=Ga().scale(r);e.call(f)}}let i=a.chartEnter(),o=a.chartDiv();a.chartTitle().each((s,f,m)=>Re(m[f]).text(s.split)),i.merge(o).select("svg").select("g.treemap").each(function({split:s,data:f}){let m=Re(this);t.treemaps[s]||(t.treemaps[s]={}),O4().settings(t.treemaps[s],t).data(f).container(Re(Re(this.parentNode).node().parentNode)).color(r)(m),Fa().settings(t).centered(!0)(m.selectAll("g"))})}z4.plugin={type:"Treemap",name:"Treemap",category:"Hierarchial Chart",max_cells:3e3,max_columns:50,render_warning:!0,initial:{type:"number",count:1,names:["Size","Color","Tooltip"]}};var I4=z4;var wD=[v5,A5,E5,B5,U5,Z5,n4,f4,h4,I4,w4,o4],Mg=wD;var F4=pt(R4(),1),Cg=(e,t)=>{if(!t.colorStyles){let n={scheme:[],gradient:{},interpolator:{},grid:{}},r=MD(e);n.series=r("--d3fc-local-series");for(let i=1;;i++){let o=`series-${i}`,l=r(`--d3fc-local-${o}`);if(!l)break;n[o]=l,n.scheme.push(l)}n.opacity=_D(n.series),n.grid.gridLineColor=r`--d3fc-gridline--color`,["full","positive","negative"].forEach(i=>{let o=r(`--d3fc-local-${i}--gradient`);n.gradient[i]=TD(o,n.opacity)}),t.colorStyles=n}if(!t.textStyles){let n=window.getComputedStyle(e),r=n.getPropertyValue("color"),a=`12px ${n.getPropertyValue("font-family")}`;t.textStyles={color:r,font:a}}},_D=e=>bn(e).opacity,SD=(e,t)=>{let n=bn(`#${e}`);return n.opacity=t,n+""},MD=e=>{let t=getComputedStyle(e);return n=>t?.getPropertyValue(n)},TD=(e,t)=>{let n=F4.parse(e)[0].colorStops;return n.map((r,a)=>[r.length?r.length.value/100:a/(n.length-1),SD(r.value,t)]).sort((r,a)=>r[0]-a[0])};var B4=':host .chart{--d3fc-local-full--gradient:var(--d3fc-full--gradient,linear-gradient(#4d342f 0%,#e4521b 22.5%,#feeb65 42.5%,#f0f0f0 50%,#dcedc8 57.5%,#42b3d5 67.5%,#1a237e 100%));--d3fc-local-positive--gradient:var(--d3fc-positive--gradient,linear-gradient(#dcedc8 0%,#42b3d5 35%,#1a237e 100%));--d3fc-local-negative--gradient:var(--d3fc-negative--gradient,linear-gradient(#feeb65 100%,#e4521b 70%,#4d342f 0%));--d3fc-local-series:var(--d3fc-series,rgba(31,119,180,0.5));--d3fc-local-series-1:var(--d3fc-series-1,#0366d6);--d3fc-local-series-2:var(--d3fc-series-2,#ff7f0e);--d3fc-local-series-3:var(--d3fc-series-3,#2ca02c);--d3fc-local-series-4:var(--d3fc-series-4,#d62728);--d3fc-local-series-5:var(--d3fc-series-5,#9467bd);--d3fc-local-series-6:var(--d3fc-series-6,#8c564b);--d3fc-local-series-7:var(--d3fc-series-7,#e377c2);--d3fc-local-series-8:var(--d3fc-series-8,#7f7f7f);--d3fc-local-series-9:var(--d3fc-series-9,#bcbd22);--d3fc-local-series-10:var(--d3fc-series-10,#17becf);}:host .chart .series{fill:var(--d3fc-local-series);}:host .chart .series-1{fill:var(--d3fc-local-series-1);}:host .chart .series-2{fill:var(--d3fc-local-series-2);}:host .chart .series-3{fill:var(--d3fc-local-series-3);}:host .chart .series-4{fill:var(--d3fc-local-series-4);}:host .chart .series-5{fill:var(--d3fc-local-series-5);}:host .chart .series-6{fill:var(--d3fc-local-series-6);}:host .chart .series-7{fill:var(--d3fc-local-series-7);}:host .chart .series-8{fill:var(--d3fc-local-series-8);}:host .chart .series-9{fill:var(--d3fc-local-series-9);}:host .chart .series-10{fill:var(--d3fc-local-series-10);}:host{user-select:none;}:host .chart{position:absolute;box-sizing:border-box;left:0;top:0;width:100%;height:100%;padding:12px;overflow:hidden;}:host .chart.heatmap d3fc-group.cartesian-chart,:host .chart.treemap d3fc-group.cartesian-chart{grid-template-columns:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);grid-template-rows:minmax(0em,max-content)auto 1fr auto minmax(0em,max-content);}:host .chart .chart-label{display:none;}:host .chart.heatmap{padding-right:120px;}:host .chart.xyscatter{padding:0;font-size:14px;}:host .chart.xyscatter d3fc-group:first-child{padding:16px;padding-top:0px;width:calc(100% - 32px);height:calc(100% - 16px);}:host .chart.xyscatter .multi-xlabel{position:absolute;bottom:0;height:2.5em;width:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .multi-ylabel{position:absolute;top:0;width:2.5em;height:100%;display:flex;justify-content:center;align-items:center;background:var(--d3fc-legend--background);}:host .chart.xyscatter .outer-container{height:100%;}:host .chart.xyscatter .inner-container{display:inline-grid;overflow-y:auto;width:calc(100% - 16px);height:100%;padding:0;margin:0;}:host .chart.xyscatter .inner-container div{overflow:hidden;}:host .chart.xyscatter .inner-container text.segment,:host .chart.xyscatter .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.xyscatter .inner-container div.xy-scatter-container{margin:5px 0;}:host .chart.sunburst{padding:0;font-size:14px;}:host .chart.sunburst .outer-container{height:100%;}:host .chart.sunburst .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.sunburst .inner-container div{overflow:hidden;}:host .chart.sunburst .inner-container .sunburst-container:not(:only-child) svg{transform:translate(0,-27px);}:host .chart.sunburst .inner-container svg{width:100%;height:100%;}:host .chart.sunburst .inner-container path{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.sunburst .inner-container text.segment,:host .chart.sunburst .inner-container text.parent{text-anchor:middle;user-select:none;pointer-events:none;fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.sunburst .inner-container div.title-container{margin-top:5px;}:host .chart.has-legend{padding-right:120px;}:host .chart.treemap .treemap-container{position:relative;}:host .chart.treemap .treemap-container:not(:only-child){width:calc(100% - 12px);height:calc(100% - 12px);}:host .chart.treemap .outer-container{height:100%;}:host .chart.treemap .inner-container{width:100%;height:100%;display:inline-grid;padding:0;margin:0;overflow-x:hidden;overflow-y:auto;}:host .chart.treemap .inner-container div{overflow:hidden;}:host .chart.treemap .inner-container svg{width:100%;height:100%;}:host .chart.treemap .inner-container .treerect{stroke:var(--d3fc-treedata-axis--lines,var(--d3fc-axis--lines,white));fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host .chart.treemap .inner-container .treerect:hover{cursor:pointer;stroke:var(--d3fc-treedata--hover-highlight,black);stroke-opacity:1;}:host .chart.treemap .inner-container .rootnode{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .branchnode{opacity:0;}:host .chart.treemap .inner-container .branchnode:hover{fill-opacity:0.1;opacity:1;fill:var(--d3fc-treedata--hover-highlight,black);}:host .chart.treemap .inner-container .leafnode{fill-opacity:0.8;}:host .chart.treemap .inner-container .leafnode:hover{fill-opacity:0.5;}:host .chart.treemap .inner-container #hidden{opacity:0;pointer-events:none;z-index:0;}:host .chart.treemap .inner-container .top{font-size:14px;z-index:5;pointer-events:none;}:host .chart.treemap .inner-container .mid{font-size:8px;opacity:0.7;z-index:4;}:host .chart.treemap .inner-container .lower{font-size:0px;opacity:0;z-index:4;}:host .chart.treemap .inner-container text{fill:var(--d3fc-treedata--labels,rgb(51,51,51));}:host .chart.treemap .inner-container text.title{dominant-baseline:hanging;}:host .chart.treemap .inner-container .parent-controls{position:absolute;top:12px;right:auto;left:30px;width:auto;z-index:4;transition:box-shadow 1s;}:host .chart.treemap .inner-container .parent-controls:hover{box-shadow:2px 2px 6px#000;transition:box-shadow 0.2s;}:host .chart .x-label{height:1.2em!important;line-height:1em!important;}:host .chart .x-label,:host .chart .y-label{color:var(--d3fc-label--color,inherit);font-size:14px;}:host .chart d3fc-canvas.plot-area{display:none;}:host .chart.xyscatter d3fc-canvas.plot-area,:host .chart.xyline d3fc-canvas.plot-area,:host .chart.ohlc d3fc-canvas.plot-area,:host .chart.candlestick d3fc-canvas.plot-area,:host .chart.heatmap d3fc-canvas.plot-area{display:block;}:host .chart .y-axis text,:host .chart .x-axis text{fill:var(--d3fc-axis-ticks--color,rgb(80,80,80));font-size:11px;}:host .chart .y-axis path,:host .chart .x-axis path{stroke:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label{display:inline-block;margin:0 10px;cursor:pointer;}:host .chart .splitter-label::after{margin-left:5px;color:var(--d3fc-axis--lines,rgb(180,210,225));}:host .chart .splitter-label:hover::after{color:var(--d3fc-axis-ticks--color,rgb(80,80,80));}:host .chart .splitter-label.disabled::after{color:rgba(80,80,80,0.3);}:host .chart .splitter-label.disabled{cursor:default;}:host .chart .y-label.left-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-desc-icon--mask-image);mask-image:var(--sort-desc-icon--mask-image);}:host .chart .y-label.right-label .splitter-label::after{background-repeat:no-repeat;background-color:var(--icon--color);content:"";display:inline-block;-webkit-mask-size:cover;mask-size:cover;width:16px;height:12px;-webkit-mask-image:var(--sort-asc-icon--mask-image);mask-image:var(--sort-asc-icon--mask-image);}:host .chart.ybar .y-axis path,:host .chart.yline .y-axis path,:host .chart.xyline .y-axis path,:host .chart.xyline .x-axis path,:host .chart.yarea .y-axis path,:host .chart.yscatter .y-axis path,:host .chart.xyscatter .y-axis path,:host .chart.xyscatter .x-axis path,:host .chart.xbar .x-axis path{visibility:hidden;}:host .chart .y-label{white-space:nowrap;}:host .chart .nearbyTip{fill:var(--d3fc-series,rgba(31,119,180,0.5));}:host #dragHandles{position:absolute;top:0px;right:0px;left:auto;pointer-events:none;}:host #dragHandles rect{pointer-events:all;}:host .label rect{fill:none;}:host .legend-container{position:absolute;top:12px;right:12px;left:auto;width:150px;height:280px;}:host .legend-container.legend-color{width:90px;height:150px;}:host .legend-container[borderbox-on-hover="true"]{transition:box-shadow 1s;}:host .legend-container[borderbox-on-hover="true"]:hover{background-color:var(--d3fc-legend--background,#ffffff);transition:box-shadow 0.2s,background-color 0.2s;}:host .legend-container .legend{font-size:8pt;width:100%;}:host .legend-container .legend .cell{cursor:pointer;}:host .legend-container .legend .cell path{fill:var(--d3fc-series,rgba(31,119,180,0.5));stroke:var(--d3fc-series,rgb(31,119,180));}:host .legend-container .legend .cell.hidden path{fill:rgba(204,204,204,0.5);stroke:rgb(204,204,204);}:host .legend-container .legend .cell.hidden circle{fill:rgb(204,204,204)!important;}:host .legend-container text{fill:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .label:hover{fill:rgb(34,160,206);}:host .legend-container #legend-axis path{stroke:var(--d3fc-legend--text,rgb(51,51,51));}:host .legend-container .legend-controls{margin-left:12px;}:host .legend-container .legend-controls #up-arrow,:host .legend-container .legend-controls #down-arrow{cursor:pointer;color:rgb(31,119,180);}:host .legend-container .legend-controls #up-arrow.disabled,:host .legend-container .legend-controls #down-arrow.disabled{cursor:default;color:rgb(51,51,51);}:host .heatmap .legend-container.legend-color{height:200px;}:host .treemap .legend-container.legend-color{height:200px;}:host .treemap .legend-container:not(.legend-color){width:100px;}:host .zoom-controls{position:absolute;top:10px;left:0;width:100%;text-align:center;}:host .zoom-controls button{-webkit-appearance:none;background:var(--plugin--background,rgb(247,247,247));border:1px solid var(--inactive--color,rgb(204,204,204));color:var(--d3fc-label--color,inherit);font-size:12px;padding:8px;opacity:0.5;cursor:pointer;}:host .zoom-controls button:hover{opacity:1;}:host .parent-controls{position:absolute;top:30px;right:145px;width:100%;text-align:right;}:host .parent-controls button{-webkit-appearance:none;background:rgb(247,247,247);border:1px solid rgb(204,204,204);padding:10px;opacity:0.5;cursor:pointer;}:host .parent-controls button:hover{background:rgb(230,230,230);}:host div.tooltip{position:absolute;text-align:left;font-size:12px;font-weight:300;white-space:nowrap;padding:0.5em;background:var(--d3fc-tooltip--background,#ffffff);color:var(--d3fc-tooltip--color,black);border:1px solid var(--d3fc-tooltip--border-color,#777777);box-shadow:var(--d3fc-tooltip--box-shadow,none);pointer-events:none;}:host div.tooltip ul{margin:0;padding:0;list-style-type:none;}';var H4={initial:{type:"number",count:1,names:[]},selectMode:"select"},AD=`${B4}${kD()}`,Ag=["crossValues","mainValues","realValues","splitValues","filter","data","size","colorStyles","textStyles","agg_paths","treemaps","axisMemo","columns_config"];function kD(){let e=document.querySelector("head").querySelectorAll("style"),t=[];return e.forEach(n=>{n.innerText.indexOf("d3fc-")!==-1&&t.push(n.innerText)}),t.join("")}async function VD(e){await customElements.get("perspective-viewer").registerPlugin(e)}function Y4(...e){let t=new Set(e.length>0?e:Mg.map(n=>n.plugin.name));Mg.forEach(n=>{if(t.has(n.plugin.name)){let r=n.plugin.name.toLowerCase().replace(/[ \t\r\n\/]*/g,""),a=`perspective-viewer-d3fc-${r}`;customElements.define(a,class extends HTMLElement{_chart;_settings;render_warning;_initialized;_container;_staged_view;config;constructor(){super(),this._chart=null,this._settings=null,this.render_warning=!0}connectedCallback(){this._initialized||(this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`<style>${AD}</style>`,this.shadowRoot.innerHTML+='<div id="container" class="chart"></div>',this._container=this.shadowRoot.querySelector(".chart"),this._initialized=!0)}get name(){return n.plugin.name}get category(){return n.plugin.category}get select_mode(){return n.plugin.selectMode||"select"}get min_config_columns(){return n.plugin.initial?.count||H4.initial.count}get config_column_names(){return n.plugin.initial?.names||H4.initial.names}get max_cells(){return n.plugin.max_cells||4e3}set max_cells(i){n.plugin.max_cells=i}get max_columns(){return n.plugin.max_columns||50}set max_columns(i){n.plugin.max_columns=i}can_render_column_styles(i,o){return n.can_render_column_styles?.call(this,i,o)}column_style_controls(i,o){return n.column_style_controls?.call(this,i,o)}async render(){var i=document.createElement("canvas"),o=this.shadowRoot.querySelector("#container");i.width=o.offsetWidth,i.height=o.offsetHeight;let l=i.getContext("2d");l.fillStyle=window.getComputedStyle(this).getPropertyValue("--plugin--background")||"white",l.fillRect(0,0,i.width,i.height);let s=window.getComputedStyle(this).getPropertyValue("color"),f=Array.from(this.shadowRoot.querySelectorAll("svg:not(#dragHandles)"));for(let M of f.reverse()){var m=document.createElement("img");let C=0;m.width=M.parentElement?M.parentElement.offsetWidth:C,m.height=M.parentElement?M.parentElement.offsetHeight:C;let A=M.cloneNode(!0);A.hasAttribute("viewBox")||A.setAttribute("viewBox",`0 0 ${m.width} ${m.height}`),A.setAttribute("xmlns","http://www.w3.org/2000/svg");for(let D of A.querySelectorAll("text"))D.setAttribute("fill",s);var w=new XMLSerializer().serializeToString(A);w=w.replace(/[^\x00-\x7F]/g,"");let T=new Promise((D,R)=>{m.onload=D,m.onerror=R});try{m.src=`data:image/svg+xml;base64,${btoa(w)}`,await T}catch{let R=new Promise((H,V)=>{m.onload=H,m.onerror=V});m.src=`data:image/svg+xml;utf8,${w}`,await R}l.drawImage(m,M.parentNode.offsetLeft,M.parentNode.offsetTop,m.width,m.height)}let v=Array.from(this.shadowRoot.querySelectorAll("canvas"));for(let M of v.reverse())l.drawImage(M,M.parentNode.offsetLeft,M.parentNode.offsetTop,M.width/window.devicePixelRatio,M.height/window.devicePixelRatio);return await new Promise(M=>i.toBlob(C=>M(C)),"image/png")}async draw(i,o,l){if(this.offsetParent===null){this._staged_view=[i,o,l];return}this._staged_view=void 0,this._settings&&(this._settings.axisMemo=[[1/0,-1/0],[1/0,-1/0]]),await this.update(i,o,l,!0)}async update(i,o,l,s=!1){if(this.offsetParent===null)return;let f=this.parentElement,m,w,v=n.plugin.name!=="Sunburst";o&&l?m=i.to_columns_string({end_row:l,end_col:o,leaves_only:v}):o?m=i.to_columns_string({end_col:o,leaves_only:v}):l?m=i.to_columns_string({end_row:l,leaves_only:v}):m=i.to_columns_string({leaves_only:v}),w=await Promise.all([f.save(),f.getTable().then(ie=>ie.schema()),i.expression_schema(!1),i.schema(!1),m,i.get_config()]);let[M,C,A,T,D,R]=w,H=JSON.parse(D),V=Object.keys(H),I={row(ie){let be={};for(let Le of V)be[Le]=H[Le][ie];return be}};this.config=M;let z=this.config.columns,j=function(ie){let be=C[ie];return be||(be=A[ie]),be},{columns:Z,group_by:ve,split_by:ye,filter:ue}=R,Ie=H[Object.keys(H)[0]]||[],de=ve.length>0?Ie.reduce((ie,be,Le)=>{let Pe=I.row(Le);if(Pe.__ROW_PATH__&&Pe.__ROW_PATH__.length==ve.length)ie.agg_paths.push(ie.aggs.slice()),ie.rows.push(Pe);else{let Se=Pe.__ROW_PATH__.filter(He=>He!==void 0).length;ie.aggs[Se]=Pe,ie.aggs=ie.aggs.slice(0,Se+1)}return ie},{rows:[],aggs:[],agg_paths:[]}):{rows:Ie.map((ie,be)=>I.row(be))},$=(ie,be)=>ve.length?ie:{...ie,__ROW_PATH__:[be]},we=de.rows.map($),te={realValues:z,crossValues:ve.map(ie=>({name:ie,type:j(ie)})),mainValues:Z.map(ie=>({name:ie,type:T[ie]})),splitValues:ye.map(ie=>({name:ie,type:j(ie)})),filter:ue,data:we,agg_paths:de.agg_paths,...this.config.plugin_config};this._chart=n;let ae={set:(ie,be,Le)=>(Ag.includes(be)||this._container&&this._container.dispatchEvent(new Event("perspective-plugin-update",{bubbles:!0,composed:!0})),ie[be]=Le,!0)},pe=[[1/0,-1/0],[1/0,-1/0]];this._settings=new Proxy({axisMemo:pe,...this._settings,...te},ae),this._settings.splitMainValues&&this._settings.splitMainValues.length>=Z.length&&(this._settings.splitMainValues=[]),Cg(this._container,this._settings),s&&(this._container.innerHTML=""),this._draw(),await new Promise(ie=>requestAnimationFrame(ie))}async clear(){this._container&&(this._container.innerHTML="")}_draw(){if(this.offsetParent!==null){let i=Re(this._container),o=`chart ${r}`;this._settings.size=this._container.getBoundingClientRect(),this._settings.data.length>0?this._chart(i.attr("class",o),this._settings):i.attr("class",`${o} disabled`)}}async resize(i){if(this.offsetParent!==null)if(this._settings?.data!==void 0)this._draw();else{let[o,l,s]=this._staged_view;this._staged_view=void 0,this.draw(o,l,s)}}async restyle(i,o,l){let s=this._settings;s&&(delete s.colorStyles,delete s.textStyles,this.isConnected&&(Cg(this._container,this._settings),this.resize(i)))}async delete(){this._container.innerHTML=""}getContainer(){return this._container}save(){let i={...this._settings};return Ag.forEach(o=>{delete i[o]}),i}restore(i,o){let l={};for(let s of Ag)this._settings?.[s]!==void 0&&(l[s]=this._settings?.[s]);this._settings={...l,...i,columns_config:o}}}),customElements.whenDefined("perspective-viewer").then(()=>VD(a))}})}Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector);Y4();
//# sourceMappingURL=perspective-viewer-d3fc.js.map
